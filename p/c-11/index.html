<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="1. C++11çš„å‘å±•å†å² C++å‡ ä¸ªé‡è¦çš„ç‰ˆæœ¬ï¼šC++98ï¼ŒC++11ï¼ŒC++20\nC++11å¼•å…¥äº†å¤§é‡æ›´æ”¹ï¼Œæ ‡å‡†åŒ–äº†æ—¢æœ‰å®è·µï¼Œå¹¶æ”¹è¿›äº†å¯¹C++ç¨‹åºå‘˜å¯ç”¨çš„æŠ½è±¡ã€‚åœ¨å®ƒæœ€ç»ˆç”±ISOåœ¨2011å¹´8æœˆ 12æ—¥é‡‡çº³å‰ï¼Œäººä»¬æ›¾ä½¿ç”¨åç§°â€œC++0xâ€ï¼Œå› ä¸ºå®ƒæ›¾è¢«æœŸå¾…åœ¨ 2010 å¹´ä¹‹å‰å‘å¸ƒã€‚C++03 ä¸C++11æœŸé—´èŠ±äº† 8 å¹´æ—¶é—´ï¼Œæ•…è€Œè¿™æ˜¯è¿„ä»Šä¸ºæ­¢æœ€é•¿çš„ç‰ˆæœ¬é—´éš”ã€‚ä»é‚£æ—¶èµ·ï¼ŒC++æœ‰è§„å¾‹åœ°æ¯3å¹´æ›´æ–°ä¸€æ¬¡\n">
<title>ã€C&#43;&#43;åˆé˜¶ã€‘11C&#43;&#43;11</title>

<link rel='canonical' href='https://Amarantos-Arrebol.github.io/p/c-11/'>

<link rel="stylesheet" href="/scss/style.min.f62fad6b64852a4093ae5ceb06b3f1a3f8409c5b5dd5c91806fbb732800ca9f9.css"><meta property='og:title' content="ã€C++åˆé˜¶ã€‘11C++11">
<meta property='og:description' content="1. C++11çš„å‘å±•å†å² C++å‡ ä¸ªé‡è¦çš„ç‰ˆæœ¬ï¼šC++98ï¼ŒC++11ï¼ŒC++20\nC++11å¼•å…¥äº†å¤§é‡æ›´æ”¹ï¼Œæ ‡å‡†åŒ–äº†æ—¢æœ‰å®è·µï¼Œå¹¶æ”¹è¿›äº†å¯¹C++ç¨‹åºå‘˜å¯ç”¨çš„æŠ½è±¡ã€‚åœ¨å®ƒæœ€ç»ˆç”±ISOåœ¨2011å¹´8æœˆ 12æ—¥é‡‡çº³å‰ï¼Œäººä»¬æ›¾ä½¿ç”¨åç§°â€œC++0xâ€ï¼Œå› ä¸ºå®ƒæ›¾è¢«æœŸå¾…åœ¨ 2010 å¹´ä¹‹å‰å‘å¸ƒã€‚C++03 ä¸C++11æœŸé—´èŠ±äº† 8 å¹´æ—¶é—´ï¼Œæ•…è€Œè¿™æ˜¯è¿„ä»Šä¸ºæ­¢æœ€é•¿çš„ç‰ˆæœ¬é—´éš”ã€‚ä»é‚£æ—¶èµ·ï¼ŒC++æœ‰è§„å¾‹åœ°æ¯3å¹´æ›´æ–°ä¸€æ¬¡\n">
<meta property='og:url' content='https://Amarantos-Arrebol.github.io/p/c-11/'>
<meta property='og:site_name' content='PursUnreçš„åšå®¢'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='C&#43;&#43;è¿›é˜¶' /><meta property='article:tag' content='c&#43;&#43;11' /><meta property='article:published_time' content='2025-11-12T00:00:00&#43;00:00'/><meta property='article:modified_time' content='2025-11-18T00:00:00&#43;00:00'/><meta property='og:image' content='https://Amarantos-Arrebol.github.io/p/c-11/%E3%80%90%E5%93%B2%E9%A3%8E%E5%A3%81%E7%BA%B8%E3%80%914K-%E5%8A%A8%E6%BC%AB-%E6%B5%B7%E8%BE%B9%E6%9D%91%E5%BA%84.png' />
<meta name="twitter:title" content="ã€C++åˆé˜¶ã€‘11C++11">
<meta name="twitter:description" content="1. C++11çš„å‘å±•å†å² C++å‡ ä¸ªé‡è¦çš„ç‰ˆæœ¬ï¼šC++98ï¼ŒC++11ï¼ŒC++20\nC++11å¼•å…¥äº†å¤§é‡æ›´æ”¹ï¼Œæ ‡å‡†åŒ–äº†æ—¢æœ‰å®è·µï¼Œå¹¶æ”¹è¿›äº†å¯¹C++ç¨‹åºå‘˜å¯ç”¨çš„æŠ½è±¡ã€‚åœ¨å®ƒæœ€ç»ˆç”±ISOåœ¨2011å¹´8æœˆ 12æ—¥é‡‡çº³å‰ï¼Œäººä»¬æ›¾ä½¿ç”¨åç§°â€œC++0xâ€ï¼Œå› ä¸ºå®ƒæ›¾è¢«æœŸå¾…åœ¨ 2010 å¹´ä¹‹å‰å‘å¸ƒã€‚C++03 ä¸C++11æœŸé—´èŠ±äº† 8 å¹´æ—¶é—´ï¼Œæ•…è€Œè¿™æ˜¯è¿„ä»Šä¸ºæ­¢æœ€é•¿çš„ç‰ˆæœ¬é—´éš”ã€‚ä»é‚£æ—¶èµ·ï¼ŒC++æœ‰è§„å¾‹åœ°æ¯3å¹´æ›´æ–°ä¸€æ¬¡\n"><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://Amarantos-Arrebol.github.io/p/c-11/%E3%80%90%E5%93%B2%E9%A3%8E%E5%A3%81%E7%BA%B8%E3%80%914K-%E5%8A%A8%E6%BC%AB-%E6%B5%B7%E8%BE%B9%E6%9D%91%E5%BA%84.png' /><link rel="stylesheet" href="/css/custom.min.css">
<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>


<script>
$(document).ready(function() {
    
    $.getScript("https://cdn.jsdelivr.net/gh/huangwb8/bloghelper@latest/mouse/halo-dream/fairyDustCursor.min.js");
});
</script>


<style type="text/css">
.main-content img, body {
    cursor: url(https://cdn.jsdelivr.net/gh/huangwb8/bloghelper@latest/mouse/halo-dream/cursor/breeze/Arrow.cur), auto;
}

.actions > div,
.expand-done,
.main-content figure > figcaption div,
.navbar-above .navbar-nav .item,
.navbar-searchicon,
.navbar-slideicon,
.photos .picture-details,
.widget .ad-tag .click-close,
a,
button {
    cursor: url(https://cdn.jsdelivr.net/gh/huangwb8/bloghelper@latest/mouse/halo-dream/cursor/breeze/Hand.cur), auto;
}

blockquote,
code,
h1, h2, h3, h4, h5, h6,
hr,
input[type=text],
li,
p,
td,
textarea,
th {
    cursor: url(https://cdn.jsdelivr.net/gh/huangwb8/bloghelper@latest/mouse/halo-dream/cursor/breeze/IBeam.cur), auto;
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    
    const articleContent = document.querySelector('.article-content');
    if (!articleContent) return;
    
    
    function processTextNode(node) {
        if (node.nodeType === Node.TEXT_NODE) {
            const text = node.textContent;
            
            const regex = /==([^=\n`]+?)==/g;
            
            if (regex.test(text)) {
                const parent = node.parentNode;
                
                if (parent && !['CODE', 'PRE', 'KBD', 'SAMP'].includes(parent.tagName)) {
                    const fragment = document.createDocumentFragment();
                    let lastIndex = 0;
                    
                    text.replace(/==([^=\n`]+?)==/g, function(match, content, offset) {
                        
                        if (offset > lastIndex) {
                            fragment.appendChild(document.createTextNode(text.slice(lastIndex, offset)));
                        }
                        
                        
                        const mark = document.createElement('mark');
                        mark.textContent = content;
                        fragment.appendChild(mark);
                        
                        lastIndex = offset + match.length;
                        return match;
                    });
                    
                    
                    if (lastIndex < text.length) {
                        fragment.appendChild(document.createTextNode(text.slice(lastIndex)));
                    }
                    
                    parent.replaceChild(fragment, node);
                }
            }
        } else if (node.nodeType === Node.ELEMENT_NODE && 
                   !['CODE', 'PRE', 'SCRIPT', 'STYLE', 'KBD', 'SAMP'].includes(node.tagName)) {
            
            Array.from(node.childNodes).forEach(processTextNode);
        }
    }
    
    processTextNode(articleContent);
});
</script>

    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside
  class="sidebar left-sidebar sticky "
>
  <button
    class="hamburger hamburger--spin"
    type="button"
    id="toggle-menu"
    aria-label="åˆ‡æ¢èœå•"
  >
    <span class="hamburger-box">
      <span class="hamburger-inner"></span>
    </span>
  </button>

  <header>
     
    <figure class="site-avatar">
      <a href="/">
           
        <img
          src="/img/avatar_hu_c3bef4dff24cf0d9.png"
          width="300"
          height="300"
          class="site-logo"
          loading="lazy"
          alt="Avatar"
        />
         
      </a>
      
      <span class="emoji">ğŸŒ¿</span>
      
    </figure>
     

    <div class="site-meta">
      <h1 class="site-name">
        <a href="/">PursUnreçš„åšå®¢</a>
      </h1>
      <h2 class="site-description">æ¬¢è¿æ¥åˆ°æˆ‘çš„ç½‘ç«™ï¼Œæ­¤åšå®¢ç”±ã€Hugo&#43;Stackã€‘æ¥è¿›è¡Œæ­å»ºï¼Œä¸»è¦åˆ†äº«ä¸ªäººå­¦ä¹ ç¬”è®°</h2>
    </div>
  </header><ol class="menu-social">
    
    <li>
      <a
        href="https://blog.csdn.net/green_tangerine?spm=1000.2115.3001.5343"
        target="_blank"
        
        title="CSDN"
        
        rel="me"
      >
          <?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1762020245107" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4643" width="32" height="32" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M568.917333 626.005333l16.213334 2.474667c5.674667-0.64 10.965333-1.109333 15.914666-1.578667 9.941333-0.938667 18.688-1.792 27.221334-3.498666 38.4-7.68 67.968-27.434667 83.2-64.768 10.325333-25.002667 11.690667-51.242667 8.533333-77.653334-4.864-41.088-23.68-72.96-64.085333-88.106666-39.125333-14.634667-78.336-9.301333-117.077334 2.56-6.186667 1.92-9.685333 6.954667-10.24 13.653333-1.152 13.141333-2.304 26.24-3.541333 39.338667-4.821333 51.328-9.557333 102.656-14.208 153.984-0.896 9.642667 2.304 14.506667 12.202667 16.213333 15.744 2.816 31.445333 5.205333 45.866666 7.381333z m21.589334-33.450666c-2.602667 0.170667-5.12 0.341333-7.381334 0.554666l-10.624-0.725333a2204.416 2204.416 0 0 0-15.36-0.981333c-5.76-0.256-8.149333-2.816-7.509333-8.96 1.536-15.36 2.901333-30.634667 4.266667-45.994667l2.048-22.912 2.858666-30.848 4.693334-51.114667v-0.170666c0.426667-4.565333 0.768-8.533333 6.4-9.770667 20.053333-4.352 40.234667-6.698667 60.458666-1.962667 28.032 6.570667 43.093333 25.813333 49.194667 52.906667 5.546667 24.618667 5.205333 49.152-4.565333 72.746667-11.776 28.416-36.096 40.021333-64.426667 45.141333-6.826667 1.28-13.781333 1.706667-20.053333 2.133333zM308.437333 606.208c23.765333 16.341333 50.986667 20.778667 79.189334 20.992 17.152 0.170667 34.005333-1.706667 49.92-8.448 25.216-10.666667 38.101333-30.421333 41.429333-56.917333 3.328-26.496-6.144-47.744-29.098667-61.568a242.346667 242.346667 0 0 0-38.4-18.218667c-8.405333-3.242667-16.981333-5.930667-25.514666-8.618667a367.957333 367.957333 0 0 1-29.781334-10.325333c-17.28-7.253333-18.517333-19.498667-5.034666-32.725333 17.237333-16.896 49.621333-18.176 69.888-2.133334 5.845333 4.608 10.837333 10.368 15.744 16.085334l1.365333 1.578666c6.144 7.125333 12.757333 8.021333 19.925333 1.962667 11.776-9.813333 11.690667-25.6-0.426666-36.693333-22.570667-20.650667-49.408-29.696-79.573334-26.197334-27.904 3.242667-51.626667 15.189333-66.986666 39.936-13.994667 22.613333-9.088 48.554667 13.397333 62.634667 10.24 6.442667 21.973333 10.666667 33.536 14.933333 2.133333 0.725333 4.181333 1.493333 6.229333 2.261334 8.234667 3.029333 16.512 5.802667 24.874667 8.533333 10.368 3.413333 20.736 6.869333 30.890667 10.837333 12.458667 4.906667 19.498667 14.677333 19.029333 28.885334-0.597333 16.512-7.637333 28.586667-23.808 33.792-27.946667 9.130667-83.2 6.4-102.058667-30.421334-3.84-7.296-10.368-8.021333-17.792-3.925333-13.44 7.466667-17.28 23.04-7.466666 34.986667 5.930667 7.168 12.8 13.482667 20.48 18.773333zM805.674667 410.538667c3.882667-1.962667 7.850667-4.181333 11.861333-6.485334 9.130667-5.12 18.730667-10.581333 29.013333-13.653333 30.592-9.130667 61.269333-7.509333 88.490667 11.136 21.162667 14.506667 30.293333 36.096 28.458667 61.354667-2.346667 32.085333-5.205333 64.170667-8.021334 96.256-1.408 15.786667-2.816 31.530667-4.138666 47.274666-1.408 16.725333-18.56 26.453333-33.066667 18.090667-2.688-1.536-4.778667-6.826667-4.565333-10.24 1.365333-21.12 3.157333-42.197333 4.992-63.232l0.768-9.002667 2.261333-25.216c1.749333-19.2 3.498667-38.4 4.693333-57.6 0.896-13.141333-4.693333-23.893333-16.298666-31.232-30.848-19.498667-71.68-9.728-94.208 22.485334-15.616 22.442667-21.205333 47.616-23.04 74.410666-1.365333 20.352-3.328 40.661333-5.333334 60.928l-2.944 30.890667c-0.512 5.973333-3.669333 9.002667-9.386666 9.386667a89.386667 89.386667 0 0 1-12.373334 0c-10.496-0.810667-14.890667-6.656-13.994666-17.066667 2.304-26.197333 4.48-52.48 6.656-78.677333l2.773333-32.853334 2.005333-24.234666c1.493333-18.474667 2.986667-36.906667 4.693334-55.338667 1.365333-15.018667 19.328-25.856 32.64-19.072 2.986667 1.536 4.778667 5.248 6.314666 8.362667 0.597333 1.28 1.152 2.432 1.749334 3.328zM95.445333 603.008c22.698667 18.346667 49.493333 23.893333 77.952 24.064 27.946667-0.128 54.570667-5.12 78.549334-20.650667a22.357333 22.357333 0 0 0 10.965333-23.893333 22.186667 22.186667 0 0 0-13.184-17.706667c-6.698667-2.901333-11.434667 1.194667-16.341333 5.546667l-0.298667 0.213333a72.149333 72.149333 0 0 1-17.706667 11.776c-22.613333 10.112-46.336 11.008-70.186666 5.504-23.466667-5.461333-38.954667-20.138667-44.032-43.904-7.893333-36.949333-0.981333-71.253333 23.168-100.565333 17.834667-21.76 41.813333-31.018667 69.205333-21.76 9.173333 3.072 17.322667 9.386667 25.344 15.616 2.261333 1.749333 4.522667 3.498667 6.741333 5.12 7.210667 5.376 13.525333 5.546667 19.2-1.450667a23.338667 23.338667 0 0 0-1.962666-32.682666 87.381333 87.381333 0 0 0-58.410667-23.552c-48.128-1.194667-82.901333 21.888-106.24 62.677333-16.341333 28.458667-21.376 59.477333-16.938667 92.032 3.456 25.472 13.909333 47.232 34.133334 63.573333z" fill="#707070" p-id="4644"></path></svg> 
      </a>
    </li>
    
    <li>
      <a
        href="https://gitee.com/green-citrus"
        target="_blank"
        
        title="Gitee"
        
        rel="me"
      >
          <?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1762076613092" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2602" width="32" height="32" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M690.194 479.706H496.998v0.004c-9.275 0-16.798 7.518-16.8 16.795l-0.016 42h-0.004c-0.002 9.277 7.518 16.799 16.796 16.803h0.004l117.618-0.004c9.277 0 16.8 7.522 16.8 16.8v8.4c0 27.832-22.564 50.398-50.399 50.398h-159.61c-9.277 0-16.797-7.522-16.797-16.8l-0.004-159.597h-0.002c0-27.834 22.562-50.398 50.397-50.4h0.002l235.164 0.002v-0.011c9.275 0 16.794-7.516 16.8-16.789l0.037-41.999h0.011c0.006-9.277-7.512-16.804-16.79-16.81h-0.01l-235.195 0.01c-69.586 0-125.998 56.412-125.998 125.997L329 689.701c0 9.277 7.522 16.8 16.8 16.8h247.796c62.628 0 113.398-50.768 113.398-113.397v-96.599c0-9.277-7.522-16.799-16.8-16.799z" p-id="2603" fill="#515151"></path></svg> 
      </a>
    </li>
    
    <li>
      <a
        href="https://github.com/Amarantos-Arrebol"
        target="_blank"
        
        title="GitHub"
        
        rel="me"
      >
          <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>


 
      </a>
    </li>
    
  </ol><ol class="menu" id="main-menu">
      
    <li >
      <a
        href="/"
        
      >
           <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>


 
        <span>ä¸»é¡µ</span>
      </a>
    </li>
     
    <li >
      <a
        href="/archives/"
        
      >
           <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>


 
        <span>å½’æ¡£</span>
      </a>
    </li>
     
    <li >
      <a
        href="/search/"
        
      >
           <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>


 
        <span>æœç´¢</span>
      </a>
    </li>
     
    <li >
      <a
        href="/%E6%8A%80%E6%9C%AF%E9%93%BE%E6%8E%A5/"
        
      >
           <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>


 
        <span>æŠ€æœ¯é“¾æ¥</span>
      </a>
    </li>
    
    <li class="menu-bottom-section">
      <ol class="menu"> 
        <li id="dark-mode-toggle">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>


 <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



          <span>æš—è‰²æ¨¡å¼</span>
        </li>
        
      </ol>
    </li>
  </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">ç›®å½•</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ul>
    <li><a href="#1-c11çš„å‘å±•å†å²">1. C++11çš„å‘å±•å†å²</a></li>
    <li><a href="#2åˆ—è¡¨åˆå§‹åŒ–">2.åˆ—è¡¨åˆå§‹åŒ–</a>
      <ul>
        <li><a href="#21-c98ä¼ ç»Ÿçš„">2.1 C++98ä¼ ç»Ÿçš„</a></li>
        <li><a href="#22-c11ä¸­çš„">2.2 C++11ä¸­çš„</a></li>
        <li><a href="#23-c11ä¸­çš„stdinitializer_list">2.3 C++11ä¸­çš„std::initializer_list</a></li>
      </ul>
    </li>
    <li><a href="#3å³å€¼å¼•ç”¨å’Œç§»åŠ¨è¯­ä¹‰">3.å³å€¼å¼•ç”¨å’Œç§»åŠ¨è¯­ä¹‰</a>
      <ul>
        <li><a href="#31-å·¦å€¼å’Œå³å€¼">3.1 å·¦å€¼å’Œå³å€¼</a></li>
        <li><a href="#32-å·¦å€¼å¼•ç”¨å’Œå³å€¼å¼•ç”¨">3.2 å·¦å€¼å¼•ç”¨å’Œå³å€¼å¼•ç”¨</a></li>
        <li><a href="#33-å¼•ç”¨å»¶é•¿ç”Ÿå‘½å‘¨æœŸ">3.3 å¼•ç”¨å»¶é•¿ç”Ÿå‘½å‘¨æœŸ</a></li>
        <li><a href="#34-å·¦å€¼å’Œå³å€¼çš„å‚æ•°åŒ¹é…">3.4 å·¦å€¼å’Œå³å€¼çš„å‚æ•°åŒ¹é…</a></li>
        <li><a href="#35-å³å€¼å¼•ç”¨å’Œç§»åŠ¨è¯­ä¹‰">3.5 å³å€¼å¼•ç”¨å’Œç§»åŠ¨è¯­ä¹‰</a>
          <ul>
            <li><a href="#351å·¦å€¼å¼•ç”¨å­˜åœ¨çš„é—®é¢˜">3.5.1å·¦å€¼å¼•ç”¨å­˜åœ¨çš„é—®é¢˜</a></li>
            <li><a href="#352ç§»åŠ¨æ„é€ å’Œç§»åŠ¨èµ‹å€¼">3.5.2ç§»åŠ¨æ„é€ å’Œç§»åŠ¨èµ‹å€¼</a>
              <ul>
                <li><a href="#ç§»åŠ¨æ„é€ ">ç§»åŠ¨æ„é€ </a></li>
                <li><a href="#ç§»åŠ¨èµ‹å€¼">ç§»åŠ¨èµ‹å€¼</a></li>
                <li><a href="#æ€»ç»“">æ€»ç»“</a></li>
              </ul>
            </li>
            <li><a href="#353å³å€¼å¼•ç”¨å’Œç§»åŠ¨è¯­ä¹‰åœ¨ä¼ å‚ä¸­çš„ææ•ˆ">3.5.3å³å€¼å¼•ç”¨å’Œç§»åŠ¨è¯­ä¹‰åœ¨ä¼ å‚ä¸­çš„ææ•ˆ</a></li>
          </ul>
        </li>
        <li><a href="#36-ç±»å‹åˆ†ç±»">3.6 ç±»å‹åˆ†ç±»</a></li>
        <li><a href="#37-å¼•ç”¨æŠ˜å ">3.7 å¼•ç”¨æŠ˜å </a></li>
        <li><a href="#38-å®Œç¾è½¬å‘">3.8 å®Œç¾è½¬å‘</a></li>
      </ul>
    </li>
    <li><a href="#4å¯å˜å‚æ•°æ¨¡æ¿">4.å¯å˜å‚æ•°æ¨¡æ¿</a>
      <ul>
        <li><a href="#41-åŸºæœ¬è¯­æ³•åŠåŸç†">4.1 åŸºæœ¬è¯­æ³•åŠåŸç†</a></li>
        <li><a href="#42-åŒ…æ‰©å±•">4.2 åŒ…æ‰©å±•</a></li>
        <li><a href="#43-emplaceç³»åˆ—æ¥å£">4.3 emplaceç³»åˆ—æ¥å£</a>
          <ul>
            <li><a href="#åŸºæœ¬ä»‹ç»">åŸºæœ¬ä»‹ç»</a></li>
            <li><a href="#listçš„æ¨¡æ‹Ÿå®ç°">Listçš„æ¨¡æ‹Ÿå®ç°</a>
              <ul>
                <li><a href="#listh">List.h</a></li>
                <li><a href="#testcpp">Test.cpp</a></li>
              </ul>
            </li>
            <li><a href="#æ€»ç»“-1">æ€»ç»“</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#5æ–°çš„ç±»åŠŸèƒ½">5.æ–°çš„ç±»åŠŸèƒ½</a>
      <ul>
        <li><a href="#51-é»˜è®¤çš„ç§»åŠ¨æ„é€ å’Œç§»åŠ¨èµ‹å€¼">5.1 é»˜è®¤çš„ç§»åŠ¨æ„é€ å’Œç§»åŠ¨èµ‹å€¼</a></li>
        <li><a href="#52-æˆå‘˜å˜é‡å£°æ˜æ—¶ç»™ç¼ºçœå€¼">5.2 æˆå‘˜å˜é‡å£°æ˜æ—¶ç»™ç¼ºçœå€¼</a></li>
        <li><a href="#53-defultå’Œdelete">5.3 defultå’Œdelete</a></li>
        <li><a href="#54-finalä¸override">5.4 finalä¸override</a></li>
      </ul>
    </li>
    <li><a href="#6-stlä¸­ä¸€äº›å˜åŒ–">6. STLä¸­ä¸€äº›å˜åŒ–</a></li>
    <li><a href="#7-lambda">7. lambda</a>
      <ul>
        <li><a href="#71-lambdaè¡¨è¾¾å¼è¯­æ³•">7.1 lambdaè¡¨è¾¾å¼è¯­æ³•</a></li>
        <li><a href="#72-lambdaçš„åº”ç”¨">7.2 lambdaçš„åº”ç”¨</a></li>
        <li><a href="#73-æ•æ‰åˆ—è¡¨">7.3 æ•æ‰åˆ—è¡¨</a></li>
        <li><a href="#74-lambdaçš„åŸç†">7.4 lambdaçš„åŸç†</a></li>
      </ul>
    </li>
    <li><a href="#8åŒ…è£…å™¨">8.åŒ…è£…å™¨</a>
      <ul>
        <li><a href="#82-function">8.2 function</a></li>
        <li><a href="#81bind">8.1bind</a></li>
      </ul>
    </li>
  </ul>
</nav>
        </div>
    </section>

            
        
        
        
        <div id="back-to-top">
            <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg">
                <path d="M512 298.666667l-298.666667 310.912L283.52 682.666667 512 445.312 740.48 682.666667 810.666667 609.578667z"></path>
            </svg>
        </div>
    </aside>



<script>
(function() {
    const backToTopButton = document.getElementById('back-to-top');
    if (!backToTopButton) return;
    
    
    window.addEventListener('scroll', function() {
        if (window.pageYOffset > 300) {
            backToTopButton.classList.add('show');
        } else {
            backToTopButton.classList.remove('show');
        }
    });
    
    
    backToTopButton.addEventListener('click', function() {
        window.scrollTo({
            top: 0,
            behavior: 'smooth'
        });
    });
})();
</script>


            <main class="main full-width">
    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="/p/c-11/">
                <img src="/p/c-11/%E3%80%90%E5%93%B2%E9%A3%8E%E5%A3%81%E7%BA%B8%E3%80%914K-%E5%8A%A8%E6%BC%AB-%E6%B5%B7%E8%BE%B9%E6%9D%91%E5%BA%84_hu_b7824153d5a6aae8.png"
                        srcset="/p/c-11/%E3%80%90%E5%93%B2%E9%A3%8E%E5%A3%81%E7%BA%B8%E3%80%914K-%E5%8A%A8%E6%BC%AB-%E6%B5%B7%E8%BE%B9%E6%9D%91%E5%BA%84_hu_b7824153d5a6aae8.png 800w, /p/c-11/%E3%80%90%E5%93%B2%E9%A3%8E%E5%A3%81%E7%BA%B8%E3%80%914K-%E5%8A%A8%E6%BC%AB-%E6%B5%B7%E8%BE%B9%E6%9D%91%E5%BA%84_hu_5c708bec2b75cbed.png 1600w"
                        width="800" 
                        height="600" 
                        loading="lazy"
                        alt="Featured image of post ã€C&#43;&#43;åˆé˜¶ã€‘11C&#43;&#43;11" />
                
            </a>
        </div>
    

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/c&#43;&#43;/" style="background-color: #FF8F8F; color: #fff;">
                C&#43;&#43;
            </a>
        
            <a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" style="background-color: #B7A3E3; color: #fff;">
                å­¦ä¹ ç¬”è®°
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/p/c-11/">ã€C&#43;&#43;åˆé˜¶ã€‘11C&#43;&#43;11</a>
        </h2>
    
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div class="article-time-item">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">2025-11-12</time>
            </div><span class="article-time-divider">|</span>
            <div class="article-time-item">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-file-pencil"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M14 3v4a1 1 0 0 0 1 1h4" /><path d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z" /><path d="M10 18l5 -5a1.414 1.414 0 0 0 -2 -2l-5 5v2h2z" /></svg>
                <time class="article-time--updated">2025-11-18</time>
            </div><span class="article-time-divider">|</span>
            <div class="article-time-item">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-file-word"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M14 3v4a1 1 0 0 0 1 1h4" /><path d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2" /><path d="M9 12l1.333 5l1.667 -4l1.667 4l1.333 -5" /></svg>
                <span class="article-time--wordcount">22126 å­—
                </span>
            </div>
        

        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <h1 id="1-c11çš„å‘å±•å†å²">1. C++11çš„å‘å±•å†å²
</h1><p>C++å‡ ä¸ªé‡è¦çš„ç‰ˆæœ¬ï¼šC++98ï¼ŒC++11ï¼ŒC++20</p>
<blockquote>
<p>C++11å¼•å…¥äº†å¤§é‡æ›´æ”¹ï¼Œæ ‡å‡†åŒ–äº†æ—¢æœ‰å®è·µï¼Œå¹¶æ”¹è¿›äº†å¯¹C++ç¨‹åºå‘˜å¯ç”¨çš„æŠ½è±¡ã€‚åœ¨å®ƒæœ€ç»ˆç”±ISOåœ¨2011å¹´8æœˆ 12æ—¥é‡‡çº³å‰ï¼Œäººä»¬æ›¾ä½¿ç”¨åç§°â€œC++0xâ€ï¼Œå› ä¸ºå®ƒæ›¾è¢«æœŸå¾…åœ¨ 2010 å¹´ä¹‹å‰å‘å¸ƒã€‚C++03 ä¸C++11æœŸé—´èŠ±äº† 8 å¹´æ—¶é—´ï¼Œæ•…è€Œè¿™æ˜¯è¿„ä»Šä¸ºæ­¢æœ€é•¿çš„ç‰ˆæœ¬é—´éš”ã€‚ä»é‚£æ—¶èµ·ï¼ŒC++æœ‰è§„å¾‹åœ°æ¯3å¹´æ›´æ–°ä¸€æ¬¡</p>
</blockquote>
<p><img src="/p/c-11/index.assets/image-20251112130427189.png"
	width="1106"
	height="380"
	
	loading="lazy"
	
		alt="image-20251112130427189"
	
	
		class="gallery-image" 
		data-flex-grow="291"
		data-flex-basis="698px"
	
></p>
<h1 id="2åˆ—è¡¨åˆå§‹åŒ–">2.åˆ—è¡¨åˆå§‹åŒ–
</h1><h2 id="21-c98ä¼ ç»Ÿçš„">2.1 C++98ä¼ ç»Ÿçš„
</h2><p>C++98ä¸­ä¸€èˆ¬æ•°ç»„å’Œç»“æ„ä½“å¯ä»¥ç”¨ {} è¿›è¡Œåˆå§‹åŒ–</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">struct</span> <span class="nc">Point</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">_x</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">_y</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">array1</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">array2</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">0</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl">    <span class="n">Point</span> <span class="n">p</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="22-c11ä¸­çš„">2.2 C++11ä¸­çš„
</h2><p>C++11ä»¥åè¯•å›¾å®ç°ä¸€åˆ‡å¯¹è±¡çš†å¯ç”¨ {} åˆå§‹åŒ–ï¼Œ{}åˆå§‹åŒ–ä¹Ÿå«åˆ—è¡¨åˆå§‹åŒ–</p>
<p>1ï¼‰å†…ç½®ç±»å‹æ”¯æŒç”¨ {} åˆå§‹åŒ–</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="c1">//å†…ç½®ç±»å‹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">int</span> <span class="n">x1</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">2</span> <span class="p">};</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>2ï¼‰è‡ªå®šä¹‰ç±»å‹ä¹Ÿæ”¯æŒç”¨ {} åˆå§‹åŒ–</p>
<blockquote>
<p><strong>æœ¬è´¨æ˜¯æ„é€ å‡½æ•°æ”¯æŒçš„éšå¼ç±»å‹è½¬æ¢</strong>ï¼Œä¸­é—´ä¼šäº§ç”Ÿä¸´æ—¶å¯¹è±¡ï¼Œç¼–è¯‘å™¨ä¼˜åŒ–åå˜æˆç›´æ¥æ„é€ </p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Date</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">	<span class="n">Date</span><span class="p">(</span><span class="kt">int</span> <span class="n">year</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="kt">int</span> <span class="n">month</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="kt">int</span> <span class="n">day</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="o">:</span><span class="n">_year</span><span class="p">(</span><span class="n">year</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="p">,</span><span class="n">_month</span><span class="p">(</span><span class="n">month</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="p">,</span><span class="n">_day</span><span class="p">(</span><span class="n">day</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;Date(int year = 1, int month = 1, int day = 1)&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="n">Date</span><span class="p">(</span><span class="k">const</span> <span class="n">Date</span><span class="o">&amp;</span> <span class="n">d</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="o">:</span><span class="n">_year</span><span class="p">(</span><span class="n">d</span><span class="p">.</span><span class="n">_year</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="p">,</span> <span class="n">_month</span><span class="p">(</span><span class="n">d</span><span class="p">.</span><span class="n">_month</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="p">,</span> <span class="n">_day</span><span class="p">(</span><span class="n">d</span><span class="p">.</span><span class="n">_day</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">private</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">	<span class="kt">int</span> <span class="n">_year</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="kt">int</span> <span class="n">_month</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="kt">int</span> <span class="n">_day</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">PushBack</span><span class="p">(</span><span class="k">const</span> <span class="n">Date</span><span class="o">&amp;</span> <span class="n">d</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//æœ¬è´¨éƒ½æ˜¯æ„é€ å‡½æ•°æ”¯æŒçš„éšå¼ç±»å‹è½¬æ¢
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">Date</span> <span class="n">d0</span> <span class="o">=</span> <span class="mi">2020</span><span class="p">;</span> <span class="c1">// å•å‚æ•°çš„éšå¼ç±»å‹è½¬æ¢
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">Date</span> <span class="n">d1</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">2025</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span> <span class="p">};</span> <span class="c1">// {}åˆ—è¡¨åˆå§‹åŒ–
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="k">const</span> <span class="n">Date</span><span class="o">&amp;</span> <span class="n">r1</span> <span class="o">=</span> <span class="mi">2020</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="k">const</span> <span class="n">Date</span><span class="o">&amp;</span> <span class="n">r2</span> <span class="o">=</span> <span class="p">{</span><span class="mi">2025</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">};</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="n">PushBack</span><span class="p">({</span> <span class="mi">2025</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">11</span> <span class="p">});</span>
</span></span><span class="line"><span class="cl">	<span class="n">PushBack</span><span class="p">({</span> <span class="mi">2020</span><span class="p">,</span> <span class="mi">12</span> <span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>3ï¼‰{} åˆå§‹åŒ–çš„è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥çœç•¥=</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="c1">//{} åˆå§‹åŒ–å¯ä»¥çœç•¥ =
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">Date</span> <span class="n">d2</span><span class="p">{</span> <span class="mi">2025</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">17</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl"><span class="k">const</span> <span class="n">Date</span><span class="o">&amp;</span> <span class="n">r3</span><span class="p">{</span> <span class="mi">2025</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//æ³¨æ„ï¼šå•å‚æ•°çš„åˆå§‹åŒ–ä¸æ”¯æŒçœç•¥
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">Date</span> <span class="n">d3</span> <span class="mi">2025</span><span class="p">;</span> <span class="c1">// err
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>4ï¼‰ä½¿ç”¨å®¹å™¨ push/insert å¤šå‚æ•°æ„é€ çš„å¯¹è±¡æ—¶ï¼Œä½¿ç”¨{}ä¼šå¾ˆæ–¹ä¾¿</p>
<h2 id="23-c11ä¸­çš„stdinitializer_list">2.3 C++11ä¸­çš„std::initializer_list
</h2><p><a class="link" href="https://legacy.cplusplus.com/reference/initializer_list/initializer_list/"  target="_blank" rel="noopener"
    >æ–‡æ¡£</a></p>
<p><img src="/p/c-11/index.assets/image-20251112162453146.png"
	width="1008"
	height="284"
	
	loading="lazy"
	
		alt="image-20251112162453146"
	
	
		class="gallery-image" 
		data-flex-grow="354"
		data-flex-basis="851px"
	
></p>
<p><strong>initializer_list å’Œ åˆ—è¡¨åˆå§‹åŒ–çš„åŒºåˆ«</strong></p>
<ul>
<li>
<p>initializer_list æ˜¯å¤©ç„¶çš„ç±»å‹è¯†åˆ«ï¼Œ{}ä¸­å¯ä»¥æ˜¯ä»»æ„å¤šä¸ªå¯¹è±¡</p>
<blockquote>
<p>å¦‚æœæŠŠ {} ç»™autoæˆ–æ²¡æœ‰å…·ä½“ç±»å‹çš„æ¨¡ç‰ˆæ—¶ï¼Œä¼šè¢«è¯†åˆ«æˆ initializer_list</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">auto</span> <span class="n">il</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span> <span class="p">};</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>åˆ—è¡¨åˆå§‹åŒ–ä¸­çš„{} æœ¬è´¨æ˜¯æ„é€ ï¼Œ{}ä¸­çš„å€¼è¦è·Ÿç±»å‹çš„æ„é€ å‚æ•°åŒ¹é…</p>
</li>
</ul>
<p><strong>initializer_list çš„æœ¬è´¨</strong></p>
<p>initializer_listç±»æœ¬è´¨æ˜¯åœ¨åº•å±‚å¼€ä¸€ä¸ªæ•°ç»„ç©ºé—´ï¼Œå°†æ•°æ®æ‹·è´è¿‡æ¥ï¼Œè®©initializer_listå†…éƒ¨çš„ä¸¤ä¸ªæŒ‡é’ˆåˆ†åˆ«æŒ‡å‘æ•°ç»„çš„å¼€å§‹å’Œç»“æŸï¼Œæ‰€ä»¥ initializer_list çš„ {} ä¸­å¯ä»¥æ˜¯ä»»æ„å¤šä¸ªå€¼</p>
<p><img src="/p/c-11/index.assets/image-20251112164258192.png"
	width="466"
	height="165"
	
	loading="lazy"
	
		alt="image-20251112164258192"
	
	
		class="gallery-image" 
		data-flex-grow="282"
		data-flex-basis="677px"
	
></p>
<p><strong>initializer_list ç›¸å…³æ¥å£</strong></p>
<ul>
<li>sizeï¼šå°±æ˜¯ç”¨ä¸¤ä¸ªæŒ‡é’ˆç›¸å‡å¾—åˆ°ä¸­é—´çš„æ•°æ®ä¸ªæ•°</li>
<li>begin å’Œ end ï¼šè¿”å›çš„è¿­ä»£å™¨å°±æ˜¯åŸç”ŸæŒ‡é’ˆï¼Œbeginè¿”å›æŒ‡å‘å¼€å§‹ä½ç½®çš„æŒ‡é’ˆï¼Œendè¿”å›æŒ‡å‘ç»“æŸä½ç½®çš„æŒ‡é’ˆ</li>
</ul>
<p>æ”¯æŒè¿­ä»£å™¨å°±æ”¯æŒèŒƒå›´ for</p>
<p><strong>initializer_list çš„ä¸»è¦ç”¨é€”</strong></p>
<p>ä½¿ç”¨åˆ—è¡¨åˆå§‹åŒ–å¯¹è±¡å®¹å™¨å­˜åœ¨çš„é—®é¢˜ï¼šåˆ—è¡¨åˆå§‹åŒ–è¦æ±‚{}ä¸­çš„å€¼è¦å’Œæ„é€ å‚æ•°åŒ¹é…ï¼Œå¦‚æœæˆ‘ä»¬æƒ³<strong>ç”¨ä»»æ„å¤šä¸ªå€¼å»æ„é€ åˆå§‹åŒ–</strong>ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦å®ç°å¾ˆå¤šä¸ªæ„é€ å‡½æ•°æ‰èƒ½æ”¯æŒï¼Œå¾ˆä¸æ–¹ä¾¿ã€‚</p>
<p>è€ŒC++11æå‡ºinitializer_listå°±èƒ½å¾ˆå¥½è§£å†³è¿™ä¸ªé—®é¢˜ã€‚åªè¦è®©å®¹å™¨æ”¯æŒä¸€ä¸ªstd:initializer_listçš„æ„é€ å‡½æ•°ï¼Œä¹Ÿå°±æ”¯æŒä»»æ„å¤šä¸ªå€¼è¿›è¡Œåˆå§‹åŒ–äº†</p>
<p>STLä¸­çš„å®¹å™¨éƒ½å¢åŠ äº†ä¸€ä¸ª std::initializer_list çš„æ„é€ ï¼Œå› æ­¤æ”¯æŒä»»æ„å¤šä¸ªå€¼è¿›è¡Œåˆå§‹åŒ–</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">v1</span><span class="p">({</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span> <span class="p">});</span> <span class="c1">// ç›´æ¥æ„é€ 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">v2</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span> <span class="p">};</span> <span class="c1">// æ„é€ ä¸´æ—¶å¯¹è±¡ï¼Œä¸´æ—¶å¯¹è±¡æ‹·è´ç»™v2ï¼Œä¼˜åŒ–ä¸ºç›´æ¥æ„é€ 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">const</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">v3</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span> <span class="p">};</span> <span class="c1">// ç”¨{}é‡Œçš„å€¼æ„é€ ä¸€ä¸ªä¸´æ—¶å¯¹è±¡ï¼Œå¼•ç”¨çš„æ˜¯ä¸´æ—¶å¯¹è±¡
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="c1">//mapé‡Œé¢å­˜çš„æ˜¯ä¸€ä¸ªpairï¼Œå¤šå‚æ•°çš„æ„é€ æ”¯æŒéšå¼ç±»å‹è½¬æ¢
</span></span></span><span class="line"><span class="cl"><span class="c1">//å†…å±‚çš„{}æ˜¯pairçš„åˆå§‹åŒ–ï¼Œå¤–å±‚çš„{}æ˜¯initializer_list
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="n">string</span><span class="o">&gt;</span> <span class="n">dict</span> <span class="o">=</span> <span class="p">{</span> <span class="p">{</span><span class="s">&#34;sort&#34;</span><span class="p">,</span> <span class="s">&#34;æ’åº&#34;</span><span class="p">},</span> <span class="p">{</span><span class="s">&#34;string&#34;</span><span class="p">,</span> <span class="s">&#34;å­—ç¬¦ä¸²&#34;</span><span class="p">}</span> <span class="p">};</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>initializer_list è¿˜æ”¯æŒ<strong>èµ‹å€¼</strong>ï¼Œä¾‹å¦‚vectorä¸­ï¼š</p>
<p><img src="/p/c-11/index.assets/image-20251112173126560.png"
	width="942"
	height="207"
	
	loading="lazy"
	
		alt="image-20251112173126560"
	
	
		class="gallery-image" 
		data-flex-grow="455"
		data-flex-basis="1092px"
	
></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">v1</span><span class="p">({</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span> <span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="n">v1</span> <span class="o">=</span> <span class="p">{</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">};</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="3å³å€¼å¼•ç”¨å’Œç§»åŠ¨è¯­ä¹‰">3.å³å€¼å¼•ç”¨å’Œç§»åŠ¨è¯­ä¹‰
</h1><p><strong>å¼•ç”¨å°±æ˜¯ç»™å¯¹è±¡å–åˆ«å</strong></p>
<p>C++98ä¸­å°±æœ‰å¼•ç”¨çš„è¯­æ³•ï¼ŒC++11åˆæ–°å¢äº†å³å€¼å¼•ç”¨çš„è¯­æ³•ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸€èˆ¬æŠŠC++11ä¹‹å‰çš„å¼•ç”¨å«å·¦å€¼å¼•ç”¨</p>
<h2 id="31-å·¦å€¼å’Œå³å€¼">3.1 å·¦å€¼å’Œå³å€¼
</h2><p><strong>å·¦å€¼</strong></p>
<ul>
<li>å·¦å€¼æ˜¯ä¸€ä¸ªæ•°æ®è¡¨è¾¾å¼ï¼ˆå¦‚å˜é‡åæˆ–è§£å¼•ç”¨çš„æŒ‡é’ˆï¼‰ï¼Œä¸€èˆ¬æ˜¯æœ‰æŒä¹…çŠ¶æ€ï¼Œå­˜å‚¨åœ¨å†…å­˜ä¸­</li>
<li>å·¦å€¼æ—¢å¯ä»¥å‡ºç°åœ¨èµ‹å€¼ç¬¦å·çš„å·¦è¾¹ï¼Œä¹Ÿå¯ä»¥å‡ºç°åœ¨å³è¾¹ï¼Œå³å·¦å€¼å¯ä»¥ä¿®æ”¹ä¹Ÿå¯ä»¥ä¸èƒ½è¢«ä¿®æ”¹</li>
<li>å·¦å€¼å¯ä»¥å–åœ°å€</li>
<li>å˜é‡è¡¨è¾¾å¼éƒ½æ˜¯å·¦å€¼</li>
</ul>
<p><strong>å³å€¼</strong></p>
<ul>
<li>
<p>å³å€¼ä¹Ÿæ˜¯ä¸€ä¸ªè¡¨ç¤ºæ•°æ®çš„è¡¨è¾¾å¼ï¼ˆå¦‚å­—é¢å€¼å¸¸é‡ã€è¡¨è¾¾å¼æ±‚å€¼è¿‡ç¨‹ä¸­åˆ›å»ºçš„ä¸´æ—¶å¯¹è±¡ã€åŒ¿åå¯¹è±¡ç­‰ï¼‰</p>
</li>
<li>
<p>å³å€¼åªèƒ½å‡ºç°åœ¨èµ‹å€¼ç¬¦å·çš„å³è¾¹ï¼Œå³å³å€¼ä¸èƒ½è¢«ä¿®æ”¹</p>
</li>
<li>
<p>å³å€¼ä¸èƒ½å–åœ°å€</p>
</li>
</ul>
<p><strong>æ³¨æ„</strong>ï¼šåˆ¤æ–­æ˜¯å·¦å€¼è¿˜æ˜¯å³å€¼å’Œæ˜¯å¦å¯ä»¥ä¿®æ”¹æ— å…³ï¼Œæ ¸å¿ƒåœ¨äºæ˜¯å¦å¯ä»¥å–åœ°å€</p>
<blockquote>
<p>æ¯”å¦‚constä¿®é¥°ç¬¦åçš„æ˜¯å·¦å€¼ï¼Œå› ä¸ºå¯ä»¥å–åœ°å€</p>
</blockquote>
<p><strong>å¸¸è§çš„å·¦å€¼</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//å¸¸è§çš„å·¦å€¼
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kt">int</span><span class="o">*</span> <span class="n">p</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span> <span class="c1">// pï¼šæŒ‡é’ˆå˜é‡
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kt">int</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>           <span class="c1">// bï¼šå˜é‡
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="k">const</span> <span class="kt">int</span> <span class="n">c</span> <span class="o">=</span> <span class="n">b</span><span class="p">;</span>     <span class="c1">// cï¼šconstä¿®é¥°çš„å˜é‡
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="o">*</span><span class="n">p</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>             <span class="c1">// *pï¼šnewå‡ºæ¥çš„å¯¹è±¡
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">string</span> <span class="n">s</span><span class="p">(</span><span class="s">&#34;111111&#34;</span><span class="p">);</span>  <span class="c1">// sï¼šè‡ªå®šä¹‰ç±»å‹çš„å¯¹è±¡
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="sc">&#39;x&#39;</span><span class="p">;</span>          <span class="c1">// s[0]ï¼šè¡¨è¾¾å¼
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="o">&amp;</span><span class="n">c</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//charå–åœ°å€å°±æ˜¯char*ï¼Œä¸ä¼šæŒ‰åœ°å€æ‰“å°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//å› ä¸ºchar*ä¹Ÿä»£è¡¨å­—ç¬¦ä¸²ï¼ŒC++ä¼šæŠŠå­—ç¬¦ä¸²æŒ‡å‘çš„å†…å®¹æ‰“å°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="o">&amp;</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> 
</span></span><span class="line"><span class="cl">	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="kt">void</span><span class="o">*</span><span class="p">)</span><span class="o">&amp;</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>å¸¸è§çš„å³å€¼</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kt">double</span> <span class="n">x</span> <span class="o">=</span> <span class="mf">1.1</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="mf">2.2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//å¸¸è§çš„å³å€¼
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="mi">10</span><span class="p">;</span>             <span class="c1">// å­—é¢é‡å¸¸é‡
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">;</span>          <span class="c1">// è¡¨è¾¾å¼
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">fmin</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">);</span>     <span class="c1">// fminæ˜¯ä¼ å€¼è¿”å›ï¼Œä¼ å€¼è¿”å›ä¼šäº§ç”Ÿä¸´æ—¶å¯¹è±¡
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">string</span><span class="p">(</span><span class="s">&#34;1111&#34;</span><span class="p">);</span> <span class="c1">// åŒ¿åå¯¹è±¡
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="c1">//å³å€¼ä¸èƒ½å–åœ°å€
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//cout &lt;&lt; &amp;10 &lt;&lt; endl; // err
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//cout &lt;&lt; &amp;(x + y) &lt;&lt; endl; // err
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//cout &lt;&lt; &amp;(fmin(x, y)) &lt;&lt; endl; // err
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//cout &lt;&lt; &amp;string(&#34;1111&#34;) &lt;&lt; endl; // err
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>å·¦å€¼çš„è‹±æ–‡ç®€å†™ä¸ºlvalueï¼Œå³å€¼çš„è‹±æ–‡ç®€å†™ä¸ºrvalueã€‚</p>
<p>ç°ä»£C++ä¸­ï¼Œlvalue è¢«è§£é‡Šä¸ºloactor valueçš„ç¼©å†™ï¼Œå¯æ„ä¸º<strong>å­˜å‚¨åœ¨å†…å­˜ä¸­ã€æœ‰æ˜ç¡®å­˜å‚¨åœ°å€å¯ä»¥å–åœ°å€çš„å¯¹è±¡</strong>ï¼Œè€Œrvalue è¢«è§£é‡Šä¸ºreadvalueï¼ŒæŒ‡çš„æ˜¯é‚£äº›<strong>å¯ä»¥æä¾›æ•°æ®å€¼ï¼Œä½†æ˜¯ä¸å¯ä»¥å¯»å€</strong>ï¼Œä¾‹å¦‚ï¼šä¸´æ—¶å˜é‡ï¼Œå­—é¢é‡å¸¸é‡ï¼Œå­˜å‚¨äºå¯„å­˜å™¨ä¸­çš„å˜é‡ç­‰ï¼Œä¹Ÿå°±æ˜¯è¯´<strong>å·¦å€¼å’Œå³å€¼çš„æ ¸å¿ƒåŒºåˆ«å°±æ˜¯èƒ½å¦å–åœ°å€</strong></p>
</blockquote>
<h2 id="32-å·¦å€¼å¼•ç”¨å’Œå³å€¼å¼•ç”¨">3.2 å·¦å€¼å¼•ç”¨å’Œå³å€¼å¼•ç”¨
</h2><p>å·¦å€¼å¼•ç”¨å°±æ˜¯ç»™å·¦å€¼å–åˆ«åï¼Œå³å€¼å¼•ç”¨å°±æ˜¯ç»™å³å€¼å–åˆ«å</p>
<p><code>Type&amp; r1;</code> // å·¦å€¼å¼•ç”¨
<code>Type&amp;&amp; rr1 = y; </code>// å³å€¼å¼•ç”¨</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kt">double</span> <span class="n">x</span> <span class="o">=</span> <span class="mf">1.1</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="mf">2.2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="kt">int</span><span class="o">&amp;&amp;</span> <span class="n">rr1</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span> <span class="c1">// rr1å°±æ˜¯å­—é¢å¸¸é‡ 10 çš„åˆ«å
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kt">double</span><span class="o">&amp;&amp;</span> <span class="n">rr2</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">;</span> <span class="c1">// rr2å°±æ˜¯è¡¨è¾¾å¼ x+y æ±‚å€¼è¿‡ç¨‹ä¸­åˆ›å»ºçš„ä¸´æ—¶å¯¹è±¡çš„åˆ«å
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">string</span><span class="o">&amp;&amp;</span> <span class="n">rr3</span> <span class="o">=</span> <span class="n">string</span><span class="p">(</span><span class="s">&#34;11111&#34;</span><span class="p">);</span> <span class="c1">// rr3å°±æ˜¯åŒ¿åå¯¹è±¡çš„åˆ«å
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚</strong></p>
<p>ï¼ˆ1ï¼‰å·¦å€¼å¼•ç”¨ä¸èƒ½ç›´æ¥å¼•ç”¨å³å€¼ï¼Œä½†æ˜¯<strong>constå·¦å€¼å¼•ç”¨å¯ä»¥å¼•ç”¨å³å€¼</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="kt">double</span> <span class="n">x</span> <span class="o">=</span> <span class="mf">1.1</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="mf">2.2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//double&amp; r2 = x + y; // errï¼Œå·¦å€¼å¼•ç”¨ä¸èƒ½ç›´æ¥å¼•ç”¨å³å€¼
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">const</span> <span class="kt">double</span><span class="o">&amp;</span> <span class="n">r2</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">;</span> <span class="c1">// okï¼Œconstå·¦å€¼å¼•ç”¨å¯ä»¥å¼•ç”¨å³å€¼
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>ï¼ˆ2ï¼‰å³å€¼å¼•ç”¨ä¸èƒ½ç›´æ¥å¼•ç”¨å·¦å€¼ï¼Œä½†æ˜¯<strong>å³å€¼å¼•ç”¨å¯ä»¥å¼•ç”¨ move(å·¦å€¼)</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//int&amp;&amp; r4 = b; // errï¼Œå³å€¼å¼•ç”¨ä¸èƒ½ç›´æ¥å¼•ç”¨å·¦å€¼
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">int</span><span class="o">&amp;&amp;</span> <span class="n">r4</span> <span class="o">=</span> <span class="n">move</span><span class="p">(</span><span class="n">b</span><span class="p">);</span> <span class="c1">// okï¼Œmoveæœ¬è´¨å°±æ˜¯å¼ºåˆ¶ç±»å‹è½¬æ¢
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">int</span><span class="o">&amp;&amp;</span> <span class="n">r4</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="o">&amp;&amp;</span><span class="p">)</span><span class="n">b</span><span class="p">;</span> <span class="c1">// ok
</span></span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>moveæ˜¯åº“é‡Œé¢çš„ä¸€ä¸ªå‡½æ•°æ¨¡æ¿ï¼Œæœ¬è´¨å†…éƒ¨æ˜¯è¿›è¡Œ<strong>å¼ºåˆ¶ç±»å‹è½¬æ¢</strong>ã€‚å¦‚æœå®å‚æ˜¯å·¦å€¼å°±æŠŠå®ƒå¼ºè½¬æˆå³å€¼å¼•ç”¨ï¼›å¦‚æœå®å‚æ˜¯å³å€¼ï¼Œå°±ä¸è½¬æ¢ï¼Œç›´æ¥è¿”å›</p>
<p><img src="/p/c-11/index.assets/image-20251112191237441.png"
	width="702"
	height="105"
	
	loading="lazy"
	
		alt="image-20251112191237441"
	
	
		class="gallery-image" 
		data-flex-grow="668"
		data-flex-basis="1604px"
	
></p>
<p><img src="/p/c-11/index.assets/image-20251112191644717.png"
	width="710"
	height="78"
	
	loading="lazy"
	
		alt="image-20251112191644717"
	
	
		class="gallery-image" 
		data-flex-grow="910"
		data-flex-basis="2184px"
	
></p>
</blockquote>
<p>ï¼ˆ3ï¼‰<strong>æ‰€æœ‰çš„å¼•ç”¨å˜é‡éƒ½æ˜¯å·¦å€¼</strong>ï¼Œä¸ç®¡æ˜¯å³å€¼å¼•ç”¨å˜é‡è¿˜æ˜¯å·¦å€¼å¼•ç”¨å˜é‡</p>
<p>â€‹		æ¯”å¦‚ <code>int&amp;&amp;  r1 = 10; </code> r1æ˜¯å­—é¢å¸¸é‡ 10 çš„åˆ«åï¼Œ10 æ˜¯å³å€¼ï¼Œä½† r1æ˜¯å·¦å€¼</p>
<p>ï¼ˆ4ï¼‰ä»è¯­æ³•å±‚é¢æ¥çœ‹ï¼Œå¼•ç”¨å°±æ˜¯å–åˆ«åï¼Œä¸å¼€ç©ºé—´ã€‚ä½†æ˜¯ä»æ±‡ç¼–åº•å±‚çš„è§’åº¦æ¥çœ‹ï¼Œå¼•ç”¨å…¶å®æ˜¯ç”¨æŒ‡é’ˆå®ç°çš„ï¼Œä¸ç®¡æ˜¯å·¦å€¼å¼•ç”¨è¿˜æ˜¯å³å€¼å¼•ç”¨</p>
<blockquote>
<p>åº•å±‚æ±‡ç¼–ç­‰å®ç°å’Œä¸Šå±‚è¯­æ³•è¡¨è¾¾çš„æ„ä¹‰æœ‰æ—¶æ˜¯èƒŒç¦»çš„</p>
</blockquote>
<h2 id="33-å¼•ç”¨å»¶é•¿ç”Ÿå‘½å‘¨æœŸ">3.3 å¼•ç”¨å»¶é•¿ç”Ÿå‘½å‘¨æœŸ
</h2><p>ä¸´æ—¶å¯¹è±¡ã€åŒ¿åå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸéƒ½åªåœ¨å½“å‰è¡Œ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">AA</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">	<span class="n">AA</span><span class="p">(</span><span class="kt">int</span> <span class="n">a1</span><span class="p">,</span> <span class="kt">int</span> <span class="n">a2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="o">:</span><span class="n">_a1</span><span class="p">(</span><span class="n">a1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="o">~</span><span class="n">AA</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;~AA()&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">private</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">	<span class="kt">int</span> <span class="n">_a1</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="kt">int</span> <span class="n">_a2</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">AA</span> <span class="n">aa1</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span> <span class="c1">// æœ‰åå¯¹è±¡
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">AA</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span> <span class="c1">// åŒ¿åå¯¹è±¡ï¼Œç”Ÿå‘½å‘¨æœŸåªåœ¨å½“å‰è¿™ä¸€è¡Œ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;-----------&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/c-11/index.assets/image-20251112200807634.png"
	width="295"
	height="147"
	
	loading="lazy"
	
		alt="image-20251112200807634"
	
	
		class="gallery-image" 
		data-flex-grow="200"
		data-flex-basis="481px"
	
></p>
<p><strong>å³å€¼å¼•ç”¨å¯ä»¥å»¶é•¿ä¸´æ—¶å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼Œconstçš„å·¦å€¼å¼•ç”¨ä¹Ÿå¯ä»¥å»¶é•¿ä¸´æ—¶å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸ</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">AA</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">	<span class="n">AA</span><span class="p">(</span><span class="kt">int</span> <span class="n">a1</span><span class="p">,</span> <span class="kt">int</span> <span class="n">a2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="o">:</span><span class="n">_a1</span><span class="p">(</span><span class="n">a1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="o">~</span><span class="n">AA</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;~AA()&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">private</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">	<span class="kt">int</span> <span class="n">_a1</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="kt">int</span> <span class="n">_a2</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">AA</span> <span class="n">aa1</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span> <span class="c1">// æœ‰åå¯¹è±¡
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="k">const</span> <span class="n">AA</span><span class="o">&amp;</span> <span class="n">r1</span> <span class="o">=</span> <span class="n">AA</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">AA</span><span class="o">&amp;&amp;</span> <span class="n">rr1</span> <span class="o">=</span> <span class="n">AA</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;-----------&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/c-11/index.assets/image-20251112201146343.png"
	width="300"
	height="174"
	
	loading="lazy"
	
		alt="image-20251112201146343"
	
	
		class="gallery-image" 
		data-flex-grow="172"
		data-flex-basis="413px"
	
></p>
<h2 id="34-å·¦å€¼å’Œå³å€¼çš„å‚æ•°åŒ¹é…">3.4 å·¦å€¼å’Œå³å€¼çš„å‚æ•°åŒ¹é…
</h2><p>ï¼ˆ1ï¼‰åœ¨C++98ä¸­ï¼Œå¦‚æœå‡½æ•°å½¢å‚æ˜¯const(å·¦å€¼)å¼•ç”¨ï¼Œé‚£ä¹ˆå®å‚æ—¢å¯ä»¥ä¼ å·¦å€¼ï¼Œä¹Ÿå¯ä»¥ä¼ å³å€¼</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">f</span><span class="p">(</span><span class="k">const</span> <span class="kt">int</span><span class="o">&amp;</span> <span class="n">x</span><span class="p">){}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ï¼ˆ2ï¼‰C++11ä»¥åï¼Œå¯ä»¥åˆ†åˆ«é‡è½½å½¢å‚æ˜¯<code>å·¦å€¼å¼•ç”¨</code>ã€<code>constå·¦å€¼å¼•ç”¨</code>ã€<code>å³å€¼å¼•ç”¨</code>çš„å‡½æ•°ã€‚</p>
<p>é‚£ä¹ˆå®å‚æ˜¯å·¦å€¼çš„ï¼Œä¼šä¼˜å…ˆåŒ¹é…å½¢å‚æ˜¯å·¦å€¼å¼•ç”¨çš„å‡½æ•°ï¼›å®å‚æ˜¯constå·¦å€¼çš„ï¼Œä¼šä¼˜å…ˆåŒ¹é…å½¢å‚æ˜¯const å·¦å€¼å¼•ç”¨çš„å‡½æ•°ï¼›å®å‚æ˜¯å³å€¼çš„ï¼Œä¼šä¼˜å…ˆåŒ¹é…å½¢å‚æ˜¯å³å€¼å¼•ç”¨çš„å‡½æ•°</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">f</span><span class="p">(</span><span class="kt">int</span><span class="o">&amp;</span> <span class="n">x</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;å·¦å€¼å¼•ç”¨é‡è½½ f(&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">x</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;)&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">f</span><span class="p">(</span><span class="k">const</span> <span class="kt">int</span><span class="o">&amp;</span> <span class="n">x</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;constçš„å·¦å€¼å¼•ç”¨é‡è½½ f(&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">x</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;)&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">f</span><span class="p">(</span><span class="kt">int</span><span class="o">&amp;&amp;</span> <span class="n">x</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;å³å€¼å¼•ç”¨é‡è½½ f(&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">x</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;)&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="k">const</span> <span class="kt">int</span> <span class="n">ci</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="n">f</span><span class="p">(</span><span class="n">i</span><span class="p">);</span> <span class="c1">// è°ƒå½¢å‚æ˜¯å·¦å€¼å¼•ç”¨çš„å‡½æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">f</span><span class="p">(</span><span class="n">ci</span><span class="p">);</span> <span class="c1">// è°ƒå½¢å‚æ˜¯constå·¦å€¼å¼•ç”¨çš„å‡½æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">f</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span> <span class="c1">// è°ƒå½¢å‚æ˜¯å³å€¼å¼•ç”¨çš„å‡½æ•°ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå°±è°ƒå½¢å‚æ˜¯constå·¦å€¼å¼•ç”¨çš„å‡½æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">f</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">move</span><span class="p">(</span><span class="n">i</span><span class="p">));</span> <span class="c1">// è°ƒå½¢å‚æ˜¯å³å€¼å¼•ç”¨çš„å‡½æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="kt">int</span><span class="o">&amp;</span> <span class="n">y</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="n">f</span><span class="p">(</span><span class="n">y</span><span class="p">);</span> <span class="c1">// è°ƒå½¢å‚æ˜¯å·¦å€¼å¼•ç”¨çš„å‡½æ•°ï¼Œå› ä¸ºå˜é‡è¡¨è¾¾å¼éƒ½æ˜¯å·¦å€¼
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="kt">int</span><span class="o">&amp;&amp;</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">);</span> <span class="c1">// è°ƒå½¢å‚æ˜¯å·¦å€¼å¼•ç”¨çš„å‡½æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="n">f</span><span class="p">(</span><span class="n">move</span><span class="p">(</span><span class="n">x</span><span class="p">));</span> <span class="c1">// è°ƒå½¢å‚æ˜¯å³å€¼å¼•ç”¨çš„å‡½æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/c-11/index.assets/image-20251112205425010.png"
	width="365"
	height="250"
	
	loading="lazy"
	
		alt="image-20251112205425010"
	
	
		class="gallery-image" 
		data-flex-grow="146"
		data-flex-basis="350px"
	
></p>
<h2 id="35-å³å€¼å¼•ç”¨å’Œç§»åŠ¨è¯­ä¹‰">3.5 å³å€¼å¼•ç”¨å’Œç§»åŠ¨è¯­ä¹‰
</h2><h3 id="351å·¦å€¼å¼•ç”¨å­˜åœ¨çš„é—®é¢˜">3.5.1å·¦å€¼å¼•ç”¨å­˜åœ¨çš„é—®é¢˜
</h3><p>å›é¡¾å·¦å€¼å¼•ç”¨çš„ä½¿ç”¨åœºæ™¯ï¼š</p>
<ol>
<li>åšå‚æ•°å‡å°‘æ‹·è´ï¼Œæ”¹å˜å¼•ç”¨å¯¹è±¡çš„åŒæ—¶æ”¹å˜è¢«å¼•ç”¨å¯¹è±¡</li>
<li>åšè¿”å›å€¼å‡å°‘æ‹·è´</li>
</ol>
<p>ä½†æ˜¯ä¸æ˜¯ä»»ä½•åœºæ™¯ä¸‹éƒ½èƒ½ç”¨å·¦å€¼å¼•ç”¨ï¼Œæ¯”å¦‚<strong>å‡½æ•°å†…å®šä¹‰çš„å±€éƒ¨å¯¹è±¡å°±ä¸èƒ½ç”¨å¼•ç”¨è¿”å›</strong>ã€‚</p>
<p>æ‰€ä»¥æˆ‘ä»¬ä»¥å‰é‡åˆ°ä¼ å€¼è¿”å›å¼€é”€å¾ˆå¤§çš„æƒ…å†µï¼Œåªèƒ½è¢«è¿«ç”¨è¾“å‡ºå‹å‚æ•°è§£å†³ï¼Œå³å…ˆåœ¨å‡½æ•°å¤–å®šä¹‰å¥½æ‰€éœ€å˜é‡ï¼Œç„¶åè®©å‡½æ•°å‚æ•°ç”¨å·¦å€¼å¼•ç”¨æ¥æ¥æ”¶è¯¥å˜é‡ã€‚</p>
<p>é‚£ç”¨å³å€¼å¼•ç”¨å¯ä»¥è§£å†³å·¦å€¼å¼•ç”¨åšè¿”å›å€¼çš„é—®é¢˜å—ï¼Ÿä¹Ÿä¸èƒ½ã€‚å› ä¸ºå‡½æ•°æ‰§è¡Œç»“æŸåï¼Œå‡½æ•°å†…éƒ¨å®šä¹‰çš„å±€éƒ¨å¯¹è±¡å°±é”€æ¯äº†ï¼Œå³å€¼å¼•ç”¨åŒæ ·æ— æ³•å¼•ç”¨ä¸€ä¸ªå·²ç»é”€æ¯çš„å¯¹è±¡ã€‚ä½†æ˜¯æˆ‘ä»¬æ¥ä¸‹æ¥è¦å­¦çš„ç§»åŠ¨æ„é€ å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜</p>
<h3 id="352ç§»åŠ¨æ„é€ å’Œç§»åŠ¨èµ‹å€¼">3.5.2ç§»åŠ¨æ„é€ å’Œç§»åŠ¨èµ‹å€¼
</h3><h4 id="ç§»åŠ¨æ„é€ ">ç§»åŠ¨æ„é€ 
</h4><p>ç§»åŠ¨æ„é€ å°±æ˜¯ä¸€ç§æ„é€ å‡½æ•°ï¼Œè¦æ±‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è‡ªèº«ç±»ç±»å‹çš„å³å€¼å¼•ç”¨ï¼Œå¦‚æœè¿˜æœ‰å…¶å®ƒå‚æ•°ï¼Œé‚£ä¹ˆé¢å¤–çš„å‚æ•°å¿…é¡»è¦æœ‰ç¼ºçœå€¼</p>
<p><strong>ç§»åŠ¨æ„é€ èƒ½è§£å†³ç”¨åŒ¿åå¯¹è±¡åˆå§‹åŒ–ä¸€ä¸ªå¯¹è±¡æ—¶æ‹·è´å¼€é”€å¤§çš„é—®é¢˜</strong>ã€‚æˆ‘ä»¬ä»¥å‰ç”¨åŒ¿åå¯¹è±¡åˆå§‹åŒ–ç›®æ ‡å¯¹è±¡æ—¶ï¼Œåº•å±‚å…¶å®æ˜¯å…ˆæ„é€ å‡ºä¸€ä¸ªä¸´æ—¶å¯¹è±¡ï¼Œå†ç”±ä¸´æ—¶å¯¹è±¡æ‹·è´ç»™è¦åˆå§‹åŒ–çš„å¯¹è±¡ã€‚ä»¥stringä¸ºä¾‹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;cassert&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="k">namespace</span> <span class="n">dyy</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">class</span> <span class="nc">string</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">		<span class="k">typedef</span> <span class="kt">char</span><span class="o">*</span> <span class="n">iterator</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		<span class="k">typedef</span> <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">const_iterator</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="n">iterator</span> <span class="nf">begin</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="k">return</span> <span class="n">_str</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="n">iterator</span> <span class="nf">end</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="k">return</span> <span class="n">_str</span> <span class="o">+</span> <span class="n">_size</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="n">const_iterator</span> <span class="nf">begin</span><span class="p">()</span> <span class="k">const</span> 
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="k">return</span> <span class="n">_str</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="n">const_iterator</span> <span class="nf">end</span><span class="p">()</span> <span class="k">const</span> 
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="k">return</span> <span class="n">_str</span> <span class="o">+</span> <span class="n">_size</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="n">string</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">str</span> <span class="o">=</span> <span class="s">&#34;&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="o">:</span><span class="n">_size</span><span class="p">(</span><span class="n">strlen</span><span class="p">(</span><span class="n">str</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">			<span class="p">,</span> <span class="n">_capacity</span><span class="p">(</span><span class="n">_size</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;string(const char* str)æ„é€ &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">			<span class="n">_str</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">char</span><span class="p">[</span><span class="n">_capacity</span> <span class="o">+</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">			<span class="n">strcpy</span><span class="p">(</span><span class="n">_str</span><span class="p">,</span> <span class="n">str</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="kt">void</span> <span class="nf">swap</span><span class="p">(</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="o">::</span><span class="n">swap</span><span class="p">(</span><span class="n">_size</span><span class="p">,</span> <span class="n">s</span><span class="p">.</span><span class="n">_size</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">			<span class="o">::</span><span class="n">swap</span><span class="p">(</span><span class="n">_str</span><span class="p">,</span> <span class="n">s</span><span class="p">.</span><span class="n">_str</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">			<span class="o">::</span><span class="n">swap</span><span class="p">(</span><span class="n">_capacity</span><span class="p">,</span> <span class="n">s</span><span class="p">.</span><span class="n">_capacity</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="n">string</span><span class="p">(</span><span class="k">const</span> <span class="n">string</span><span class="o">&amp;</span> <span class="n">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="o">:</span><span class="n">_str</span><span class="p">(</span><span class="k">nullptr</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;string(string&amp; s)æ‹·è´æ„é€ &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">			<span class="n">reserve</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">_capacity</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">			<span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="nl">ch</span> <span class="p">:</span> <span class="n">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="p">{</span>
</span></span><span class="line"><span class="cl">				<span class="n">push_back</span><span class="p">(</span><span class="n">ch</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">			<span class="p">}</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="kt">void</span> <span class="nf">reserve</span><span class="p">(</span><span class="n">size_t</span> <span class="n">n</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">&gt;</span> <span class="n">_capacity</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="p">{</span>
</span></span><span class="line"><span class="cl">				<span class="kt">char</span><span class="o">*</span> <span class="n">tmp</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">char</span><span class="p">[</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">				<span class="k">if</span> <span class="p">(</span><span class="n">_str</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">				<span class="p">{</span>
</span></span><span class="line"><span class="cl">					<span class="n">strcpy</span><span class="p">(</span><span class="n">tmp</span><span class="p">,</span> <span class="n">_str</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">					<span class="k">delete</span><span class="p">[]</span> <span class="n">_str</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">				<span class="p">}</span>
</span></span><span class="line"><span class="cl">				<span class="n">_str</span> <span class="o">=</span> <span class="n">tmp</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">				<span class="n">_capacity</span> <span class="o">=</span> <span class="n">n</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">			<span class="p">}</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="kt">void</span> <span class="nf">push_back</span><span class="p">(</span><span class="kt">char</span> <span class="n">ch</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="k">if</span> <span class="p">(</span><span class="n">_size</span> <span class="o">&gt;=</span> <span class="n">_capacity</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="p">{</span>
</span></span><span class="line"><span class="cl">				<span class="n">size_t</span> <span class="n">newcapacity</span> <span class="o">=</span> <span class="n">_capacity</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">?</span> <span class="mi">4</span> <span class="o">:</span> <span class="n">_capacity</span> <span class="o">*</span> <span class="mi">2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">				<span class="n">reserve</span><span class="p">(</span><span class="n">newcapacity</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">			<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">			<span class="n">_str</span><span class="p">[</span><span class="n">_size</span><span class="p">]</span> <span class="o">=</span> <span class="n">ch</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">			<span class="o">++</span><span class="n">_size</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">			<span class="n">_str</span><span class="p">[</span><span class="n">_size</span><span class="p">]</span> <span class="o">=</span> <span class="sc">&#39;\0&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="n">string</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">+=</span><span class="p">(</span><span class="kt">char</span> <span class="n">ch</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="n">push_back</span><span class="p">(</span><span class="n">ch</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">			<span class="k">return</span> <span class="o">*</span><span class="k">this</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="nf">c_str</span><span class="p">()</span> <span class="k">const</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="k">return</span> <span class="n">_str</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="n">size_t</span> <span class="nf">size</span><span class="p">()</span> <span class="k">const</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="k">return</span> <span class="n">_size</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="k">private</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">		<span class="kt">char</span><span class="o">*</span> <span class="n">_str</span> <span class="o">=</span> <span class="k">nullptr</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		<span class="n">size_t</span> <span class="n">_size</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		<span class="n">size_t</span> <span class="n">_capacity</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="p">};</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">dyy</span><span class="o">::</span><span class="n">string</span> <span class="n">s1</span><span class="p">(</span><span class="s">&#34;xxxxx&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//æ‹·è´æ„é€ 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">dyy</span><span class="o">::</span><span class="n">string</span> <span class="n">s2</span> <span class="o">=</span> <span class="n">s1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//æ„é€ +æ‹·è´æ„é€ ï¼Œç¼–è¯‘å™¨ä¼˜åŒ–ä¸ºç›´æ¥æ„é€ 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">dyy</span><span class="o">::</span><span class="n">string</span> <span class="n">s3</span> <span class="o">=</span> <span class="n">dyy</span><span class="o">::</span><span class="n">string</span><span class="p">(</span><span class="s">&#34;yyyyy&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä½†è¿™æ ·æ‹·è´çš„å¼€é”€è¿˜æ˜¯å¤ªå¤§äº†ï¼Œè€Œä¸´æ—¶å¯¹è±¡æœ¬æ¥æ‹·è´å®Œå°±è¦é”€æ¯ï¼Œä¸å…¶æ‹·è´ï¼Œä¸å¦‚ç›´æ¥è®©ä¸´æ—¶å¯¹è±¡æŠŠèµ„æºè½¬ç§»ç»™è¦åˆå§‹åŒ–çš„å¯¹è±¡ã€‚æ‰€ä»¥ï¼Œç§»åŠ¨æ„é€ ç›¸å½“äº<strong>é‡è½½äº†æ‹·è´æ„é€ ï¼Œå®ƒçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å³å€¼å¼•ç”¨ç±»å‹ï¼Œå‡½æ•°å†…éƒ¨ä¼šç›´æ¥å°†ä¸´æ—¶å¯¹è±¡çš„èµ„æºç§»åŠ¨ç»™è¦åˆå§‹åŒ–çš„ç›®æ ‡å¯¹è±¡</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="c1">//ç§»åŠ¨æ„é€ 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">string</span><span class="p">(</span><span class="n">string</span><span class="o">&amp;&amp;</span> <span class="n">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;string(string&amp;&amp; s)ç§»åŠ¨æ„é€ &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="n">swap</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/c-11/index.assets/image-20251114162550328.png"
	width="1454"
	height="540"
	
	loading="lazy"
	
		alt="image-20251114162550328"
	
	
		class="gallery-image" 
		data-flex-grow="269"
		data-flex-basis="646px"
	
></p>
<blockquote>
<p>linuxä¸‹å¯ä»¥åœ¨ç¼–è¯‘æ—¶ç”¨ <code>g++ æ–‡ä»¶å -fno-elide-constructors </code>çš„æ–¹å¼å…³é—­æ„é€ ä¼˜åŒ–</p>
<p><img src="/p/c-11/index.assets/image-20251114162838935.png"
	width="1546"
	height="304"
	
	loading="lazy"
	
		alt="image-20251114162838935"
	
	
		class="gallery-image" 
		data-flex-grow="508"
		data-flex-basis="1220px"
	
></p>
</blockquote>
<p>**ç§»åŠ¨æ„é€ è¿˜å¯ä»¥è§£å†³å‡½æ•°å†…å±€éƒ¨å¯¹è±¡ä¼ å€¼è¿”å›å¼€é”€å¤§çš„é—®é¢˜ã€‚**åŸæ¥å‡½æ•°ç»“æŸæ—¶å±€éƒ¨å¯¹è±¡å°±è¦é”€æ¯ï¼Œå±€éƒ¨å¯¹è±¡å¾—å…ˆæ„é€ ä¸€ä¸ªä¸´æ—¶å¯¹è±¡ï¼Œå†ç”±ä¸´æ—¶å¯¹è±¡æ‹·è´ç»™å¤–éƒ¨è¦åˆå§‹åŒ–çš„å¯¹è±¡ï¼Œæ‹·è´å®Œåï¼Œä¸´æ—¶å¯¹è±¡ä¹Ÿè¦é”€æ¯ï¼›ç°åœ¨æœ‰äº†ç§»åŠ¨æ„é€ å°±ä¸ä¸€æ ·äº†ï¼Œä¸´æ—¶å¯¹è±¡ä¸ç”¨æ‹·è´ï¼Œç›´æ¥æŠŠè‡ªå·±çš„èµ„æºè½¬ç§»ç»™å¤–éƒ¨æ¥æ”¶çš„å¯¹è±¡ã€‚</p>
<p>ä¾‹å­ï¼šä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸åŠ </p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">namespace</span> <span class="n">dyy</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">string</span> <span class="nf">addString</span><span class="p">(</span><span class="n">string</span> <span class="n">num1</span><span class="p">,</span> <span class="n">string</span> <span class="n">num2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="n">string</span> <span class="n">str</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		<span class="kt">int</span> <span class="n">end1</span> <span class="o">=</span> <span class="n">num1</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">end2</span> <span class="o">=</span> <span class="n">num2</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		<span class="kt">int</span> <span class="n">next</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		<span class="k">while</span> <span class="p">(</span><span class="n">end1</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">end2</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="kt">int</span> <span class="n">val1</span> <span class="o">=</span> <span class="n">end1</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">?</span> <span class="n">num1</span><span class="p">[</span><span class="n">end1</span><span class="o">--</span><span class="p">]</span> <span class="o">-</span> <span class="sc">&#39;0&#39;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">			<span class="kt">int</span> <span class="n">val2</span> <span class="o">=</span> <span class="n">end2</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">?</span> <span class="n">num2</span><span class="p">[</span><span class="n">end2</span><span class="o">--</span><span class="p">]</span> <span class="o">-</span> <span class="sc">&#39;0&#39;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">			<span class="kt">int</span> <span class="n">ret</span> <span class="o">=</span> <span class="n">val1</span> <span class="o">+</span> <span class="n">val2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">			<span class="n">next</span> <span class="o">=</span> <span class="n">ret</span> <span class="o">/</span> <span class="mi">10</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">			<span class="n">ret</span> <span class="o">=</span> <span class="n">ret</span> <span class="o">%</span> <span class="mi">10</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">			<span class="n">str</span> <span class="o">+=</span> <span class="p">(</span><span class="sc">&#39;0&#39;</span> <span class="o">+</span> <span class="n">ret</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="k">if</span> <span class="p">(</span><span class="n">next</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="n">str</span> <span class="o">+=</span> <span class="sc">&#39;1&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		<span class="n">reverse</span><span class="p">(</span><span class="n">str</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">str</span><span class="p">.</span><span class="n">end</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;**************&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="n">str</span><span class="p">;</span> 
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">dyy</span><span class="o">::</span><span class="n">string</span> <span class="n">ret</span> <span class="o">=</span> <span class="n">dyy</span><span class="o">::</span><span class="n">addString</span><span class="p">(</span><span class="s">&#34;11111&#34;</span><span class="p">,</span> <span class="s">&#34;2222&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">ret</span><span class="p">.</span><span class="n">c_str</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>å…ˆæ˜ç¡®ä¸¤ä¸ªæ¦‚å¿µï¼š</p>
<ol>
<li>å±€éƒ¨å¯¹è±¡ï¼ˆæ¯”å¦‚å‡½æ•°é‡Œçš„strï¼‰æœ¬èº«æ˜¯å·¦å€¼</li>
<li>ä½†å½“å±€éƒ¨å¯¹è±¡ä½œä¸ºå‡½æ•°è¿”å›å€¼æ—¶ï¼Œç¼–è¯‘å™¨ä¼šæŠŠå®ƒè¯†åˆ«ä¸º â€œå°†äº¡å€¼â€ï¼ˆå³å€¼çš„ä¸€ç§ï¼Œå› ä¸ºå®ƒé©¬ä¸Šè¦è¢«é”€æ¯äº†ï¼Œèµ„æºæ²¡ç”¨äº†ï¼‰ï¼Œè¿™æ—¶å€™ä¼šè§¦å‘ã€ç§»åŠ¨æ„é€ ã€‘è€Œä¸æ˜¯ã€æ‹·è´æ„é€ ã€‘ï¼ˆç§»åŠ¨æ¯”æ‹·è´é«˜æ•ˆï¼‰</li>
</ol>
<p>æ‰€ä»¥æ­£å¸¸æƒ…å†µä¸‹ï¼Œä¸Šé¢è¿™æ®µä»£ç ä¼šè¿ç»­ç»å†ä¸¤æ¬¡ç§»åŠ¨æ„é€ ï¼Œä½†æ˜¯åœ¨vs2019 debugç¯å¢ƒä¸‹ï¼Œç¼–è¯‘å™¨åšäº†ä¼˜åŒ–ï¼Œå°†ä¸¤æ¬¡ç§»åŠ¨æ„é€ ç›´æ¥ä¼˜åŒ–ä¸ºä¸€æ¬¡ç§»åŠ¨æ„é€ ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/p/c-11/index.assets/image-20251114174431666.png"
	width="1036"
	height="924"
	
	loading="lazy"
	
		alt="image-20251114174431666"
	
	
		class="gallery-image" 
		data-flex-grow="112"
		data-flex-basis="269px"
	
></p>
</blockquote>
<blockquote>
<p>åœ¨vs2019çš„releaseæ¨¡å¼ï¼Œè¿˜æœ‰vs2022çš„debugã€releaseæ¨¡å¼ä¸‹ï¼Œç¼–è¯‘å™¨ä¼šåšå¾ˆå¤šä¼˜åŒ–ï¼Œæ¯”å¦‚åŸæœ¬å‡½æ•°å†…éƒ¨è¦å…ˆæ„é€ ä¸€ä¸ªå±€éƒ¨å¯¹è±¡ï¼Œå±€éƒ¨å¯¹è±¡å†æ‹·è´æ„é€ ä¸€ä¸ªä¸´æ—¶å¯¹è±¡ï¼Œæœ€åå†ç”±ä¸´æ—¶å¯¹è±¡æ‹·è´ç»™å¤–éƒ¨å¯¹è±¡ï¼Œç°åœ¨ç¼–è¯‘å™¨ä¼šä¸€æ­¥åˆ°ä½ï¼Œç›´æ¥ç”¨åŸæœ¬è¦æ„é€ å±€éƒ¨å¯¹è±¡çš„èµ„æºï¼Œåœ¨å¤–éƒ¨å¯¹è±¡çš„ä½ç½®å®Œæˆæ„é€ ã€‚</p>
<p>å¯ä»¥è¿™æ ·ç†è§£ï¼šå‡½æ•°å†…çš„å±€éƒ¨å¯¹è±¡åæ­£æœ€åéƒ½æ˜¯è¦è¿”å›ç»™å¤–éƒ¨å¯¹è±¡æ¥æ¥æ”¶çš„ï¼Œé‚£å¹²è„†ä¸æ&quot;å±€éƒ¨å¯¹è±¡-&gt;ä¸´æ—¶å¯¹è±¡-&gt;å¤–éƒ¨å¯¹è±¡&quot;è¿™æ ·éº»çƒ¦çš„æµç¨‹äº†ï¼Œç›´æ¥æŠŠå‡½æ•°å†…çš„æ„é€ çš„å±€éƒ¨å¯¹è±¡å½“æˆæ˜¯ç»™å¤–éƒ¨å¯¹è±¡æ„é€ çš„ï¼ˆè¿˜å¯ä»¥ç†è§£æˆå‡½æ•°å†…çš„å±€éƒ¨å¯¹è±¡æ˜¯å‡½æ•°å¤–ç›®æ ‡å¯¹è±¡çš„åˆ«åï¼‰</p>
<p><img src="/p/c-11/index.assets/image-20251114170932249.png"
	width="1031"
	height="960"
	
	loading="lazy"
	
		alt="image-20251114170932249"
	
	
		class="gallery-image" 
		data-flex-grow="107"
		data-flex-basis="257px"
	
></p>
</blockquote>
<h4 id="ç§»åŠ¨èµ‹å€¼">ç§»åŠ¨èµ‹å€¼
</h4><p>ç§»åŠ¨èµ‹å€¼å’Œç§»åŠ¨æ„é€ æ ¸å¿ƒç›®çš„ä¸€è‡´ï¼Œéƒ½æ˜¯è½¬ç§»ä¸´æ—¶å¯¹è±¡çš„èµ„æºï¼Œè§„é¿å†—ä½™çš„æ‹·è´ï¼Œæé«˜æ•ˆç‡ã€‚ç§»åŠ¨èµ‹å€¼æ˜¯ä¸€ç§èµ‹å€¼è¿ç®—ç¬¦é‡è½½ï¼Œå®ƒè¦æ±‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å³å€¼å¼•ç”¨ç±»å‹ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="c1">//ç§»åŠ¨èµ‹å€¼
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">string</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="n">string</span><span class="o">&amp;&amp;</span> <span class="n">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;string&amp; operator=(string&amp;&amp; s)ç§»åŠ¨èµ‹å€¼&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="n">swap</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="o">*</span><span class="k">this</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç§»åŠ¨èµ‹å€¼ä¸»è¦æ˜¯åœ¨ä¸‹é¢è¿™ç§åœºæ™¯ä¸‹å‘æŒ¥ä½œç”¨ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="n">string</span> <span class="n">ret</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">ret</span> <span class="o">=</span> <span class="n">addString</span><span class="p">(</span><span class="s">&#34;12345&#34;</span><span class="p">,</span> <span class="s">&#34;67890&#34;</span><span class="p">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å³ç§»åŠ¨èµ‹å€¼æ˜¯é’ˆå¯¹å·²ç»å­˜åœ¨çš„å¯¹è±¡</p>
<blockquote>
<p><img src="/p/c-11/index.assets/image-20251114190645464.png"
	width="1041"
	height="996"
	
	loading="lazy"
	
		alt="image-20251114190645464"
	
	
		class="gallery-image" 
		data-flex-grow="104"
		data-flex-basis="250px"
	
></p>
</blockquote>
<h4 id="æ€»ç»“">æ€»ç»“
</h4><p>å³å€¼å¼•ç”¨æ˜¯é ç§»åŠ¨è¯­ä¹‰æ‰èµ·ä½œç”¨ï¼Œç§»åŠ¨è¯­ä¹‰çš„æ ¸å¿ƒå°±æ˜¯ç§»åŠ¨æ„é€ å’Œç§»åŠ¨èµ‹å€¼ï¼Œå½“è¦å¯¹å³å€¼æ‹·è´çš„æ—¶å€™ï¼Œç›´æ¥ç§»åŠ¨å®ƒçš„èµ„æº</p>
<blockquote>
<p>å¯¹äºåƒstring/vectorè¿™æ ·çš„æ·±æ‹·è´çš„ç±»æˆ–è€…åŒ…å«æ·±æ‹·è´çš„æˆå‘˜å˜é‡çš„ç±»ï¼Œç§»åŠ¨æ„é€ å’Œç§»åŠ¨èµ‹å€¼æ‰æœ‰æ„ä¹‰ï¼Œå› ä¸ºç§»åŠ¨æ„é€ å’Œç§»åŠ¨èµ‹å€¼çš„ç¬¬ä¸€ä¸ªå‚æ•°éƒ½æ˜¯å³å€¼å¼•ç”¨çš„ç±»å‹ï¼Œä»–çš„æœ¬è´¨æ˜¯è¦â€œçªƒå–â€å¼•ç”¨çš„å³å€¼å¯¹è±¡çš„èµ„æºï¼Œè€Œä¸æ˜¯åƒæ‹·è´æ„é€ å’Œæ‹·è´èµ‹å€¼é‚£æ ·å»æ‹·è´èµ„æºï¼Œä»æé«˜æ•ˆç‡ã€‚</p>
</blockquote>
<h3 id="353å³å€¼å¼•ç”¨å’Œç§»åŠ¨è¯­ä¹‰åœ¨ä¼ å‚ä¸­çš„ææ•ˆ">3.5.3å³å€¼å¼•ç”¨å’Œç§»åŠ¨è¯­ä¹‰åœ¨ä¼ å‚ä¸­çš„ææ•ˆ
</h3><p>C++11ä»¥åï¼Œå¾ˆå¤šå®¹å™¨çš„pushå’Œinsertç³»åˆ—æ¥å£éƒ½å¢åŠ äº†å³å€¼å¼•ç”¨çš„ç‰ˆæœ¬ã€‚</p>
<ul>
<li>å½“å®å‚æ˜¯å·¦å€¼çš„æ—¶å€™ï¼Œå®¹å™¨å†…éƒ¨å°±ç»§ç»­è°ƒç”¨æ‹·è´æ„é€ ï¼Œå°†è¿™ä¸ªå¯¹è±¡æ‹·è´åˆ°å®¹å™¨ç©ºé—´ä¸­çš„å¯¹è±¡é‡Œ</li>
<li>å½“å®å‚æ˜¯å³å€¼çš„æ—¶å€™ï¼Œå®¹å™¨å†…éƒ¨å°±è°ƒç”¨ç§»åŠ¨æ„é€ ï¼Œå°†å³å€¼çš„èµ„æºç§»åŠ¨åˆ°å®¹å™¨ç©ºé—´çš„å¯¹è±¡ä¸Šã€‚</li>
</ul>
<p><img src="/p/c-11/index.assets/image-20251116103417073.png"
	width="464"
	height="55"
	
	loading="lazy"
	
		alt="image-20251116103417073"
	
	
		class="gallery-image" 
		data-flex-grow="843"
		data-flex-basis="2024px"
	
></p>
<p><img src="/p/c-11/index.assets/image-20251116101126399.png"
	width="664"
	height="59"
	
	loading="lazy"
	
		alt="image-20251116101126399"
	
	
		class="gallery-image" 
		data-flex-grow="1125"
		data-flex-basis="2701px"
	
></p>
<blockquote>
<p>å…¶å®è¿™é‡Œè¿˜æœ‰ä¸€ä¸ªemplaceç³»åˆ—çš„æ¥å£ï¼Œä½†æ˜¯è¿™ä¸ªæ¶‰åŠå¯å˜å‚æ•°æ¨¡æ¿ï¼Œæˆ‘ä»¬éœ€è¦æŠŠå¯å˜å‚æ•°æ¨¡æ¿å­¦ä¹ ä»¥åå†ç†è§£emplaceç³»åˆ—çš„æ¥å£</p>
<p><img src="/p/c-11/index.assets/image-20251116103321358.png"
	width="547"
	height="102"
	
	loading="lazy"
	
		alt="image-20251116103321358"
	
	
		class="gallery-image" 
		data-flex-grow="536"
		data-flex-basis="1287px"
	
></p>
</blockquote>
<blockquote>
<p>æ¨¡æ‹Ÿå®ç°listï¼Œpush_backå’Œinsertæ”¯æŒå³å€¼å¼•ç”¨å‚æ•°</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="k">struct</span> <span class="nc">ListNode</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">ListNode</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;*</span> <span class="n">_next</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">ListNode</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;*</span> <span class="n">_prev</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">T</span> <span class="n">_data</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">ListNode</span><span class="p">(</span><span class="k">const</span> <span class="n">T</span><span class="o">&amp;</span> <span class="n">data</span> <span class="o">=</span> <span class="n">T</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">            <span class="o">:</span><span class="n">_next</span><span class="p">(</span><span class="k">nullptr</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="p">,</span><span class="n">_prev</span><span class="p">(</span><span class="k">nullptr</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="p">,</span><span class="n">_data</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">ListNode</span><span class="p">(</span><span class="k">const</span> <span class="n">T</span><span class="o">&amp;&amp;</span> <span class="n">data</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="o">:</span><span class="n">_next</span><span class="p">(</span><span class="k">nullptr</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="p">,</span> <span class="n">_prev</span><span class="p">(</span><span class="k">nullptr</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="p">,</span> <span class="n">_data</span><span class="p">(</span><span class="n">move</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">            <span class="p">{}</span>
</span></span><span class="line"><span class="cl">    <span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="p">,</span> <span class="k">class</span> <span class="nc">Ref</span><span class="p">,</span> <span class="k">class</span> <span class="nc">Ptr</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="k">struct</span> <span class="nc">ListIterator</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">typedef</span> <span class="n">ListNode</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">Node</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">typedef</span> <span class="n">ListIterator</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span> <span class="n">Ref</span><span class="p">,</span> <span class="n">Ptr</span><span class="o">&gt;</span> <span class="n">Self</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">Node</span><span class="o">*</span> <span class="n">_node</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">ListIterator</span><span class="p">(</span><span class="n">Node</span><span class="o">*</span> <span class="n">node</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="o">:</span><span class="n">_node</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">Self</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">++</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">_node</span> <span class="o">=</span> <span class="n">_node</span><span class="o">-&gt;</span><span class="n">_next</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="o">*</span><span class="k">this</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">Ref</span> <span class="k">operator</span><span class="o">*</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="n">_node</span><span class="o">-&gt;</span><span class="n">_data</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="kt">bool</span> <span class="k">operator</span><span class="o">!=</span><span class="p">(</span><span class="k">const</span> <span class="n">Self</span><span class="o">&amp;</span> <span class="n">it</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="n">_node</span> <span class="o">!=</span> <span class="n">it</span><span class="p">.</span><span class="n">_node</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="k">class</span> <span class="nc">list</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">typedef</span> <span class="n">ListNode</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">Node</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">typedef</span> <span class="n">ListIterator</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span> <span class="n">T</span><span class="o">&amp;</span><span class="p">,</span> <span class="n">T</span><span class="o">*&gt;</span> <span class="n">iterator</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">typedef</span> <span class="n">ListIterator</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span> <span class="k">const</span> <span class="n">T</span><span class="o">&amp;</span><span class="p">,</span> <span class="k">const</span> <span class="n">T</span><span class="o">*&gt;</span> <span class="n">const_iterator</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">iterator</span> <span class="nf">begin</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="n">iterator</span><span class="p">(</span><span class="n">_head</span><span class="o">-&gt;</span><span class="n">_next</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">iterator</span> <span class="nf">end</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="n">iterator</span><span class="p">(</span><span class="n">_head</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="kt">void</span> <span class="nf">empty_init</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">_head</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Node</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">            <span class="n">_head</span><span class="o">-&gt;</span><span class="n">_next</span> <span class="o">=</span> <span class="n">_head</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="n">_head</span><span class="o">-&gt;</span><span class="n">_prev</span> <span class="o">=</span> <span class="n">_head</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">list</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">empty_init</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="kt">void</span> <span class="nf">push_back</span><span class="p">(</span><span class="k">const</span> <span class="n">T</span><span class="o">&amp;</span> <span class="n">x</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">insert</span><span class="p">(</span><span class="n">end</span><span class="p">(),</span> <span class="n">x</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="kt">void</span> <span class="nf">push_back</span><span class="p">(</span><span class="n">T</span><span class="o">&amp;&amp;</span> <span class="n">x</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">insert</span><span class="p">(</span><span class="n">end</span><span class="p">(),</span> <span class="n">move</span><span class="p">(</span><span class="n">x</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">iterator</span> <span class="nf">insert</span><span class="p">(</span><span class="n">iterator</span> <span class="n">pos</span><span class="p">,</span> <span class="k">const</span> <span class="n">T</span><span class="o">&amp;</span> <span class="n">x</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">Node</span><span class="o">*</span> <span class="n">cur</span> <span class="o">=</span> <span class="n">pos</span><span class="p">.</span><span class="n">_node</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="n">Node</span><span class="o">*</span> <span class="n">newnode</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Node</span><span class="p">(</span><span class="n">x</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="n">Node</span><span class="o">*</span> <span class="n">prev</span> <span class="o">=</span> <span class="n">cur</span><span class="o">-&gt;</span><span class="n">_prev</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="c1">// prev newnode cur
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="n">prev</span><span class="o">-&gt;</span><span class="n">_next</span> <span class="o">=</span> <span class="n">newnode</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="n">newnode</span><span class="o">-&gt;</span><span class="n">_prev</span> <span class="o">=</span> <span class="n">prev</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="n">newnode</span><span class="o">-&gt;</span><span class="n">_next</span> <span class="o">=</span> <span class="n">cur</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="n">cur</span><span class="o">-&gt;</span><span class="n">_prev</span> <span class="o">=</span> <span class="n">newnode</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="n">iterator</span><span class="p">(</span><span class="n">newnode</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">iterator</span> <span class="nf">insert</span><span class="p">(</span><span class="n">iterator</span> <span class="n">pos</span><span class="p">,</span> <span class="n">T</span><span class="o">&amp;&amp;</span> <span class="n">x</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">Node</span><span class="o">*</span> <span class="n">cur</span> <span class="o">=</span> <span class="n">pos</span><span class="p">.</span><span class="n">_node</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="n">Node</span><span class="o">*</span> <span class="n">newnode</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Node</span><span class="p">(</span><span class="n">move</span><span class="p">(</span><span class="n">x</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">            <span class="n">Node</span><span class="o">*</span> <span class="n">prev</span> <span class="o">=</span> <span class="n">cur</span><span class="o">-&gt;</span><span class="n">_prev</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="c1">// prev newnode cur
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="n">prev</span><span class="o">-&gt;</span><span class="n">_next</span> <span class="o">=</span> <span class="n">newnode</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="n">newnode</span><span class="o">-&gt;</span><span class="n">_prev</span> <span class="o">=</span> <span class="n">prev</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="n">newnode</span><span class="o">-&gt;</span><span class="n">_next</span> <span class="o">=</span> <span class="n">cur</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="n">cur</span><span class="o">-&gt;</span><span class="n">_prev</span> <span class="o">=</span> <span class="n">newnode</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="n">iterator</span><span class="p">(</span><span class="n">newnode</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">private</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">Node</span><span class="o">*</span> <span class="n">_head</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">};</span>
</span></span></code></pre></td></tr></table>
</div>
</div></blockquote>
<h2 id="36-ç±»å‹åˆ†ç±»">3.6 ç±»å‹åˆ†ç±»
</h2><p>C++11ä»¥åï¼Œè¿›ä¸€æ­¥å¯¹å€¼ç±»åˆ«è¿›è¡Œäº†åˆ’åˆ†ï¼š</p>
<p>å³å€¼è¢«æ‹†åˆ†ä¸ºçº¯å³å€¼ï¼ˆpure valueï¼Œç®€ç§°prvalueï¼‰å’Œå°†äº¡å€¼ï¼ˆexpiring valueï¼Œ ç®€ç§°xvalueï¼‰ã€‚</p>
<ul>
<li>
<p><strong>çº¯å³å€¼</strong>ï¼šå¤©ç”Ÿæ²¡æœ‰åå­—çš„ä¸´æ—¶å¯¹è±¡ï¼Œæ¯”å¦‚å­—é¢å€¼å¸¸é‡ã€æ²¡æœ‰åå­—çš„ä¸´æ—¶å¯¹è±¡/è®¡ç®—ç»“æœç­‰ã€‚å®ƒæ²¡æœ‰å®ä½“åå­—ï¼Œæ²¡åŠæ³•é€šè¿‡å®ƒä¿®æ”¹åŸèµ„æºã€‚</p>
</li>
<li>
<p><strong>å°†äº¡å€¼</strong>ï¼šæœ¬æ¥æœ‰åå­—ï¼Œä½†æ˜¯è¢«æ ‡è®°ä¸ºâ€œé©¬ä¸Šå°±è¦é”€æ¯â€ã€ä¸“é—¨ç”¨æ¥è½¬ç§»èµ„æºçš„å¯¹è±¡ã€‚æ¯”å¦‚move(å·¦å€¼)ã€static_cast&lt;å³å€¼å¼•ç”¨&gt;(å·¦å€¼)å¤„ç†åï¼Œå¯¹è±¡å°±å˜æˆäº†å°†äº¡å€¼  ã€‚å®ƒæœ‰æ˜ç¡®çš„èµ„æºå½’å±ï¼ˆæœ¬æ¥æ˜¯æŸä¸ªå¯¹è±¡çš„èµ„æºï¼‰ï¼Œä½†æ˜¯è¢«æ ‡è®°ä¸ºå³å°†é”€æ¯ï¼Œæ‰€ä»¥ç¼–è¯‘å™¨ä¼šä¼˜å…ˆè°ƒç”¨ç§»åŠ¨æ„é€ ï¼Œç›´æ¥è½¬ç§»å®ƒçš„èµ„æºã€‚</p>
</li>
</ul>
<p><strong>æ³›å·¦å€¼</strong>ï¼ˆgeneralized valueï¼Œç®€ç§° glvalueï¼‰ï¼šèƒ½æ‰¾åˆ°èµ„æºä½ç½®çš„å€¼ï¼ŒåŒ…å«å·¦å€¼å’Œå°†äº¡å€¼ã€‚</p>
<blockquote>
<p>çº¯å³å€¼åªæ˜¯ä¸€ä¸ªä¸´æ—¶ç»“æœï¼Œæ²¡åŠæ³•å®šä½åˆ°å…·ä½“èµ„æºçš„åœ°å€</p>
</blockquote>
<p><a class="link" href="https://en.cppreference.com/w/cpp/language/value_category.html"  target="_blank" rel="noopener"
    >å€¼ç±»åˆ«-cppreference.com</a> å’Œ <a class="link" href="https://en.cppreference.com/w/cpp/language/value_category.html"  target="_blank" rel="noopener"
    >Value categories</a> è¿™ä¸¤ä¸ªå…³äºå€¼ç±»å‹çš„ä¸­æ–‡å’Œè‹±æ–‡çš„å®˜æ–¹æ–‡æ¡£</p>
<p><img src="/p/c-11/index.assets/image-20251114205630255.png"
	width="588"
	height="268"
	
	loading="lazy"
	
		alt="image-20251114205630255"
	
	
		class="gallery-image" 
		data-flex-grow="219"
		data-flex-basis="526px"
	
></p>
<h2 id="37-å¼•ç”¨æŠ˜å ">3.7 å¼•ç”¨æŠ˜å 
</h2><p>C++ä¸­ä¸èƒ½ç›´æ¥å®šä¹‰å¼•ç”¨çš„å¼•ç”¨ï¼ˆæ¯”å¦‚<code>int&amp; &amp;&amp;r = i;</code>è¿™æ ·çš„å†™æ³•ä¼šæŠ¥é”™ï¼‰ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡ typedef æˆ– æ¨¡ç‰ˆ ä¸­çš„ç±»å‹æ“ä½œï¼Œé—´æ¥åœ°æ„æˆå¼•ç”¨çš„å¼•ç”¨</p>
<p><strong>å¼•ç”¨æŠ˜å çš„è§„åˆ™</strong>ï¼šå³å€¼å¼•ç”¨çš„å³å€¼å¼•ç”¨æŠ˜å æˆå³å€¼å¼•ç”¨ï¼Œæ‰€æœ‰å…¶å®ƒç»„åˆå‡æŠ˜å æˆå·¦å€¼å¼•ç”¨</p>
<p>1ï¼‰å‚æ•°ä¸ºå›ºå®šå·¦å€¼å¼•ç”¨ï¼ˆT&amp;ï¼‰ï¼šæ¨¡æ¿å®ä¾‹åŒ–åå§‹ç»ˆæ˜¯å·¦å€¼å¼•ç”¨ï¼ˆä»…æ¥æ”¶å·¦å€¼ï¼‰</p>
<blockquote>
<p>å³ä¾¿Tæ¨å¯¼ä¸ºå¼•ç”¨ç±»å‹ï¼ˆé—´æ¥æ„æˆâ€œå¼•ç”¨çš„å¼•ç”¨â€ï¼‰ï¼ŒæŒ‰æŠ˜å è§„åˆ™ä¹Ÿä¼šæœ€ç»ˆæŠ˜å æˆå·¦å€¼å¼•ç”¨</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="n">f1</span><span class="p">(</span><span class="n">T</span><span class="o">&amp;</span> <span class="n">x</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span> <span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/c-11/index.assets/image-20251116122505158.png"
	width="1203"
	height="589"
	
	loading="lazy"
	
		alt="image-20251116122505158"
	
	
		class="gallery-image" 
		data-flex-grow="204"
		data-flex-basis="490px"
	
></p>
<p>2ï¼‰å‚æ•°ä¸ºä¸‡èƒ½å¼•ç”¨ï¼ˆT&amp;&amp;ï¼‰ï¼šæ¨¡æ¿æ¨å¯¼éœ€æŒ‰æŠ˜å è§„åˆ™å¤„ç†</p>
<ul>
<li>ä¼ å·¦å€¼ï¼ŒTæ¨å¯¼ä¸ºå·¦å€¼å¼•ç”¨ï¼ŒæŒ‰è§„åˆ™æŠ˜å ï¼ˆå·¦å€¼å¼•ç”¨&amp;&amp; â€”&gt;å·¦å€¼å¼•ç”¨ï¼‰ï¼Œæœ€ç»ˆä¸ºå·¦å€¼å¼•ç”¨</li>
<li>ä¼ å³å€¼ï¼ŒTæ¨å¯¼ä¸ºéå¼•ç”¨ç±»å‹ï¼Œæ— éœ€é¢å¤–æŠ˜å ï¼Œæœ€ç»ˆä¸ºå³å€¼å¼•ç”¨ï¼ˆT&amp;&amp; â€”&gt;å³å€¼å¼•ç”¨ï¼‰</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="n">f2</span><span class="p">(</span><span class="n">T</span><span class="o">&amp;&amp;</span> <span class="n">x</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{}</span>  
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/c-11/index.assets/image-20251116154050372.png"
	width="1120"
	height="444"
	
	loading="lazy"
	
		alt="image-20251116154050372"
	
	
		class="gallery-image" 
		data-flex-grow="252"
		data-flex-basis="605px"
	
></p>
<p>ä¸‡èƒ½å¼•ç”¨æ¨å¯¼çš„å…·ä½“å®ä¾‹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="n">Function</span><span class="p">(</span><span class="n">T</span><span class="o">&amp;&amp;</span> <span class="n">t</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="n">T</span> <span class="n">x</span> <span class="o">=</span> <span class="n">a</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//x++;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="o">&amp;</span><span class="n">a</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="o">&amp;</span><span class="n">x</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//10æ˜¯å³å€¼ï¼Œè‡ªåŠ¨æ¨å¯¼å‡ºTä¸ºint
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">Function</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span><span class="c1">//æ¨¡ç‰ˆå®ä¾‹åŒ–ä¸ºvoid Function(int&amp;&amp; t)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="kt">int</span> <span class="n">a</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// aæ˜¯å·¦å€¼ï¼Œè‡ªåŠ¨æ¨å¯¼å‡ºTæ˜¯int&amp;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">Function</span><span class="p">(</span><span class="n">a</span><span class="p">);</span><span class="c1">//æ¨¡ç‰ˆå®ä¾‹åŒ–ä¸ºvoid Function(const int&amp; t)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="c1">//move(a)æ˜¯å³å€¼ï¼Œè‡ªåŠ¨æ¨å¯¼Tä¸ºint
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">Function</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">move</span><span class="p">(</span><span class="n">a</span><span class="p">));</span> <span class="c1">//æ¨¡ç‰ˆå®ä¾‹åŒ–ä¸ºvoid Function(int&amp;&amp; t)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="c1">//bæ˜¯å·¦å€¼ï¼Œè‡ªåŠ¨æ¨å¯¼ä¸ºconst int&amp;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="k">const</span> <span class="kt">int</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">8</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="n">Function</span><span class="p">(</span><span class="n">b</span><span class="p">);</span><span class="c1">//æ¨¡ç‰ˆå®ä¾‹åŒ–ä¸ºvoid Function(const int&amp; t)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="c1">//move(b)æ˜¯å³å€¼ï¼Œè‡ªåŠ¨æ¨å¯¼ä¸ºconst int
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">Function</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">move</span><span class="p">(</span><span class="n">b</span><span class="p">));</span><span class="c1">//æ¨¡ç‰ˆå®ä¾‹åŒ–ä¸ºvoid Function(const int&amp;&amp; t)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/c-11/index.assets/image-20251115232616792.png"
	width="1517"
	height="605"
	
	loading="lazy"
	
		alt="image-20251115232616792"
	
	
		class="gallery-image" 
		data-flex-grow="250"
		data-flex-basis="601px"
	
></p>
<p>ä¸‡èƒ½å¼•ç”¨ï¼Œä¼ å·¦å€¼æ¨å¯¼åæœ€ç»ˆæ˜¯å·¦å€¼å¼•ç”¨ï¼Œä¼ å³å€¼æ¨å¯¼åæœ€ç»ˆæ˜¯å³å€¼å¼•ç”¨</p>
<h2 id="38-å®Œç¾è½¬å‘">3.8 å®Œç¾è½¬å‘
</h2><p>åœ¨ä¹‹å‰å­¦ä¹ ä¸‡èƒ½å¼•ç”¨çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å‘ç°ä¸€ä¸ªé—®é¢˜ï¼š<strong>å‡½æ•°æ¨¡ç‰ˆå†…éƒ¨çš„å‚æ•°tï¼Œæœ¬èº«æ˜¯å·¦å€¼</strong>ï¼ˆå› ä¸ºå¼•ç”¨å˜é‡è¡¨è¾¾å¼éƒ½æ˜¯å·¦å€¼ï¼Œä¸ç®¡æ˜¯å·¦å€¼å¼•ç”¨å˜é‡è¡¨è¾¾å¼è¿˜æ˜¯å³å€¼å¼•ç”¨å˜é‡è¡¨è¾¾å¼ï¼Œéƒ½æ˜¯å·¦å€¼ï¼‰ï¼Œå¦‚æœç›´æ¥æŠŠ t ä¼ ç»™å…¶å®ƒå‡½æ•°ï¼Œå°±<strong>ä¼šä¸¢å¤±ä¼ è¿‡æ¥çš„å®å‚çš„åŸæœ¬å±æ€§</strong>ï¼ˆä¼ è¿‡æ¥çš„å®å‚å¯èƒ½æ˜¯å·¦å€¼ã€å³å€¼ã€constå·¦å€¼ã€constå³å€¼ï¼‰ï¼Œ<strong>å¯¼è‡´ä¸ç®¡åŸæ¥å®å‚æ˜¯ä»€ä¹ˆç±»å‹ï¼Œæœ€ç»ˆéƒ½ä¼šåŒ¹é…åˆ°å·¦å€¼å¼•ç”¨ç‰ˆæœ¬çš„å‡½æ•°é‡è½½</strong>ã€‚</p>
<blockquote>
<p>è¿™èƒŒåçš„å…³é”®æ˜¯å‡½æ•°æ¨¡æ¿ä¸æ™®é€šé‡è½½å‡½æ•°çš„å‚æ•°æ¥æ”¶æœºåˆ¶ä¸åŒï¼šå‡½æ•°æ¨¡æ¿ä¼šé€šè¿‡æ¨¡æ¿å‚æ•°Tæ¨å¯¼ï¼Œè®°å½•å®å‚çš„åŸå§‹å±æ€§ï¼›è€Œæ™®é€šé‡è½½å‡½æ•°ä¸ä¼šè®°å½•è¿™äº›ä¿¡æ¯ï¼Œåªè®¤â€œä¼ å…¥çš„è¡¨è¾¾å¼æœ¬èº«æ˜¯å·¦å€¼è¿˜æ˜¯å³å€¼â€ã€‚æ­£å› ä¸ºæ™®é€šå‡½æ•°åªçœ‹çœ¼å‰çš„è¡¨è¾¾å¼å±æ€§ï¼Œç›´æ¥ä¼ å·¦å€¼å±æ€§çš„ t æ‰ä¼šåŒ¹é…é”™è¯¯é‡è½½</p>
</blockquote>
<p>è¿™æ—¶å°±éœ€è¦ç”¨åˆ°å®Œç¾è½¬å‘ã€‚å®Œç¾è½¬å‘<code>std::forward</code>æœ¬è´¨æ˜¯ä¸€ä¸ªå‡½æ•°æ¨¡æ¿ï¼Œå®ƒä¸»è¦æ˜¯é€šè¿‡å¼•ç”¨æŠ˜å çš„æ–¹å¼å®ç°ï¼Œèƒ½å®Œæ•´ä¿ç•™åŸæœ¬å®å‚çš„å±æ€§ï¼Œç²¾å‡†è½¬å‘ç»™ä¸‹ä¸€å±‚å‡½æ•°ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="o">&gt;</span> <span class="n">T</span><span class="o">&amp;&amp;</span> <span class="n">forward</span> <span class="p">(</span><span class="k">typename</span> <span class="n">remove_reference</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;::</span><span class="n">type</span><span class="o">&amp;</span> <span class="n">arg</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="o">&gt;</span> <span class="n">T</span><span class="o">&amp;&amp;</span> <span class="n">forward</span> <span class="p">(</span><span class="k">typename</span> <span class="n">remove_reference</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;::</span><span class="n">type</span><span class="o">&amp;&amp;</span> <span class="n">arg</span><span class="p">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><code>std::forward</code>ä½œä¸ºå‡½æ•°æ¨¡ç‰ˆï¼Œå®ƒçš„å®ä¾‹åŒ–ä¸æ˜¯ä¾èµ–å˜é‡ t çš„ç±»å‹ï¼Œè€Œæ˜¯ç”±æ˜¾å¼ä¼ å…¥çš„æ¨¡æ¿å®å‚Tæ¥ç¡®å®šçš„ï¼Œæˆ‘ä»¬ç»“åˆä¸‹é¢çš„ä¾‹å­æ¥ç†è§£ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">template</span> <span class="o">&lt;</span> <span class="k">class</span> <span class="nc">_ty</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="n">_ty</span> <span class="o">&amp;&amp;</span> <span class="n">forward</span><span class="p">(</span><span class="n">remove_reference_t</span><span class="o">&lt;</span><span class="n">_ty</span><span class="o">&gt;&amp;</span><span class="n">_arg</span><span class="p">)</span> <span class="k">noexcept</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="c1">// forward an lvalue as either an lvalue or an rvaluereturn static_cast&lt;_ty&amp;&amp;&gt;(_arg);
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">fun</span><span class="p">(</span><span class="kt">int</span><span class="o">&amp;</span> <span class="n">x</span><span class="p">)</span> <span class="p">{</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;å·¦å€¼å¼•ç”¨&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">fun</span><span class="p">(</span><span class="k">const</span> <span class="kt">int</span><span class="o">&amp;</span> <span class="n">x</span><span class="p">)</span> <span class="p">{</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;const å·¦å€¼å¼•ç”¨&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">fun</span><span class="p">(</span><span class="kt">int</span><span class="o">&amp;&amp;</span> <span class="n">x</span><span class="p">)</span> <span class="p">{</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;å³å€¼å¼•ç”¨&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">fun</span><span class="p">(</span><span class="k">const</span> <span class="kt">int</span><span class="o">&amp;&amp;</span> <span class="n">x</span><span class="p">)</span> <span class="p">{</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;const å³å€¼å¼•ç”¨&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//ä¸‡èƒ½å¼•ç”¨
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="n">function</span><span class="p">(</span><span class="n">T</span><span class="o">&amp;&amp;</span> <span class="n">t</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//fun(t);//ç›´æ¥ä¼ tä¼šåŒ¹é…å·¦å€¼å¼•ç”¨ç‰ˆæœ¬çš„å‡½æ•°é‡è½½
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">fun</span><span class="p">(</span><span class="n">forward</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">t</span><span class="p">));</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// 10æ˜¯å³å€¼ï¼Œæ¨å¯¼å‡ºTä¸ºintï¼Œæ¨¡æ¿å®ä¾‹åŒ–ä¸ºvoid function(int&amp;&amp; t)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">function</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span> <span class="c1">// å³å€¼
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="kt">int</span> <span class="n">a</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// aæ˜¯å·¦å€¼ï¼Œæ¨å¯¼å‡ºTä¸ºint&amp;ï¼Œå¼•ç”¨æŠ˜å ï¼Œæ¨¡æ¿å®ä¾‹åŒ–ä¸ºvoid function(int&amp; t)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">function</span><span class="p">(</span><span class="n">a</span><span class="p">);</span> <span class="c1">// å·¦å€¼
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="c1">// std::move(a)æ˜¯å³å€¼ï¼Œæ¨å¯¼å‡ºTä¸ºintï¼Œæ¨¡æ¿å®ä¾‹åŒ–ä¸ºvoid function(int&amp;&amp; t)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">function</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">move</span><span class="p">(</span><span class="n">a</span><span class="p">));</span> <span class="c1">// å³å€¼
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="k">const</span> <span class="kt">int</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">8</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// bæ˜¯å·¦å€¼ï¼Œæ¨å¯¼å‡ºTä¸ºconst int&amp;ï¼Œå¼•ç”¨æŠ˜å ï¼Œæ¨¡æ¿å®ä¾‹åŒ–ä¸ºvoid function(const int&amp;t)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">function</span><span class="p">(</span><span class="n">b</span><span class="p">);</span> <span class="c1">// const å·¦å€¼
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="c1">// std::move(b)å³å€¼ï¼Œæ¨å¯¼å‡ºTä¸ºconst intï¼Œæ¨¡æ¿å®ä¾‹åŒ–ä¸ºvoid function(const int&amp;&amp;t)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">function</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">move</span><span class="p">(</span><span class="n">b</span><span class="p">));</span> <span class="c1">// const å³å€¼
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>åœ¨ä¸Šé¢è¿™æ®µä»£ç ä¸­ï¼Œå®Œç¾è½¬å‘çš„å®é™…æ‰§è¡Œé€»è¾‘æ˜¯ï¼šå½“ä¼ é€’ç»™Functionçš„å®å‚æ˜¯å³å€¼æ—¶ï¼ŒTè¢«æ¨å¯¼ä¸ºéå¼•ç”¨ç±»å‹ï¼Œforwardå†…éƒ¨é€šè¿‡<code>static_cast&lt;T&amp;&amp;&gt;</code>å°† t è½¬ä¸ºå³å€¼å¼•ç”¨è¿”å›ï¼›å½“ä¼ é€’ç»™Functionçš„å®å‚æ˜¯å·¦å€¼ï¼ŒTè¢«æ¨å¯¼ä¸ºå·¦å€¼å¼•ç”¨ç±»å‹ï¼Œç»å¼•ç”¨æŠ˜å ï¼ˆå·¦å€¼å¼•ç”¨ &amp;&amp; â€”&gt; å·¦å€¼å¼•ç”¨ï¼‰åï¼Œforwardå†…éƒ¨é€šè¿‡<code>static_cast&lt;T&amp;&amp;&gt;</code>å°† t å¼ºè½¬ä¸ºå·¦å€¼å¼•ç”¨è¿”å›</p>
<blockquote>
<p>å®Œç¾è½¬å‘èƒ½è¯†åˆ«åŸå®å‚å±æ€§çš„æ ¸å¿ƒï¼Œæ˜¯ä¾æ‰˜ä¸‡èƒ½å¼•ç”¨çš„æ¨å¯¼ç»“æœ + å¼•ç”¨æŠ˜å è§„åˆ™ï¼š</p>
<p>1ï¼‰ä¸‡èƒ½å¼•ç”¨æ¥æ”¶å®å‚æ—¶ï¼Œä¼šå°†åŸå®å‚çš„å·¦å€¼ / å³å€¼å±æ€§ â€œç¼–ç â€ åˆ° T çš„æ¨å¯¼ç±»å‹ä¸­ â€”â€” ä¼ å·¦å€¼æ—¶ T æ¨å¯¼ä¸ºå·¦å€¼å¼•ç”¨ï¼Œä¼ å³å€¼æ—¶ T æ¨å¯¼ä¸ºéå¼•ç”¨ç±»å‹ï¼Œè¿™ä¸€æ­¥å°±å·²ç»ä¿ç•™äº†åŸå®å‚çš„å±æ€§æ ‡è®°</p>
<p>2ï¼‰è€Œ<code>std::forward</code>åº•å±‚é€šè¿‡<code>static_cast&lt;T&amp;&amp;&gt;(t)</code>ç»“åˆå¼•ç”¨æŠ˜å ï¼Œæ ¹æ® T çš„æ¨å¯¼ç±»å‹åå‘è¿˜åŸï¼š<strong>è‹¥ T æ˜¯å·¦å€¼å¼•ç”¨ï¼Œç»å¼•ç”¨æŠ˜å åè½¬ä¸ºå·¦å€¼å¼•ç”¨è¿”å›ï¼Œè‹¥ T æ˜¯éå¼•ç”¨ç±»å‹ï¼Œåˆ™ç›´æ¥è½¬ä¸ºå³å€¼å¼•ç”¨è¿”å›</strong>ï¼Œæœ¬è´¨æ˜¯é  T çš„æ¨å¯¼ç»“æœ â€œè®°ä½â€ åŸå®å‚ç±»å‹ï¼Œå†é€šè¿‡å¼•ç”¨æŠ˜å ç²¾å‡†è¿˜åŸè½¬å‘ã€‚</p>
</blockquote>
<h1 id="4å¯å˜å‚æ•°æ¨¡æ¿">4.å¯å˜å‚æ•°æ¨¡æ¿
</h1><h2 id="41-åŸºæœ¬è¯­æ³•åŠåŸç†">4.1 åŸºæœ¬è¯­æ³•åŠåŸç†
</h2><p><strong>åŸºæœ¬ä»‹ç»</strong></p>
<p>å¯å˜å‚æ•°åˆ†ä¸ºä¸¤ç§ï¼šæ™®é€šå‡½æ•°çš„å¯å˜å‚æ•° å’Œ å¯å˜å‚æ•°æ¨¡æ¿</p>
<ul>
<li>
<p>æ™®é€šå‡½æ•°çš„å¯å˜å‚æ•°ï¼Œæ¯”å¦‚æˆ‘ä»¬å­¦è¿‡çš„printfã€scanf å°±æ˜¯ç»å…¸çš„å¯å˜å‚æ•°å‡½æ•°</p>
</li>
<li>
<p>å¯å˜å‚æ•°æ¨¡æ¿å°±æ˜¯è®©å‡½æ•°æ¨¡æ¿æˆ–ç±»æ¨¡æ¿æ”¯æŒä»»æ„ä¸ªæ•°ã€ä»»æ„ç±»å‹çš„å‚æ•°</p>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="c1">// æ™®é€šå‡½æ•°çš„å¯å˜å‚æ•°ï¼Œ...è¡¨ç¤ºå¯å˜å‚æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">int</span> <span class="nf">printf</span> <span class="p">(</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span> <span class="n">format</span><span class="p">,</span> <span class="p">...</span> <span class="p">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯å˜å‚æ•°æ¨¡æ¿ä¸­ï¼Œå¯å˜æ•°ç›®çš„å‚æ•°è¢«ç§°ä¸ºå‚æ•°åŒ…ï¼Œå‚æ•°åŒ…æœ‰ä¸¤ç§ï¼š</p>
<ol>
<li>æ¨¡ç‰ˆå‚æ•°åŒ…ï¼Œè¡¨ç¤ºé›¶ä¸ªæˆ–å¤šä¸ªæ¨¡ç‰ˆå‚æ•°</li>
<li>å‡½æ•°å‚æ•°åŒ…ï¼Œè¡¨ç¤ºé›¶ä¸ªæˆ–å¤šä¸ªå‡½æ•°å‚æ•°</li>
</ol>
<p><strong>å¯å˜å‚æ•°æ¨¡ç‰ˆçš„å†™æ³•</strong></p>
<p>æˆ‘ä»¬ç”¨çœç•¥å·æ¥æŒ‡å‡ºä¸€ä¸ªæ¨¡ç‰ˆå‚æ•°æˆ–å‡½æ•°å‚æ•°çš„è¡¨ç¤ºä¸€ä¸ªåŒ…</p>
<p>1ï¼‰å¦‚æœæ˜¯ç±»æ¨¡ç‰ˆæˆ–å‡½æ•°æ¨¡ç‰ˆå¸Œæœ›å¯ä»¥æ¥æ”¶é›¶ä¸ªæˆ–å¤šä¸ªç±»å‹ï¼Œå†™æ³•å°±æ˜¯åœ¨æ¨¡ç‰ˆå‚æ•°åˆ—è¡¨ä¸­å†™<code>class ...</code>æˆ–<code>typename ...</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="err">...</span><span class="nc">Args</span><span class="o">&gt;</span> 
</span></span></code></pre></td></tr></table>
</div>
</div><p>2ï¼‰å¦‚æœå‡½æ•°æ¨¡ç‰ˆå¸Œæœ›æ¥æ”¶é›¶ä¸ªæˆ–å¤šä¸ªå‚æ•°ï¼Œå†™æ³•å°±æ˜¯åœ¨å‡½æ•°å‚æ•°åˆ—è¡¨ä¸­å†™<code>ç±»å‹å...</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="err">...</span><span class="nc">Args</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="n">Func</span><span class="p">(</span><span class="n">Args</span><span class="p">...</span> <span class="n">args</span><span class="p">)</span> <span class="p">{}</span> <span class="c1">// Argså°±æ˜¯æ¨¡ç‰ˆå‚æ•°åŒ…ï¼Œargså°±æ˜¯å‡½æ•°å‚æ•°åŒ…
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>å¸¸è§å†™æ³•ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="err">Â·..</span><span class="nc">Args</span><span class="o">&gt;</span> <span class="kt">void</span> <span class="n">Func</span><span class="p">(</span><span class="n">Args</span><span class="p">...</span> <span class="n">args</span><span class="p">)</span> <span class="p">{}</span>
</span></span><span class="line"><span class="cl"><span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="err">Â·..</span><span class="nc">Args</span><span class="o">&gt;</span> <span class="kt">void</span> <span class="n">Func</span><span class="p">(</span><span class="n">Args</span><span class="o">&amp;</span><span class="p">...</span> <span class="n">args</span><span class="p">)</span> <span class="p">{}</span> <span class="c1">// å·¦å€¼å¼•ç”¨
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="err">Â·..</span><span class="nc">Args</span><span class="o">&gt;</span> <span class="kt">void</span> <span class="n">Func</span><span class="p">(</span><span class="n">Args</span><span class="o">&amp;&amp;</span><span class="p">...</span> <span class="n">args</span><span class="p">)</span> <span class="p">{}</span> <span class="c1">// ä¸‡èƒ½å¼•ç”¨
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><strong>å¯å˜å‚æ•°æ¨¡æ¿çš„åŸç†</strong></p>
<p>å¯å˜å‚æ•°æ¨¡æ¿çš„åŸç†è·Ÿæ™®é€šæ¨¡æ¿ä¸€è‡´ï¼Œç¼–è¯‘å™¨ä¼šæ ¹æ®ä½ ä¼ å…¥çš„å‚æ•°ç±»å‹ã€å‚æ•°ä¸ªæ•°ï¼Œè‡ªåŠ¨å®ä¾‹åŒ–å‡ºå¯¹åº”çš„å¤šä¸ªå‡½æ•°ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>sizeof...</code>è¿ç®—ç¬¦è®¡ç®—å‚æ•°åŒ…ä¸­å‚æ•°çš„ä¸ªæ•°ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;string&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="err">...</span><span class="nc">Args</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="n">Print</span><span class="p">(</span><span class="n">Args</span><span class="o">&amp;&amp;</span><span class="p">...</span> <span class="n">args</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="k">sizeof</span><span class="p">...(</span><span class="n">args</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kt">double</span> <span class="n">x</span> <span class="o">=</span> <span class="mf">2.2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="n">Print</span><span class="p">();</span> <span class="c1">// åŒ…é‡Œæœ‰0ä¸ªå‚æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">Print</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span> <span class="c1">// åŒ…é‡Œæœ‰1ä¸ªå‚æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">Print</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">string</span><span class="p">(</span><span class="s">&#34;xxxx&#34;</span><span class="p">));</span> <span class="c1">// åŒ…é‡Œæœ‰2ä¸ªå‚æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">Print</span><span class="p">(</span><span class="mf">1.1</span><span class="p">,</span> <span class="n">string</span><span class="p">(</span><span class="s">&#34;xxxx&#34;</span><span class="p">),</span> <span class="n">x</span><span class="p">);</span> <span class="c1">// åŒ…é‡Œæœ‰3ä¸ªå‚æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿™é‡Œç¼–è¯‘å™¨ä¼šæ ¹æ®å¼•ç”¨æŠ˜å çš„è§„åˆ™ï¼Œå®ä¾‹åŒ–å‡ºä»¥ä¸‹å››ä¸ªå‡½æ•°</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">Print</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">Print</span><span class="p">(</span><span class="kt">int</span><span class="o">&amp;&amp;</span> <span class="n">arg1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">Print</span><span class="p">(</span><span class="kt">int</span><span class="o">&amp;&amp;</span> <span class="n">arg1</span><span class="p">,</span> <span class="n">string</span><span class="o">&amp;&amp;</span> <span class="n">arg2</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">Print</span><span class="p">(</span><span class="kt">double</span><span class="o">&amp;&amp;</span> <span class="n">arg1</span><span class="p">,</span> <span class="n">string</span><span class="o">&amp;&amp;</span> <span class="n">arg2</span><span class="p">,</span> <span class="kt">double</span><span class="o">&amp;</span> <span class="n">arg3</span><span class="p">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä¹Ÿå°±æ˜¯å¦‚æœæ²¡æœ‰å¯å˜å‚æ•°æ¨¡ç‰ˆï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦è‡ªå·±å†™å¤šä¸ªå‡½æ•°æ¨¡ç‰ˆæ‰èƒ½æ”¯æŒè¿™é‡Œçš„åŠŸèƒ½ã€‚å¯å˜å‚æ•°æ¨¡ç‰ˆæ˜¯ç±»å‹æ³›åŒ–åŸºç¡€ä¸Šå åŠ æ•°é‡å˜åŒ–ï¼Œè®©æˆ‘ä»¬æ³›å‹ç¼–ç¨‹æ›´çµæ´»ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">Print</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">T1</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="n">Print</span><span class="p">(</span><span class="n">T1</span><span class="o">&amp;&amp;</span> <span class="n">arg1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">T1</span><span class="p">,</span> <span class="k">class</span> <span class="nc">T2</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="n">Print</span><span class="p">(</span><span class="n">T1</span><span class="o">&amp;&amp;</span> <span class="n">arg1</span><span class="p">,</span> <span class="n">T2</span><span class="o">&amp;&amp;</span> <span class="n">arg2</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">T1</span><span class="p">,</span> <span class="k">class</span> <span class="nc">T2</span><span class="p">,</span> <span class="k">class</span> <span class="nc">T3</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="n">Print</span><span class="p">(</span><span class="n">T1</span><span class="o">&amp;&amp;</span> <span class="n">arg1</span><span class="p">,</span> <span class="n">T2</span><span class="o">&amp;&amp;</span> <span class="n">arg2</span><span class="p">,</span> <span class="n">T3</span><span class="o">&amp;&amp;</span> <span class="n">arg3</span><span class="p">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>æ™®é€šå‡½æ•°æ¨¡ç‰ˆçš„ä½œç”¨ï¼šæœ¬æ¥æˆ‘ä»¬éœ€è¦è‡ªå·±å†™å¤šä¸ªå‡½æ•°ï¼Œç°åœ¨åªæœ‰å†™ä¸€ä¸ªå‡½æ•°æ¨¡ç‰ˆå³å¯</p>
<p>å¯å˜å‚æ•°å‡½æ•°æ¨¡ç‰ˆï¼šæœ¬æ¥éœ€è¦æˆ‘ä»¬è‡ªå·±å†™å¤šä¸ªå‡½æ•°æ¨¡ç‰ˆï¼Œç°åœ¨åªéœ€è¦å†™ä¸€ä¸ªå¯å˜å‚æ•°æ¨¡ç‰ˆå³å¯</p>
</blockquote>
<h2 id="42-åŒ…æ‰©å±•">4.2 åŒ…æ‰©å±•
</h2><p>å½“æˆ‘ä»¬å†™äº†ä¸€ä¸ªå¯å˜å‚æ•°æ¨¡ç‰ˆåï¼Œé™¤äº†å¯ä»¥ç”¨<code>sizeof...</code>è®¡ç®—å‚æ•°åŒ…çš„å‚æ•°ä¸ªæ•°ï¼Œè¿˜å¯ä»¥æ‰©å±•å‚æ•°åŒ…ã€‚æ‰©å±•å‚æ•°åŒ…æœ¬è´¨å°±æ˜¯æŠŠå‚æ•°åŒ…é‡Œçš„å…ƒç´ ä¸€ä¸ªä¸€ä¸ªæ‹†å‡ºæ¥ï¼Œé€ä¸ªå¤„ç†</p>
<p><strong>å¦‚ä½•å®ç°æ‰©å±•å‚æ•°åŒ…å‘¢ï¼Ÿ</strong></p>
<p>æˆ‘ä»¬å¯èƒ½ä¼šæƒ³åˆ°ç›´æ¥ç”¨forå¾ªç¯éå†å‚æ•°åŒ…ï¼Œæ¯”å¦‚å†™æˆä¸‹é¢è¿™æ ·ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="err">...</span><span class="nc">Args</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="n">Print</span><span class="p">(</span><span class="n">Args</span><span class="p">...</span> <span class="n">args</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="p">(</span><span class="n">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="k">sizeof</span><span class="p">...(</span><span class="n">args</span><span class="p">);</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; &#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä½†æ˜¯è¿™ç§å†™æ³•æ˜¯ä¸æ”¯æŒçš„ï¼Œå› ä¸ºå‚æ•°åŒ…æœ¬è´¨æ˜¯ç¼–è¯‘æ—¶å®ä¾‹åŒ–çš„å‚æ•°åˆ—è¡¨ï¼Œè€Œä¸æ˜¯æ•°ç»„æˆ–å®¹å™¨ï¼Œæ‰€ä»¥ä¸æ”¯æŒ [ä¸‹æ ‡] çš„è¿™ç§æ–¹å¼æ¥è®¿é—®</p>
<blockquote>
<p>åœ¨ç¼–è¯‘æ—¶å‚æ•°åŒ…åªè´Ÿè´£æŠŠå‚æ•°æ‹†æˆç‹¬ç«‹çš„ä¸ªä½“ï¼Œæ‰€ä»¥æ²¡æœ‰ [ä¸‹æ ‡] è®¿é—®çš„åŠŸèƒ½ã€‚è€Œä¸”æˆ‘ä»¬å†™çš„æ˜¯å¯å˜å‚æ•°æ¨¡ç‰ˆï¼Œæˆ‘ä»¬ä¸çŸ¥é“å¯¹æ–¹ä¼šä¼ ä»€ä¹ˆç±»å‹çš„å‚æ•°ï¼Œå¦‚æœæ˜¯åŸºæœ¬æ•°æ®ç±»å‹å’Œè‡ªå®šä¹‰ç±»å‹æ··ç€ä¼ ï¼Œé‚£ä¹ˆå°±ç®—æœ‰ [ä¸‹æ ‡]ï¼Œä¹Ÿæ²¡æ³•ç¡®å®šè¯¥æ€ä¹ˆå–å¯¹åº”ç±»å‹çš„å…ƒç´ ï¼Œæ‰€ä»¥è¿™ç§éå†æ–¹å¼æ˜¯ä¸è¡Œçš„</p>
</blockquote>
<p>é‚£åˆ°åº•å¦‚ä½•å®ç°åŒ…æ‰©å±•å‘¢ï¼Ÿå¯ä»¥ç”¨ç¼–è¯‘æ—¶é€’å½’æ¨å¯¼</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">ShowList</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//ç¼–è¯‘æ—¶é€’å½’çš„ç»ˆæ­¢æ¡ä»¶ï¼Œå‚æ•°åŒ…æ˜¯0ä¸ªæ—¶ï¼Œç›´æ¥åŒ¹é…è¿™ä¸ªå‡½æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="p">,</span> <span class="k">class</span> <span class="err">...</span><span class="nc">Args</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="n">ShowList</span><span class="p">(</span><span class="n">T</span> <span class="n">x</span><span class="p">,</span> <span class="n">Args</span><span class="p">...</span> <span class="n">args</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//ç»“æŸæ¡ä»¶ä¸èƒ½æ˜¯è¿™ä¸ªï¼Œè¿™ä¸ªæ˜¯è¿è¡Œæ—¶åˆ¤æ–­é€»è¾‘
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//if (sizeof...(args) == 0)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//	return;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">x</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; &#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//argsæ˜¯Nä¸ªå‚æ•°çš„å‚æ•°åŒ…
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//è°ƒç”¨ShowListï¼Œå‚æ•°åŒ…çš„ç¬¬ä¸€ä¸ªä¼ ç»™xï¼Œå‰©ä¸‹çš„N-1ä¼ ç»™ç¬¬äºŒä¸ªå‚æ•°åŒ…
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">ShowList</span><span class="p">(</span><span class="n">args</span><span class="p">...);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//ç¼–è¯‘æ—¶é€’å½’æ¨å¯¼è§£æå‚æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="err">...</span><span class="nc">Args</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="n">Print</span><span class="p">(</span><span class="n">Args</span><span class="p">...</span> <span class="n">args</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">ShowList</span><span class="p">(</span><span class="n">args</span><span class="p">...);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>æˆ‘ä»¬ä»¥ Print(1, string("xxxxx"), 2.2) ä¸ºä¾‹ï¼š</p>
<p>1ï¼‰è°ƒç”¨ Print(1, string("xxxxx"), 2.2) æ—¶ï¼Œç¼–è¯‘é˜¶æ®µç¼–è¯‘å™¨ä¼šæ ¹æ®ä¼ å…¥çš„ intã€stringã€double ä¸‰ä¸ªå‚æ•°ï¼Œæ¨å¯¼å¹¶å®ä¾‹åŒ–å‡ºå…·ä½“çš„ Print å‡½æ•°ï¼Œè¯¥å‡½æ•°ä¼šæŠŠè¿™ä¸‰ä¸ªå‚æ•°ä½œä¸ºå‚æ•°åŒ…ä¼ ç»™ ShowList</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">Print</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="n">string</span> <span class="n">y</span><span class="p">,</span> <span class="kt">double</span> <span class="n">z</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">ShowList</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>2ï¼‰ç¼–è¯‘å™¨æ¥ç€æ¨å¯¼ ShowList æ¨¡æ¿ï¼Œé’ˆå¯¹ä¸‰ä¸ªå‚æ•°å®ä¾‹åŒ–ç¬¬ä¸€ä¸ªå…·ä½“çš„ ShowList å‡½æ•°ï¼ŒT åŒ¹é… 1 çš„ int ç±»å‹ï¼Œå‰©ä¸‹çš„ string("xxxxx") å’Œ 2.2 ä½œä¸ºå‚æ•°åŒ…ï¼Œè¿™ä¸ªå‡½æ•°æ‰“å° 1 åï¼Œè°ƒç”¨ ShowList å¹¶ä¼ å…¥å‰©ä½™å‚æ•°åŒ…</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">ShowList</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="n">string</span> <span class="n">y</span><span class="p">,</span> <span class="kt">double</span> <span class="n">z</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">x</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; &#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">ShowList</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>3ï¼‰ç¼–è¯‘å™¨å†é’ˆå¯¹å‰©ä½™çš„ä¸¤ä¸ªå‚æ•°ï¼Œå®ä¾‹åŒ–ç¬¬äºŒä¸ªå…·ä½“çš„ ShowList å‡½æ•°ï¼ŒT åŒ¹é… string("xxxxx") çš„ string ç±»å‹ï¼Œå‰©ä¸‹çš„ 2.2 ä½œä¸ºå‚æ•°åŒ…ï¼Œè¿™ä¸ªå‡½æ•°æ‰“å° string("xxxxx") åï¼Œè°ƒç”¨ ShowList ä¼ å…¥ 2.2</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">ShowList</span><span class="p">(</span><span class="n">string</span> <span class="n">x</span><span class="p">,</span> <span class="kt">double</span> <span class="n">z</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">x</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; &#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">ShowList</span><span class="p">(</span><span class="n">z</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>4ï¼‰ç¼–è¯‘å™¨ç»§ç»­é’ˆå¯¹æœ€åä¸€ä¸ªå‚æ•° 2.2ï¼Œå®ä¾‹åŒ–ç¬¬ä¸‰ä¸ªå…·ä½“çš„ ShowList å‡½æ•°ï¼ŒT åŒ¹é… 2.2 çš„ double ç±»å‹ï¼Œæ­¤æ—¶å‚æ•°åŒ…ä¸ºç©ºï¼Œè¿™ä¸ªå‡½æ•°æ‰“å° 2.2 åï¼Œè°ƒç”¨ ShowList</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">ShowList</span><span class="p">(</span><span class="kt">double</span> <span class="n">x</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">x</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; &#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">ShowList</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>5ï¼‰ç¼–è¯‘æ—¶ç¼–è¯‘å™¨è®©ç©ºå‚æ•°åŒ…ç›´æ¥åŒ¹é…æˆ‘ä»¬å†™çš„æ— å‚ ShowList å‡½æ•°ï¼Œä½œä¸ºé€’å½’ç»ˆæ­¢æ¡ä»¶ï¼Œä»¥ä¸Šæ‰€æœ‰å®ä¾‹åŒ–å…·ä½“å‡½æ•°çš„è¿‡ç¨‹ï¼Œå°±æ˜¯ç¼–è¯‘æ—¶é€’å½’æ¨å¯¼çš„æ ¸å¿ƒ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="c1">//ç¼–è¯‘æ—¶é€’å½’çš„ç»ˆæ­¢æ¡ä»¶ï¼Œå‚æ•°åŒ…æ˜¯0ä¸ªæ—¶ï¼Œç›´æ¥åŒ¹é…è¿™ä¸ªå‡½æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">void</span> <span class="nf">ShowList</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>6ï¼‰è¿è¡Œæ—¶ä¸ä¼šæœ‰ä»»ä½•æ¨å¯¼æˆ–æ‹†åŒ…åŠ¨ä½œï¼Œåªæ˜¯æŒ‰ç¼–è¯‘æ—¶ç¡®å®šçš„é¡ºåºï¼Œä¾æ¬¡æ‰§è¡Œå®ä¾‹åŒ–åçš„ Print å‡½æ•°ã€ä¸‰ä¸ªå¸¦å‚ ShowList å‡½æ•°å’Œæ— å‚ç»ˆæ­¢å‡½æ•°ï¼Œå•çº¯æ‰§è¡Œç°æˆé€»è¾‘</p>
</blockquote>
<p>ç¼–è¯‘æ—¶é€’å½’æ¨å¯¼åŒ…æ‰©å±•ï¼Œå®é™…ä¸Šå°±æ˜¯ç¼–è¯‘æ—¶å®ä¾‹åŒ–å‡ºå¤šä¸ªShowListå‡½æ•°ï¼Œæ¯ä¸ªå‚æ•°åŒ…éƒ½ä¼šæ›¿æ¢æˆå¯¹åº”çš„å‚æ•°ï¼Œä¸€æ­¥æ­¥æ‹†åˆ°æ²¡æœ‰å‚æ•°ä¸ºæ­¢ï¼Œç¤ºæ„å›¾å¦‚ä¸‹ï¼š</p>
<p><img src="/p/c-11/index.assets/image-20251118162541152.png"
	width="1024"
	height="673"
	
	loading="lazy"
	
		alt="image-20251118162541152"
	
	
		class="gallery-image" 
		data-flex-grow="152"
		data-flex-basis="365px"
	
></p>
<p>æ­¤å¤–ï¼ŒC++è¿˜æ”¯æŒå¦ä¸€ç§åŒ…æ‰©å±•çš„æ–¹å¼ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">const</span> <span class="n">T</span><span class="o">&amp;</span> <span class="n">GetArg</span><span class="p">(</span><span class="k">const</span> <span class="n">T</span><span class="o">&amp;</span> <span class="n">x</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">x</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; &#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="n">x</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="err">...</span><span class="nc">Args</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="n">Arguments</span><span class="p">(</span><span class="n">Args</span><span class="p">...</span> <span class="n">args</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="err">...</span><span class="nc">Args</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="n">Print</span><span class="p">(</span><span class="n">Args</span><span class="p">...</span> <span class="n">args</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//æ³¨æ„ï¼ŒGetArgå¿…é¡»è¿”å›å¯¹è±¡ï¼Œè¿™æ ·æ‰èƒ½ç»„æˆå‚æ•°åŒ…ç»™Arguments;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">Arguments</span><span class="p">(</span><span class="n">GetArg</span><span class="p">(</span><span class="n">args</span><span class="p">)...);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><code>...</code> æ˜¯å‚æ•°åŒ…æ‰©å±•ç¬¦ï¼Œä½œç”¨æ˜¯æŒ‰å‰é¢çš„æ¨¡å¼ï¼ˆæ¯”å¦‚è¿™é‡Œæ˜¯<code>GetArg(args)</code>ï¼‰ï¼ŒæŠŠå‚æ•°åŒ…çš„æ¯ä¸ªå…ƒç´ é€ä¸ªæ‹†å‡ºæ¥å¤„ç†ï¼Œå†æŠŠç»“æœé‡æ–°ç»„æˆæ–°çš„å‚æ•°åŒ…</p>
<blockquote>
<p>æˆ‘ä»¬ä»¥Print(1, string("xxxxx"), 2.2);ä¸ºä¾‹ï¼š</p>
<p>1ï¼‰è°ƒç”¨ Print(1, string ("xxxxx"), 2.2) æ—¶ï¼Œç¼–è¯‘é˜¶æ®µç¼–è¯‘å™¨å…ˆå®ä¾‹åŒ–å‡ºå…·ä½“çš„ Print å‡½æ•°ï¼Œå‚æ•°åŒ… args å°±æ˜¯ (1, string ("xxxxx"), 2.2)</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">Print</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="n">string</span> <span class="n">y</span><span class="p">,</span> <span class="kt">double</span> <span class="n">z</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Arguments</span><span class="p">(</span><span class="n">GetArg</span><span class="p">(</span><span class="n">args</span><span class="p">)...);</span> <span class="c1">// è¿™é‡Œçš„ ... ä¼šè§¦å‘å‚æ•°åŒ…æ‰©å±•
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>2ï¼‰è¿™é‡Œçš„ <code>...</code> æŒ‰è§„åˆ™å±•å¼€ï¼šå‘Šè¯‰ç¼–è¯‘å™¨æŠŠå‚æ•°åŒ… args é‡Œçš„æ¯ä¸ªå…ƒç´ ï¼Œéƒ½å•ç‹¬å¥—ä¸Šå‰é¢çš„ GetArg () æ¨¡å¼ï¼Œç›¸å½“äºç¼–è¯‘å™¨è‡ªåŠ¨æŠŠ GetArg (args)&hellip; å±•å¼€æˆï¼šGetArg (1), GetArg (string ("xxxxx")), GetArg (2.2)ï¼Œæ‰€ä»¥å®ä¾‹åŒ–åçš„ Print å‡½æ•°ï¼Œå®é™…ç­‰ä»·äºï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">Print</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="n">string</span> <span class="n">y</span><span class="p">,</span> <span class="kt">double</span> <span class="n">z</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Arguments</span><span class="p">(</span><span class="n">GetArg</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">GetArg</span><span class="p">(</span><span class="n">string</span><span class="p">(</span><span class="s">&#34;xxxxx&#34;</span><span class="p">)),</span> <span class="n">GetArg</span><span class="p">(</span><span class="mf">2.2</span><span class="p">));</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>3ï¼‰ç¼–è¯‘æ—¶ç¼–è¯‘å™¨ä¼šä¸ºæ¯ä¸ªå‚æ•°ï¼Œå®ä¾‹åŒ–å‡ºå¯¹åº”çš„ GetArg å…·ä½“å‡½æ•°ï¼ˆå› ä¸º GetArg æ˜¯æ¨¡æ¿ï¼‰</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="c1">// å®ä¾‹åŒ–å¤„ç†intçš„GetArg
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">const</span> <span class="kt">int</span><span class="o">&amp;</span> <span class="n">GetArg</span><span class="p">(</span><span class="k">const</span> <span class="kt">int</span><span class="o">&amp;</span> <span class="n">x</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">x</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; &#34;</span><span class="p">;</span> <span class="c1">// æ‰“å°1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="k">return</span> <span class="n">x</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// å®ä¾‹åŒ–å¤„ç†stringçš„GetArg
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">const</span> <span class="n">string</span><span class="o">&amp;</span> <span class="n">GetArg</span><span class="p">(</span><span class="k">const</span> <span class="n">string</span><span class="o">&amp;</span> <span class="n">x</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">x</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; &#34;</span><span class="p">;</span> <span class="c1">// æ‰“å°&#34;xxxxx&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="k">return</span> <span class="n">x</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// å®ä¾‹åŒ–å¤„ç†doubleçš„GetArg
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">const</span> <span class="kt">double</span><span class="o">&amp;</span> <span class="n">GetArg</span><span class="p">(</span><span class="k">const</span> <span class="kt">double</span><span class="o">&amp;</span> <span class="n">x</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">x</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; &#34;</span><span class="p">;</span> <span class="c1">// æ‰“å°2.2
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="k">return</span> <span class="n">x</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>4ï¼‰ç¼–è¯‘æ—¶è¿˜ä¼šå®ä¾‹åŒ–å‡ºå…·ä½“çš„ Arguments å‡½æ•°ï¼Œæ‰¿æ¥ GetArg è¿”å›çš„æ‰€æœ‰å‚æ•°</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">Arguments</span><span class="p">(</span><span class="k">const</span> <span class="kt">int</span><span class="o">&amp;</span> <span class="n">arg1</span><span class="p">,</span> <span class="k">const</span> <span class="n">string</span><span class="o">&amp;</span> <span class="n">arg2</span><span class="p">,</span> <span class="k">const</span> <span class="kt">double</span><span class="o">&amp;</span> <span class="n">arg3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ä¸ç”¨åšä»»ä½•äº‹ï¼Œåªæ˜¯æ¥æ”¶æ‰©å±•åçš„å‚æ•°ï¼Œè§¦å‘æ¯ä¸ªGetArgçš„è°ƒç”¨
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>5ï¼‰è¿è¡Œæ—¶çš„æ‰§è¡Œæµç¨‹ï¼šè°ƒç”¨ Print â€”&gt; è°ƒç”¨ Arguments â€”&gt; è‡ªåŠ¨ä¾æ¬¡è°ƒç”¨ 3 ä¸ª GetArg å‡½æ•°ï¼Œæ¯ä¸ª GetArg æ‰“å°å¯¹åº”å‚æ•°ï¼Œå…¨ç¨‹æ²¡æœ‰é€’å½’ï¼Œä¹Ÿæ²¡æœ‰é¢å¤–æ¨å¯¼ï¼Œåªæ˜¯æŒ‰ç¼–è¯‘æ—¶å±•å¼€çš„é€»è¾‘æ‰§è¡Œ</p>
</blockquote>
<h2 id="43-emplaceç³»åˆ—æ¥å£">4.3 emplaceç³»åˆ—æ¥å£
</h2><h3 id="åŸºæœ¬ä»‹ç»">åŸºæœ¬ä»‹ç»
</h3><p>C++11 ä¹‹åï¼Œå®¹å™¨é‡Œæ‰€æœ‰å¸¦æ’å…¥åŠŸèƒ½çš„æ¥å£ï¼Œéƒ½æ–°å¢äº†å¯¹åº”çš„ emplace ç³»åˆ—æ¥å£</p>
<blockquote>
<p>æ¯”å¦‚åŸæ¥æœ‰ push_backçš„ï¼Œç°åœ¨å¤šäº† emplace_back; æœ‰ push_front çš„ï¼Œå¤šäº† emplace_front; æœ‰ insert çš„ï¼Œå¤šäº† emplace æ¥å£</p>
</blockquote>
<p><code>template &lt;class... Args&gt; void emplace_back (Args&amp;&amp;... args);</code>
<code>template &lt;class... Args&gt; iterator emplace (const_iterator position,Args&amp;&amp;... args);</code></p>
<p>emplaceæ¯”åŸå…ˆçš„æ’å…¥æ¥å£æ›´é«˜æ•ˆï¼Œä½†æ˜¯å¤šå‚æ•°çš„æ—¶å€™ä¸èƒ½ä½¿ç”¨{}æ¥æ’å…¥</p>
<p>**æ³¨æ„ï¼š**ä¼ é€’å‚æ•°åŒ…è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæ˜¯ Args&amp;&amp;&hellip; args çš„å‚æ•°åŒ…ï¼Œè¦ç”¨å®Œç¾è½¬å‘å‚æ•°åŒ…ï¼Œæ–¹å¼å¦‚ä¸‹<code>std::forward\&lt;Args&gt;(args)...</code>ï¼Œå¦åˆ™ç¼–è¯‘æ—¶åŒ…æ‰©å±•åå³å€¼å¼“lç”¨å˜é‡è¡¨è¾¾å¼å°±å˜æˆäº†å·¦å€¼</p>
<p><strong>æ–°å¢çš„emplaceç³»åˆ—æ¥å£å’ŒåŸå…ˆçš„æ’å…¥æ¥å£ï¼ˆinsertã€push_back ç­‰ï¼‰çš„åŒºåˆ«ï¼š</strong></p>
<p>1ï¼‰emplaceç³»åˆ—çš„æ¥å£å‡ä¸º<strong>æ¨¡æ¿</strong>å¯å˜å‚æ•°ï¼Œè€ŒåŸå…ˆçš„æ’å…¥æ¥å£æ˜¯<strong>æ™®é€šå‡½æ•°</strong>ï¼ˆä¸æ˜¯é€šè¿‡å‚æ•°æ¨æ¼”ï¼Œç±»æ¨¡ç‰ˆå®ä¾‹åŒ–ï¼Œvalue_typeå°±å®ä¾‹åŒ–ï¼‰</p>
<p>2ï¼‰åŸå…ˆçš„æ’å…¥æ¥å£è¦ä¹ˆæ’å…¥å·¦å€¼ï¼Œè¦ä¹ˆæ’å…¥å³å€¼ï¼Œè€Œemplaceç³»åˆ—æ¥å£ç”¨çš„æ˜¯<strong>ä¸‡èƒ½å¼•ç”¨</strong>ï¼Œå¯ä»¥æ¥æ”¶ä»»æ„ç±»å‹çš„å‚æ•°</p>
<p>3ï¼‰åŸå…ˆçš„æ’å…¥æ¥å£åªèƒ½æ¥æ”¶å•ä¸ªvalue_type å¯¹è±¡ï¼Œè€Œemplaceç³»åˆ—æ¥å£å¯ä»¥ä¼ ä¸€ä¸ªå‚æ•°åŒ…ï¼Œè¿™ä¸ªå‚æ•°åŒ…å¯ä»¥æ˜¯<strong>é›¶åˆ°å¤šä¸ªå‚æ•°</strong></p>
<p><img src="/p/c-11/index.assets/image-20251124183145671.png"
	width="1269"
	height="409"
	
	loading="lazy"
	
		alt="image-20251124183145671"
	
	
		class="gallery-image" 
		data-flex-grow="310"
		data-flex-basis="744px"
	
></p>
<p><strong>emplace ç³»åˆ—æ¥å£åœ¨æŸäº›åœºæ™¯ä¸‹å…¼å®¹æ—§æ’å…¥æ¥å£ï¼ŒåŒæ—¶ä¹Ÿåœ¨ä¸€äº›åœºæ™¯ä¸‹æ¯” push_back æ›´é«˜æ•ˆ</strong></p>
<p>æˆ‘ä»¬ä»¥push_backå’Œemplace_backä¸ºä¾‹ï¼š</p>
<p>1ï¼‰emplace_back ä¼ å·¦å€¼æ—¶èµ°æ‹·è´æ„é€ ã€ä¼ å³å€¼æ—¶èµ°ç§»åŠ¨æ„é€ ï¼Œæ•ˆæœä¸push_backå®Œå…¨ä¸€æ ·</p>
<p>2ï¼‰ä½†å½“ä¼ å…¥æ„é€  T çš„åŸå§‹å‚æ•° æ—¶ï¼Œemplace_back å¯ä»¥ç›´æ¥æ„é€ ï¼Œè€Œpush_back éœ€è¦æ„é€ +ç§»åŠ¨æ„é€ +ææ„</p>
<blockquote>
<p>C++11æ”¯æŒå•å‚æ•°çš„æ„é€ èµ°éšå¼ç±»å‹è½¬æ¢ï¼Œæˆ‘ä»¬ä»¥stringä¸ºä¾‹ï¼Œå¦‚æœç›´æ¥ä¼ <code>&quot;11111111&quot;</code>ï¼Œ</p>
<ul>
<li>å› ä¸ºemplace_backæ˜¯æ¨¡ç‰ˆï¼Œä¼šè‡ªåŠ¨æ¨å¯¼å‚æ•°æ˜¯const char* ç±»å‹çš„ï¼Œç„¶åç›´æ¥èµ°æ„é€ </li>
<li>è€Œpush_backå°±æ˜¯æ™®é€šå‡½æ•°ï¼Œvalue_typeå·²ç»ç¡®å®šæ˜¯stringäº†ï¼Œæ‰€ä»¥push_backå‡½æ•°æ¥æ”¶åˆ°<code>&quot;11111111&quot;</code>å‚æ•°åï¼Œä¼šå…ˆæ‹·è´æ„é€ ä¸€ä¸ªstringå¯¹è±¡ï¼Œç„¶åå› ä¸ºè¯¥å¯¹è±¡æ˜¯ä¸´æ—¶å¯¹è±¡ï¼Œä¼šç›´æ¥åŒ¹é…åˆ°å³å€¼å¼•ç”¨ç‰ˆæœ¬çš„push_backï¼Œè½¬ç§»èµ„æºåï¼Œè¯¥å¯¹è±¡é”€æ¯</li>
</ul>
</blockquote>
<p><img src="/p/c-11/index.assets/image-20251118202732738.png"
	width="1369"
	height="420"
	
	loading="lazy"
	
		alt="image-20251118202732738"
	
	
		class="gallery-image" 
		data-flex-grow="325"
		data-flex-basis="782px"
	
></p>
<p><img src="/p/c-11/index.assets/image-20251118202746676.png"
	width="1594"
	height="446"
	
	loading="lazy"
	
		alt="image-20251118202746676"
	
	
		class="gallery-image" 
		data-flex-grow="357"
		data-flex-basis="857px"
	
></p>
<p><strong>å®¹å™¨å­˜å¤åˆç±»å‹ï¼ˆå¦‚ pairï¼‰æ—¶ï¼Œemplace_back ä»å…¼å®¹æ—§æ¥å£çš„å·¦å€¼ / å³å€¼ä¼ å…¥æ–¹å¼ã€‚</strong></p>
<p>1ï¼‰<code>emplace_back(kv)</code>ï¼ˆå·¦å€¼ï¼‰ï¼šèµ°æ‹·è´æ„é€ ï¼Œæ•ˆæœä¸ <code>push_back(kv)</code> å®Œå…¨ä¸€è‡´ï¼›</p>
<p>2ï¼‰<code>emplace_back(move(kv))</code>ï¼ˆå³å€¼ï¼‰ï¼šèµ°ç§»åŠ¨æ„é€ ï¼Œæ•ˆæœä¸ <code>push_back(move(kv))</code> å®Œå…¨ä¸€è‡´ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="n">list</span><span class="o">&lt;</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">dyy</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">lt1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="c1">// 1. å…ˆæ„é€ ä¸€ä¸ªpairç±»å‹çš„å·¦å€¼å¯¹è±¡kvï¼ˆé”®&#34;è‹¹æœ&#34;ï¼Œå€¼1ï¼‰
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">pair</span><span class="o">&lt;</span><span class="n">dyy</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span> <span class="n">kv</span><span class="p">(</span><span class="s">&#34;è‹¹æœ&#34;</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="c1">//emplace_backä¼ å·¦å€¼kvï¼šå’Œpush_backæ•ˆæœå®Œå…¨ä¸€æ ·ï¼Œèµ°æ‹·è´æ„é€ 
</span></span></span><span class="line"><span class="cl"><span class="c1">//æŠŠkvçš„å†…å®¹æ‹·è´åˆ°listèŠ‚ç‚¹çš„dataï¼ˆå­˜å‚¨å…ƒç´ çš„åœ°æ–¹ï¼‰é‡Œ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">lt1</span><span class="p">.</span><span class="n">emplace_back</span><span class="p">(</span><span class="n">kv</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;**********************&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">lt1</span><span class="p">.</span><span class="n">emplace_back</span><span class="p">(</span><span class="n">move</span><span class="p">(</span><span class="n">kv</span><span class="p">));</span> <span class="c1">// ç§»åŠ¨æ„é€ 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;**********************&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>åˆå§‹åŒ–åˆ—è¡¨ vs å‚æ•°åŒ…å†™æ³•</strong></p>
<p>1ï¼‰<code>push_back({ &quot;è‹¹æœ&quot;, 1 })</code>ï¼šåˆå§‹åŒ–åˆ—è¡¨å…ˆéšå¼æ„é€ ä¸´æ—¶ pairï¼Œå†ç§»åŠ¨æ„é€  + ææ„ï¼Œæœ‰é¢å¤–å¼€é”€ï¼›</p>
<p>2ï¼‰<code>emplace_back({ &quot;è‹¹æœ&quot;, 1 })</code>ï¼šä¸æ”¯æŒï¼Œæ¨¡æ¿æ¨å¯¼éœ€æ˜ç¡®ç±»å‹ï¼Œåˆå§‹åŒ–åˆ—è¡¨æ— å›ºå®šç±»å‹ï¼›</p>
<p>3ï¼‰<code>emplace_back(&quot;è‹¹æœ&quot;, 1)</code>ï¼šç›´æ¥ä¼  pair æ„é€ å‚æ•°åŒ…ï¼Œå®¹å™¨å†…éƒ¨ç›´æ¥æ„é€ ï¼Œæ— ä¸´æ—¶å¯¹è±¡å¼€é”€ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="n">list</span><span class="o">&lt;</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">dyy</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">lt1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//éšå¼ç±»å‹è½¬æ¢ï¼Œæ„é€ +ç§»åŠ¨æ„é€ 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">lt1</span><span class="p">.</span><span class="n">push_back</span><span class="p">({</span> <span class="s">&#34;è‹¹æœ&#34;</span><span class="p">,</span> <span class="mi">1</span> <span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;**************************&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//emplace_backä¸æ”¯æŒè¿™ç§å†™æ³•ï¼Œæ¨¡ç‰ˆå®ä¾‹åŒ–éœ€è¦æ˜ç¡®çš„ç±»å‹
</span></span></span><span class="line"><span class="cl"><span class="c1">//lt1.emplace_back({ &#34;è‹¹æœ&#34;, 1 });
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">lt1</span><span class="p">.</span><span class="n">emplace_back</span><span class="p">(</span> <span class="s">&#34;è‹¹æœ&#34;</span><span class="p">,</span> <span class="mi">1</span> <span class="p">);</span> <span class="c1">// ç›´æ¥æ„é€ 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;**************************&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="listçš„æ¨¡æ‹Ÿå®ç°">Listçš„æ¨¡æ‹Ÿå®ç°
</h3><h4 id="listh">List.h
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span><span class="lnt">138
</span><span class="lnt">139
</span><span class="lnt">140
</span><span class="lnt">141
</span><span class="lnt">142
</span><span class="lnt">143
</span><span class="lnt">144
</span><span class="lnt">145
</span><span class="lnt">146
</span><span class="lnt">147
</span><span class="lnt">148
</span><span class="lnt">149
</span><span class="lnt">150
</span><span class="lnt">151
</span><span class="lnt">152
</span><span class="lnt">153
</span><span class="lnt">154
</span><span class="lnt">155
</span><span class="lnt">156
</span><span class="lnt">157
</span><span class="lnt">158
</span><span class="lnt">159
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="cp">#pragma once
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="k">namespace</span> <span class="n">dyy</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="k">struct</span> <span class="nc">ListNode</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">ListNode</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;*</span> <span class="n">_next</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">ListNode</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;*</span> <span class="n">_prev</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">T</span> <span class="n">_data</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">ListNode</span><span class="p">(</span><span class="k">const</span> <span class="n">T</span><span class="o">&amp;</span> <span class="n">data</span> <span class="o">=</span> <span class="n">T</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">            <span class="o">:</span><span class="n">_next</span><span class="p">(</span><span class="k">nullptr</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">,</span> <span class="n">_prev</span><span class="p">(</span><span class="k">nullptr</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">,</span> <span class="n">_data</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">ListNode</span><span class="p">(</span><span class="n">T</span><span class="o">&amp;&amp;</span> <span class="n">data</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="o">:</span><span class="n">_next</span><span class="p">(</span><span class="k">nullptr</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">,</span> <span class="n">_prev</span><span class="p">(</span><span class="k">nullptr</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">,</span> <span class="n">_data</span><span class="p">(</span><span class="n">move</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">        <span class="p">{}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// ä¸ç¡®å®šä¼ è¿‡æ¥çš„æ˜¯å·¦å€¼è¿˜æ˜¯å³å€¼ï¼Œéœ€è¦ç”¨å®Œç¾è½¬å‘
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="err">... </span><span class="nc">Args</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="n">ListNode</span><span class="p">(</span><span class="n">Args</span><span class="o">&amp;&amp;</span><span class="p">...</span> <span class="n">args</span><span class="p">)</span> 
</span></span><span class="line"><span class="cl">            <span class="o">:</span><span class="n">_next</span><span class="p">(</span><span class="k">nullptr</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">,</span> <span class="n">_prev</span><span class="p">(</span><span class="k">nullptr</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">,</span> <span class="n">_data</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">forward</span><span class="o">&lt;</span><span class="n">Args</span><span class="o">&gt;</span><span class="p">(</span><span class="n">args</span><span class="p">)...)</span> 
</span></span><span class="line"><span class="cl">        <span class="p">{}</span>
</span></span><span class="line"><span class="cl">    <span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="p">,</span> <span class="k">class</span> <span class="nc">Ref</span><span class="p">,</span> <span class="k">class</span> <span class="nc">Ptr</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="k">struct</span> <span class="nc">ListIterator</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">typedef</span> <span class="n">ListNode</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">Node</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">typedef</span> <span class="n">ListIterator</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span> <span class="n">Ref</span><span class="p">,</span> <span class="n">Ptr</span><span class="o">&gt;</span> <span class="n">Self</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">Node</span><span class="o">*</span> <span class="n">_node</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">ListIterator</span><span class="p">(</span><span class="n">Node</span><span class="o">*</span> <span class="n">node</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="o">:</span><span class="n">_node</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">Self</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">++</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">_node</span> <span class="o">=</span> <span class="n">_node</span><span class="o">-&gt;</span><span class="n">_next</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="o">*</span><span class="k">this</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">Ref</span> <span class="k">operator</span><span class="o">*</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="n">_node</span><span class="o">-&gt;</span><span class="n">_data</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="kt">bool</span> <span class="k">operator</span><span class="o">!=</span><span class="p">(</span><span class="k">const</span> <span class="n">Self</span><span class="o">&amp;</span> <span class="n">it</span><span class="p">)</span><span class="k">const</span> 
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="n">_node</span> <span class="o">!=</span> <span class="n">it</span><span class="p">.</span><span class="n">_node</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="k">class</span> <span class="nc">list</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">typedef</span> <span class="n">ListNode</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">Node</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">typedef</span> <span class="n">ListIterator</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span> <span class="n">T</span><span class="o">&amp;</span><span class="p">,</span> <span class="n">T</span><span class="o">*&gt;</span> <span class="n">iterator</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">typedef</span> <span class="n">ListIterator</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span> <span class="k">const</span> <span class="n">T</span><span class="o">&amp;</span><span class="p">,</span> <span class="k">const</span> <span class="n">T</span><span class="o">*&gt;</span> <span class="n">const_iterator</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">iterator</span> <span class="nf">begin</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="n">iterator</span><span class="p">(</span><span class="n">_head</span><span class="o">-&gt;</span><span class="n">_next</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">iterator</span> <span class="nf">end</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="n">iterator</span><span class="p">(</span><span class="n">_head</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="kt">void</span> <span class="nf">empty_init</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">_head</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Node</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">            <span class="n">_head</span><span class="o">-&gt;</span><span class="n">_next</span> <span class="o">=</span> <span class="n">_head</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="n">_head</span><span class="o">-&gt;</span><span class="n">_prev</span> <span class="o">=</span> <span class="n">_head</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">list</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">empty_init</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">//å·¦å€¼å¼•ç”¨ç‰ˆæœ¬
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kt">void</span> <span class="nf">push_back</span><span class="p">(</span><span class="k">const</span> <span class="n">T</span><span class="o">&amp;</span> <span class="n">x</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">insert</span><span class="p">(</span><span class="n">end</span><span class="p">(),</span> <span class="n">x</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">//å³å€¼å¼•ç”¨ç‰ˆæœ¬
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kt">void</span> <span class="nf">push_back</span><span class="p">(</span><span class="n">T</span><span class="o">&amp;&amp;</span> <span class="n">x</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">insert</span><span class="p">(</span><span class="n">end</span><span class="p">(),</span> <span class="n">move</span><span class="p">(</span><span class="n">x</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span><span class="err">... </span><span class="nc">Args</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="kt">void</span> <span class="n">emplace_back</span><span class="p">(</span><span class="n">Args</span><span class="o">&amp;&amp;</span><span class="p">...</span> <span class="n">args</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">emplace</span><span class="p">(</span><span class="n">end</span><span class="p">(),</span> <span class="n">std</span><span class="o">::</span><span class="n">forward</span><span class="o">&lt;</span><span class="n">Args</span><span class="o">&gt;</span><span class="p">(</span><span class="n">args</span><span class="p">)...);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">iterator</span> <span class="nf">insert</span><span class="p">(</span><span class="n">iterator</span> <span class="n">pos</span><span class="p">,</span> <span class="k">const</span> <span class="n">T</span><span class="o">&amp;</span> <span class="n">x</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">Node</span><span class="o">*</span> <span class="n">cur</span> <span class="o">=</span> <span class="n">pos</span><span class="p">.</span><span class="n">_node</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="n">Node</span><span class="o">*</span> <span class="n">newnode</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Node</span><span class="p">(</span><span class="n">x</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="n">Node</span><span class="o">*</span> <span class="n">prev</span> <span class="o">=</span> <span class="n">cur</span><span class="o">-&gt;</span><span class="n">_prev</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="c1">// prev newnode cur
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="n">prev</span><span class="o">-&gt;</span><span class="n">_next</span> <span class="o">=</span> <span class="n">newnode</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="n">newnode</span><span class="o">-&gt;</span><span class="n">_prev</span> <span class="o">=</span> <span class="n">prev</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="n">newnode</span><span class="o">-&gt;</span><span class="n">_next</span> <span class="o">=</span> <span class="n">cur</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="n">cur</span><span class="o">-&gt;</span><span class="n">_prev</span> <span class="o">=</span> <span class="n">newnode</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="n">iterator</span><span class="p">(</span><span class="n">newnode</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">iterator</span> <span class="nf">insert</span><span class="p">(</span><span class="n">iterator</span> <span class="n">pos</span><span class="p">,</span> <span class="n">T</span><span class="o">&amp;&amp;</span> <span class="n">x</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">Node</span><span class="o">*</span> <span class="n">cur</span> <span class="o">=</span> <span class="n">pos</span><span class="p">.</span><span class="n">_node</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="n">Node</span><span class="o">*</span> <span class="n">newnode</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Node</span><span class="p">(</span><span class="n">move</span><span class="p">(</span><span class="n">x</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">            <span class="n">Node</span><span class="o">*</span> <span class="n">prev</span> <span class="o">=</span> <span class="n">cur</span><span class="o">-&gt;</span><span class="n">_prev</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="c1">// prev newnode cur
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="n">prev</span><span class="o">-&gt;</span><span class="n">_next</span> <span class="o">=</span> <span class="n">newnode</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="n">newnode</span><span class="o">-&gt;</span><span class="n">_prev</span> <span class="o">=</span> <span class="n">prev</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="n">newnode</span><span class="o">-&gt;</span><span class="n">_next</span> <span class="o">=</span> <span class="n">cur</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="n">cur</span><span class="o">-&gt;</span><span class="n">_prev</span> <span class="o">=</span> <span class="n">newnode</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="n">iterator</span><span class="p">(</span><span class="n">newnode</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span><span class="err">... </span><span class="nc">Args</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="n">iterator</span> <span class="n">emplace</span><span class="p">(</span><span class="n">iterator</span> <span class="n">pos</span><span class="p">,</span> <span class="n">Args</span><span class="o">&amp;&amp;</span><span class="p">...</span> <span class="n">args</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">Node</span><span class="o">*</span> <span class="n">cur</span> <span class="o">=</span> <span class="n">pos</span><span class="p">.</span><span class="n">_node</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="n">Node</span><span class="o">*</span> <span class="n">newnode</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Node</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">forward</span><span class="o">&lt;</span><span class="n">Args</span><span class="o">&gt;</span><span class="p">(</span><span class="n">args</span><span class="p">)...);</span>
</span></span><span class="line"><span class="cl">            <span class="n">Node</span><span class="o">*</span> <span class="n">prev</span> <span class="o">=</span> <span class="n">cur</span><span class="o">-&gt;</span><span class="n">_prev</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="c1">// prev newnode cur
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="n">prev</span><span class="o">-&gt;</span><span class="n">_next</span> <span class="o">=</span> <span class="n">newnode</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="n">newnode</span><span class="o">-&gt;</span><span class="n">_prev</span> <span class="o">=</span> <span class="n">prev</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="n">newnode</span><span class="o">-&gt;</span><span class="n">_next</span> <span class="o">=</span> <span class="n">cur</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="n">cur</span><span class="o">-&gt;</span><span class="n">_prev</span> <span class="o">=</span> <span class="n">newnode</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="nf">iterator</span><span class="p">(</span><span class="n">newnode</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">private</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">Node</span><span class="o">*</span> <span class="n">_head</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">};</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="testcpp">Test.cpp
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span><span class="lnt">138
</span><span class="lnt">139
</span><span class="lnt">140
</span><span class="lnt">141
</span><span class="lnt">142
</span><span class="lnt">143
</span><span class="lnt">144
</span><span class="lnt">145
</span><span class="lnt">146
</span><span class="lnt">147
</span><span class="lnt">148
</span><span class="lnt">149
</span><span class="lnt">150
</span><span class="lnt">151
</span><span class="lnt">152
</span><span class="lnt">153
</span><span class="lnt">154
</span><span class="lnt">155
</span><span class="lnt">156
</span><span class="lnt">157
</span><span class="lnt">158
</span><span class="lnt">159
</span><span class="lnt">160
</span><span class="lnt">161
</span><span class="lnt">162
</span><span class="lnt">163
</span><span class="lnt">164
</span><span class="lnt">165
</span><span class="lnt">166
</span><span class="lnt">167
</span><span class="lnt">168
</span><span class="lnt">169
</span><span class="lnt">170
</span><span class="lnt">171
</span><span class="lnt">172
</span><span class="lnt">173
</span><span class="lnt">174
</span><span class="lnt">175
</span><span class="lnt">176
</span><span class="lnt">177
</span><span class="lnt">178
</span><span class="lnt">179
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;list&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;cassert&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&#34;list.h&#34;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">namespace</span> <span class="n">dyy</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">class</span> <span class="nc">string</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">		<span class="k">typedef</span> <span class="kt">char</span><span class="o">*</span> <span class="n">iterator</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		<span class="k">typedef</span> <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">const_iterator</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="n">iterator</span> <span class="nf">begin</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="k">return</span> <span class="n">_str</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="n">iterator</span> <span class="nf">end</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="k">return</span> <span class="n">_str</span> <span class="o">+</span> <span class="n">_size</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="n">const_iterator</span> <span class="nf">begin</span><span class="p">()</span> <span class="k">const</span> 
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="k">return</span> <span class="n">_str</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="n">const_iterator</span> <span class="nf">end</span><span class="p">()</span> <span class="k">const</span> 
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="k">return</span> <span class="n">_str</span> <span class="o">+</span> <span class="n">_size</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="n">string</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">str</span> <span class="o">=</span> <span class="s">&#34;&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="o">:</span><span class="n">_size</span><span class="p">(</span><span class="n">strlen</span><span class="p">(</span><span class="n">str</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">			<span class="p">,</span> <span class="n">_capacity</span><span class="p">(</span><span class="n">_size</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;string(const char* str) - æ„é€ &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">			<span class="n">_str</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">char</span><span class="p">[</span><span class="n">_capacity</span> <span class="o">+</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">			<span class="n">strcpy</span><span class="p">(</span><span class="n">_str</span><span class="p">,</span> <span class="n">str</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="kt">void</span> <span class="nf">swap</span><span class="p">(</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="o">::</span><span class="n">swap</span><span class="p">(</span><span class="n">_size</span><span class="p">,</span> <span class="n">s</span><span class="p">.</span><span class="n">_size</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">			<span class="o">::</span><span class="n">swap</span><span class="p">(</span><span class="n">_str</span><span class="p">,</span> <span class="n">s</span><span class="p">.</span><span class="n">_str</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">			<span class="o">::</span><span class="n">swap</span><span class="p">(</span><span class="n">_capacity</span><span class="p">,</span> <span class="n">s</span><span class="p">.</span><span class="n">_capacity</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="n">string</span><span class="p">(</span><span class="k">const</span> <span class="n">string</span><span class="o">&amp;</span> <span class="n">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="o">:</span><span class="n">_str</span><span class="p">(</span><span class="k">nullptr</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;string(string&amp; s) --- æ‹·è´æ„é€ &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">			<span class="n">reserve</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">_capacity</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">			<span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="nl">ch</span> <span class="p">:</span> <span class="n">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="p">{</span>
</span></span><span class="line"><span class="cl">				<span class="n">push_back</span><span class="p">(</span><span class="n">ch</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">			<span class="p">}</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="c1">//ç§»åŠ¨æ„é€ 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="n">string</span><span class="p">(</span><span class="n">string</span><span class="o">&amp;&amp;</span> <span class="n">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;string(string&amp;&amp; s) --- ç§»åŠ¨æ„é€ &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">			<span class="n">swap</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="c1">//ç§»åŠ¨èµ‹å€¼
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="n">string</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="n">string</span><span class="o">&amp;&amp;</span> <span class="n">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;string&amp; operator=(string&amp;&amp; s) --- ç§»åŠ¨èµ‹å€¼&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">			<span class="n">swap</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">			<span class="k">return</span> <span class="o">*</span><span class="k">this</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="o">~</span><span class="n">string</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;~string()&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">			<span class="k">delete</span><span class="p">[]</span> <span class="n">_str</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">			<span class="n">_str</span> <span class="o">=</span> <span class="k">nullptr</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="kt">char</span><span class="o">&amp;</span> <span class="k">operator</span><span class="p">[](</span><span class="n">size_t</span> <span class="n">pos</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="n">assert</span><span class="p">(</span><span class="n">pos</span> <span class="o">&lt;</span> <span class="n">_size</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">			<span class="k">return</span> <span class="n">_str</span><span class="p">[</span><span class="n">pos</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="kt">void</span> <span class="nf">reserve</span><span class="p">(</span><span class="n">size_t</span> <span class="n">n</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">&gt;</span> <span class="n">_capacity</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="p">{</span>
</span></span><span class="line"><span class="cl">				<span class="kt">char</span><span class="o">*</span> <span class="n">tmp</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">char</span><span class="p">[</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">				<span class="k">if</span> <span class="p">(</span><span class="n">_str</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">				<span class="p">{</span>
</span></span><span class="line"><span class="cl">					<span class="n">strcpy</span><span class="p">(</span><span class="n">tmp</span><span class="p">,</span> <span class="n">_str</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">					<span class="k">delete</span><span class="p">[]</span> <span class="n">_str</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">				<span class="p">}</span>
</span></span><span class="line"><span class="cl">				<span class="n">_str</span> <span class="o">=</span> <span class="n">tmp</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">				<span class="n">_capacity</span> <span class="o">=</span> <span class="n">n</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">			<span class="p">}</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="kt">void</span> <span class="nf">push_back</span><span class="p">(</span><span class="kt">char</span> <span class="n">ch</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="k">if</span> <span class="p">(</span><span class="n">_size</span> <span class="o">&gt;=</span> <span class="n">_capacity</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="p">{</span>
</span></span><span class="line"><span class="cl">				<span class="n">size_t</span> <span class="n">newcapacity</span> <span class="o">=</span> <span class="n">_capacity</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">?</span> <span class="mi">4</span> <span class="o">:</span> <span class="n">_capacity</span> <span class="o">*</span> <span class="mi">2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">				<span class="n">reserve</span><span class="p">(</span><span class="n">newcapacity</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">			<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">			<span class="n">_str</span><span class="p">[</span><span class="n">_size</span><span class="p">]</span> <span class="o">=</span> <span class="n">ch</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">			<span class="o">++</span><span class="n">_size</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">			<span class="n">_str</span><span class="p">[</span><span class="n">_size</span><span class="p">]</span> <span class="o">=</span> <span class="sc">&#39;\0&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="n">string</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">+=</span><span class="p">(</span><span class="kt">char</span> <span class="n">ch</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="n">push_back</span><span class="p">(</span><span class="n">ch</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">			<span class="k">return</span> <span class="o">*</span><span class="k">this</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="nf">c_str</span><span class="p">()</span> <span class="k">const</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="k">return</span> <span class="n">_str</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="n">size_t</span> <span class="nf">size</span><span class="p">()</span> <span class="k">const</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="k">return</span> <span class="n">_size</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="k">private</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">		<span class="kt">char</span><span class="o">*</span> <span class="n">_str</span> <span class="o">=</span> <span class="k">nullptr</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		<span class="n">size_t</span> <span class="n">_size</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		<span class="n">size_t</span> <span class="n">_capacity</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="p">};</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">dyy</span><span class="o">::</span><span class="n">list</span><span class="o">&lt;</span><span class="n">dyy</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">lt</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//ä¼ å·¦å€¼ï¼Œè·Ÿpush_backä¸€æ ·ï¼Œèµ°æ‹·è´æ„é€ 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">dyy</span><span class="o">::</span><span class="n">string</span> <span class="n">s1</span><span class="p">(</span><span class="s">&#34;11111111&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">lt</span><span class="p">.</span><span class="n">emplace_back</span><span class="p">(</span><span class="n">s1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;*********************************&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//å³å€¼ï¼Œè·Ÿpush_backä¸€æ ·ï¼Œèµ°ç§»åŠ¨æ„é€ 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">lt</span><span class="p">.</span><span class="n">emplace_back</span><span class="p">(</span><span class="n">move</span><span class="p">(</span><span class="n">s1</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;*********************************&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//ç›´æ¥æŠŠæ„é€ stringå‚æ•°åŒ…å¾€ä¸‹ä¼ ï¼Œç›´æ¥ç”¨stringå‚æ•°åŒ…æ„é€ string
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//è¿™é‡Œå¦‚æœç”¨push_backï¼Œå°±æ˜¯èµ° æ„é€ +ç§»åŠ¨æ„é€ +ææ„
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">lt</span><span class="p">.</span><span class="n">emplace_back</span><span class="p">(</span><span class="s">&#34;11111111111&#34;</span><span class="p">);</span> <span class="c1">// æ¨¡ç‰ˆï¼Œè‡ªåŠ¨æ¨å¯¼ç±»å‹ä¸ºconst char*
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;*********************************&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="n">list</span><span class="o">&lt;</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">dyy</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">lt1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// 1. å…ˆæ„é€ ä¸€ä¸ªpairç±»å‹çš„å·¦å€¼å¯¹è±¡kvï¼ˆé”®&#34;è‹¹æœ&#34;ï¼Œå€¼1ï¼‰
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">pair</span><span class="o">&lt;</span><span class="n">dyy</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span> <span class="n">kv</span><span class="p">(</span><span class="s">&#34;è‹¹æœ&#34;</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//emplace_backä¼ å·¦å€¼kvï¼šå’Œpush_backæ•ˆæœå®Œå…¨ä¸€æ ·ï¼Œèµ°æ‹·è´æ„é€ 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//æŠŠkvçš„å†…å®¹æ‹·è´åˆ°listèŠ‚ç‚¹çš„dataï¼ˆå­˜å‚¨å…ƒç´ çš„åœ°æ–¹ï¼‰é‡Œ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">lt1</span><span class="p">.</span><span class="n">emplace_back</span><span class="p">(</span><span class="n">kv</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;*********************************&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="n">lt1</span><span class="p">.</span><span class="n">emplace_back</span><span class="p">(</span><span class="n">move</span><span class="p">(</span><span class="n">kv</span><span class="p">));</span> <span class="c1">// ç§»åŠ¨æ„é€ 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;*********************************&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//éšå¼ç±»å‹è½¬æ¢ï¼Œæ„é€ +ç§»åŠ¨æ„é€ 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//lt1.push_back({ &#34;è‹¹æœ&#34;, 1 });
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//cout &lt;&lt; &#34;**************************&#34; &lt;&lt; endl;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="c1">//emplace_backä¸æ”¯æŒè¿™ç§å†™æ³•ï¼Œæ¨¡ç‰ˆå®ä¾‹åŒ–éœ€è¦æ˜ç¡®çš„ç±»å‹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//lt1.emplace_back({ &#34;è‹¹æœ&#34;, 1 }); // err
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">lt1</span><span class="p">.</span><span class="n">emplace_back</span><span class="p">(</span> <span class="s">&#34;è‹¹æœ&#34;</span><span class="p">,</span> <span class="mi">1</span> <span class="p">);</span> <span class="c1">// ç›´æ¥æ„é€ 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;*********************************&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/c-11/index.assets/image-20251124191908844.png"
	width="546"
	height="762"
	
	loading="lazy"
	
		alt="image-20251124191908844"
	
	
		class="gallery-image" 
		data-flex-grow="71"
		data-flex-basis="171px"
	
></p>
<h3 id="æ€»ç»“-1">æ€»ç»“
</h3><blockquote>
<ol>
<li><strong>å…¼å®¹æ—§æ¥å£</strong>ï¼šemplace ç³»åˆ—ï¼ˆemplace_back/emplaceï¼‰ä¼ å·¦å€¼â†’æ‹·è´æ„é€ ã€ä¼ å³å€¼â†’ç§»åŠ¨æ„é€ ï¼Œå’Œ insert/push_back æ•ˆæœå®Œå…¨ä¸€æ ·ï¼›</li>
<li><strong>é«˜æ•ˆæ ¸å¿ƒ</strong>ï¼šä¼  â€œæ„é€ å¯¹è±¡çš„å‚æ•°â€ï¼ˆæ¯”å¦‚<code>&quot;è‹¹æœ&quot;, 1</code>ï¼‰æ—¶ï¼Œemplace ç›´æ¥åœ¨å®¹å™¨å†…æ„é€ ï¼Œæ— ä¸´æ—¶å¯¹è±¡å¼€é”€ï¼›è€Œæ—§æ¥å£è¦å…ˆé€ ä¸´æ—¶å¯¹è±¡ï¼Œå†ç§»åŠ¨ + ææ„ï¼›</li>
<li><strong>å°å‘æé†’</strong>ï¼šemplace ä¸æ”¯æŒ<code>{}</code>åˆå§‹åŒ–åˆ—è¡¨ï¼ˆæ¯”å¦‚<code>emplace_back({...})</code>ï¼‰ï¼Œè¦ä¼ æ˜ç¡®çš„æ„é€ å‚æ•°ï¼ˆæ¯”å¦‚<code>emplace_back(&quot;è‹¹æœ&quot;, 1)</code>ï¼‰ï¼›</li>
<li><strong>å¤åˆç±»å‹é€šç”¨</strong>ï¼šå“ªæ€•å®¹å™¨å­˜ pair è¿™ç§å¤åˆç±»å‹ï¼Œä¸Šé¢çš„è§„åˆ™å…¨é€‚ç”¨ã€‚</li>
</ol>
<p>èƒ½ä¼ æ„é€ å‚æ•°å°±ç”¨ emplaceï¼Œæƒ³ä¼ <code>{}</code>æˆ–ç°æˆå¯¹è±¡å°±ç”¨æ—§æ¥å£ /emplace éƒ½è¡Œï¼ˆå…¼å®¹ï¼‰ï¼Œä¼˜å…ˆé€‰ emplace</p>
</blockquote>
<h1 id="5æ–°çš„ç±»åŠŸèƒ½">5.æ–°çš„ç±»åŠŸèƒ½
</h1><h2 id="51-é»˜è®¤çš„ç§»åŠ¨æ„é€ å’Œç§»åŠ¨èµ‹å€¼">5.1 é»˜è®¤çš„ç§»åŠ¨æ„é€ å’Œç§»åŠ¨èµ‹å€¼
</h2><p>1ï¼‰C++åŸå…ˆæœ‰6ä¸ªé»˜è®¤æˆå‘˜å‡½æ•°ï¼šæ„é€ ã€ææ„ã€æ‹·è´æ„é€ ã€æ‹·è´èµ‹å€¼é‡è½½ã€å–åœ°å€é‡è½½ã€constå–åœ°å€é‡è½½ã€‚2ï¼‰C++11æ–°å¢äº†ä¸¤ä¸ªé»˜è®¤æˆå‘˜å‡½æ•°ï¼š<strong>ç§»åŠ¨æ„é€ </strong>å’Œç§»<strong>åŠ¨èµ‹å€¼è¿ç®—ç¬¦é‡è½½</strong></p>
<p>3ï¼‰å¦‚æœæˆ‘ä»¬<strong>æ²¡æœ‰è‡ªå·±å®ç°ç§»åŠ¨æ„é€ /ç§»åŠ¨èµ‹å€¼é‡è½½å‡½æ•°</strong>ï¼Œ<strong>ä¸”æ²¡æœ‰è‡ªå·±å®ç°ææ„ã€æ‹·è´æ„é€ ã€æ‹·è´èµ‹å€¼é‡è½½ä¸­çš„ä»»æ„ä¸€ä¸ª</strong>ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨é»˜è®¤ä¼š<strong>è‡ªåŠ¨ç”Ÿæˆç§»åŠ¨æ„é€ /ç§»åŠ¨èµ‹å€¼é‡è½½</strong></p>
<p>4ï¼‰ç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆçš„ç§»åŠ¨æ„é€ ï¼šå¯¹äºå†…ç½®ç±»å‹çš„æˆå‘˜ï¼Œæ‰§è¡Œå€¼æ‹·è´ï¼›å¯¹äºè‡ªå®šä¹‰ç±»å‹çš„æˆå‘˜ï¼Œå¦‚æœè¿™ä¸ªæˆå‘˜æœ‰ç§»åŠ¨æ„é€ ï¼Œå°±è°ƒç”¨å®ƒè‡ªå·±çš„ç§»åŠ¨æ„é€ ï¼Œå¦åˆ™å°±è°ƒç”¨æ‹·è´æ„é€ </p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Person</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">	<span class="n">Person</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">name</span> <span class="o">=</span> <span class="s">&#34;&#34;</span><span class="p">,</span> <span class="kt">int</span> <span class="n">age</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="o">:</span><span class="n">_name</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="p">,</span><span class="n">_age</span><span class="p">(</span><span class="n">age</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//é»˜è®¤ç”Ÿæˆçš„æ‹·è´æ„é€ å’Œç§»åŠ¨æ„é€ 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//å†…ç½®ç±»å‹å€¼æ‹·è´ï¼Œè‡ªå®šä¹‰ç±»å‹è°ƒç”¨å®ƒçš„æ‹·è´æ„é€ /ç§»åŠ¨æ„é€ 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	
</span></span><span class="line"><span class="cl"><span class="k">private</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">	<span class="n">dyy</span><span class="o">::</span><span class="n">string</span> <span class="n">_name</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="kt">int</span> <span class="n">_age</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">Person</span> <span class="n">s1</span><span class="p">;</span> <span class="c1">// æ„é€ 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">Person</span> <span class="n">s2</span> <span class="o">=</span> <span class="n">s1</span><span class="p">;</span> <span class="c1">//æ‹·è´æ„é€ 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">Person</span> <span class="n">s3</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">move</span><span class="p">(</span><span class="n">s1</span><span class="p">);</span> <span class="c1">// ç§»åŠ¨æ„é€ 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">Person</span> <span class="n">s4</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="n">s4</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">move</span><span class="p">(</span><span class="n">s2</span><span class="p">);</span> <span class="c1">// èµ‹å€¼
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span> 
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="52-æˆå‘˜å˜é‡å£°æ˜æ—¶ç»™ç¼ºçœå€¼">5.2 æˆå‘˜å˜é‡å£°æ˜æ—¶ç»™ç¼ºçœå€¼
</h2><p>C++11æ”¯æŒåœ¨æˆå‘˜å˜é‡å£°æ˜çš„ä½ç½®ç»™ç¼ºçœå€¼ï¼Œè¿™ä¸ªç¼ºçœå€¼ä¸»è¦æ˜¯ç»™æ²¡æœ‰æ˜¾ç¤ºåœ¨åˆå§‹åŒ–åˆ—è¡¨åˆå§‹åŒ–çš„æˆå‘˜ä½¿ç”¨çš„</p>
<p><img src="/p/c-11/index.assets/image-20251124195356892.png"
	width="709"
	height="383"
	
	loading="lazy"
	
		alt="image-20251124195356892"
	
	
		class="gallery-image" 
		data-flex-grow="185"
		data-flex-basis="444px"
	
></p>
<blockquote>
<p>åœ¨ã€C++åˆé˜¶ã€‘04ç±»å’Œå¯¹è±¡ï¼ˆä¸‹ï¼‰ä¸­æœ‰è¯¦ç»†ä»‹ç»</p>
</blockquote>
<h2 id="53-defultå’Œdelete">5.3 defultå’Œdelete
</h2><p><strong>defaultå¼ºåˆ¶ç”Ÿæˆé»˜è®¤çš„æˆå‘˜å‡½æ•°</strong></p>
<p>ä»¥ç§»åŠ¨æ„é€ ä¸ºä¾‹ï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œå¦‚æœæˆ‘ä»¬æ˜¾ç¤ºå†™äº†ææ„ã€æ‹·è´æ„é€ ã€èµ‹å€¼é‡è½½ã€ç§»åŠ¨èµ‹å€¼ä¸­çš„ä»»æ„ä¸€ä¸ªï¼Œé‚£ä¹ˆç¼–è¯‘å™¨å°±ä¸ä¼šè‡ªåŠ¨ç”Ÿæˆç§»åŠ¨æ„é€ äº†ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬å†™äº†å…¶ä¸­çš„ä»»æ„ä¸€ä¸ªï¼Œä½†è¿˜æ˜¯æƒ³è¦ç¼–è¯‘å™¨é»˜è®¤ç”Ÿæˆç§»åŠ¨æ„é€ ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨default</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Person</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">	<span class="n">Person</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">name</span> <span class="o">=</span> <span class="s">&#34;&#34;</span><span class="p">,</span> <span class="kt">int</span> <span class="n">age</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="o">:</span><span class="n">_name</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="p">,</span><span class="n">_age</span><span class="p">(</span><span class="n">age</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="n">Person</span><span class="p">(</span><span class="k">const</span> <span class="n">Person</span><span class="o">&amp;</span> <span class="n">p</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="o">:</span><span class="n">_name</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="n">_name</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="p">,</span><span class="n">_age</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="n">_age</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">	<span class="c1">//å¯ä»¥defaultå¼ºåˆ¶ç”Ÿæˆç§»åŠ¨æ„é€ 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">Person</span><span class="p">(</span><span class="n">Person</span><span class="o">&amp;&amp;</span> <span class="n">p</span><span class="p">)</span> <span class="o">=</span> <span class="k">default</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">//æ˜¾ç¤ºå†™äº†ææ„ï¼Œä¸ä¼šè‡ªåŠ¨ç”Ÿæˆç§»åŠ¨æ„é€ äº†
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="o">~</span><span class="n">Person</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;~Person&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">private</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">	<span class="n">dyy</span><span class="o">::</span><span class="n">string</span> <span class="n">_name</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="kt">int</span> <span class="n">_age</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>æ³¨æ„ï¼Œå¦‚æœæˆ‘ä»¬å¼ºåˆ¶ç”Ÿæˆç§»åŠ¨æ„é€ æˆ–è€…ç§»åŠ¨èµ‹å€¼é‡è½½ï¼Œå¯èƒ½ä¼šå½±å“åˆ°é»˜è®¤æ‹·è´æ„é€ å’Œæ‹·è´èµ‹å€¼çš„ç”Ÿæˆï¼Œéœ€è¦æˆ‘ä»¬è‡ªå·±æ˜¾ç¤ºå®ç°</p>
</blockquote>
<p><strong>deleteé™åˆ¶æŸäº›é»˜è®¤æˆå‘˜å‡½æ•°çš„ç”Ÿæˆ</strong></p>
<p>æˆ‘ä»¬çŸ¥é“ï¼Œæœ‰äº›é»˜è®¤æˆå‘˜å‡½æ•°åœ¨ç¬¦åˆä¸€å®šæ¡ä»¶çš„æƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ç”Ÿæˆï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬å°±æ˜¯ä¸æƒ³è¦ç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆï¼Œå¹¶ä¸”æˆ‘ä»¬ä¹Ÿä¸éœ€è¦è¯¥å‡½æ•°ï¼Œé‚£ä¹ˆå°±æœ‰ä¸¤ç§åŠæ³•ï¼š</p>
<ul>
<li>
<p>åœ¨C++98ä¸­ï¼Œæ˜¯æŠŠè¯¥å‡½æ•°åªå£°æ˜ä¸å®ç°ï¼Œå¹¶ä¸”æŠŠè¯¥å‡½æ•°è®¾ç½®æˆç§æœ‰ï¼›</p>
</li>
<li>
<p>åœ¨C++11ä¸­ï¼Œæ˜¯æŠŠè¯¥å‡½æ•°åªå£°æ˜ä¸å®ç°ï¼Œç„¶ååœ¨å£°æ˜çš„åé¢åŠ ä¸Š<code>=delete</code>å³å¯</p>
<blockquote>
<p>ä¾‹å¦‚åº“é‡Œé¢çš„istreamã€ostreamå°±ä¸å¸Œæœ›è¢«æ‹·è´ï¼Œäºæ˜¯æ˜¾ç¤ºå†™äº†æ‹·è´æ„é€ çš„å£°æ˜å¹¶åœ¨å£°æ˜åé¢åŠ ä¸Š<code>=delete</code></p>
<p><img src="/p/c-11/index.assets/image-20251124202013182.png"
	width="905"
	height="219"
	
	loading="lazy"
	
		alt="image-20251124202013182"
	
	
		class="gallery-image" 
		data-flex-grow="413"
		data-flex-basis="991px"
	
></p>
</blockquote>
</li>
</ul>
<p><code>=delete</code>ä¿®é¥°çš„å‡½æ•°è¢«ç§°ä¸ºåˆ é™¤å‡½æ•°</p>
<h2 id="54-finalä¸override">5.4 finalä¸override
</h2><ul>
<li>finalä¿®é¥°ä¸€ä¸ªç±»ï¼Œè¿™ä¸ªç±»å°±ä¸èƒ½è¢«ç»§æ‰¿äº†</li>
<li>finalä¿®é¥°ä¸€ä¸ªè™šå‡½æ•°ï¼Œè¿™ä¸ªè™šå‡½æ•°å°±ä¸èƒ½è¢«ç»§æ‰¿äº†</li>
<li>overrideè¦æ”¾åˆ°å­ç±»é‡å†™è™šå‡½æ•°å½¢å‚åˆ—è¡¨çš„åé¢ï¼Œæ£€æµ‹å­ç±»æ˜¯å¦å¯¹è™šå‡½æ•°å®Œæˆé‡å†™</li>
</ul>
<h1 id="6-stlä¸­ä¸€äº›å˜åŒ–">6. STLä¸­ä¸€äº›å˜åŒ–
</h1><p><strong>æ–°å®¹å™¨</strong></p>
<p>C++11ä¸­æ–°å¢äº†ä¸€äº›å®¹å™¨ï¼Œå…¶ä¸­æœ€æœ‰ç”¨çš„æ˜¯<code>unordered_map</code>å’Œ<code>unordered_set</code></p>
<p>arrayç›¸å½“äºå°è£…äº†é™æ€æ•°ç»„ï¼Œå¯¹äºè¶Šç•Œæ£€æŸ¥æ›´ä¸¥æ ¼</p>
<blockquote>
<p>æ–°å¢çš„å®¹å™¨ï¼š</p>
<p><img src="/p/c-11/index.assets/image-20251124202959880.png"
	width="544"
	height="381"
	
	loading="lazy"
	
		alt="image-20251124202959880"
	
	
		class="gallery-image" 
		data-flex-grow="142"
		data-flex-basis="342px"
	
></p>
</blockquote>
<p><strong>æ–°æ¥å£</strong></p>
<p>C++11ä¹Ÿæ–°å¢äº†ä¸€äº›æ–°æ¥å£ï¼Œå…¶ä¸­æœ€æœ‰ç”¨çš„æ˜¯ä¸‹é¢è¿™å‡ ä¸ªï¼š</p>
<ul>
<li>å³å€¼å¼•ç”¨å’Œç§»åŠ¨è¯­ä¹‰ç›¸å…³çš„insert/push/emplaceç³»åˆ—æ¥å£</li>
<li>ç§»åŠ¨æ„é€ ç§»åŠ¨èµ‹å€¼</li>
<li>initializer_listç‰ˆæœ¬çš„æ„é€ </li>
</ul>
<p><strong>èŒƒå›´for</strong></p>
<p>C++11æ”¯æŒç”¨èŒƒå›´foréå†å®¹å™¨</p>
<h1 id="7-lambda">7. lambda
</h1><h2 id="71-lambdaè¡¨è¾¾å¼è¯­æ³•">7.1 lambdaè¡¨è¾¾å¼è¯­æ³•
</h2><p>æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦å°†ä¸€æ®µé€»è¾‘ä½œä¸ºå‚æ•°ä¼ é€’ï¼ˆæ¯”å¦‚æ¯”è¾ƒå¤§å°æ—¶ä¼ çš„ä»¿å‡½æ•°ï¼‰ï¼Œæˆ–è€…åªæ˜¯éœ€è¦ä¸´æ—¶æ‰§è¡Œä¸€æ®µç®€å•çš„é€»è¾‘æ—¶ï¼Œå¦‚æœæˆ‘ä»¬æ˜ç¡®çŸ¥é“è¿™ä¸ªé€»è¾‘åªä½¿ç”¨ä¸€æ¬¡ï¼Œè€Œä¸”æœ¬èº«å®ç°èµ·æ¥ä¹Ÿä¸å¤æ‚ï¼Œé‚£ä¹ˆå°±æ²¡å¿…è¦ä¸“é—¨å†™ä¸€ä¸ªå®Œæ•´çš„å‡½æ•°ï¼Œè¿™æ—¶æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ lambdaè¡¨è¾¾å¼</p>
<p>lambdaè¡¨è¾¾å¼æœ¬è´¨æ˜¯ä¸€ä¸ª<strong>åŒ¿åå‡½æ•°å¯¹è±¡</strong>ï¼Œè·Ÿæ™®é€šå‡½æ•°ä¸åŒçš„æ˜¯ä»–<strong>å¯ä»¥å®šä¹‰åœ¨å‡½æ•°å†…éƒ¨</strong>ã€‚</p>
<p>lambdaè¡¨è¾¾å¼çš„åŸºæœ¬æ ¼å¼:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="p">[</span><span class="n">capture</span><span class="o">-</span><span class="n">list</span><span class="p">]</span> <span class="p">(</span><span class="n">parameters</span><span class="p">)</span><span class="o">-&gt;</span> <span class="k">return</span> <span class="n">type</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">function</span> <span class="n">body</span> 
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<ul>
<li>[capture-list]ï¼šæ•æ‰åˆ—è¡¨ï¼Œè¯¥åˆ—è¡¨æ€»æ˜¯å‡ºç°åœ¨lambda å‡½æ•°çš„å¼€å§‹ä½ç½®ï¼Œç”¨æ¥æ•æ‰å…¶æ‰€åœ¨ä¸Šä¸‹æ–‡çš„å˜é‡ï¼Œä¾›å‡½æ•°ä½“ä½¿ç”¨</li>
<li>ï¼ˆparametersï¼‰ï¼šå‚æ•°åˆ—è¡¨ï¼Œä¸æ™®é€šå‡½æ•°çš„å‚æ•°åˆ—è¡¨åŠŸèƒ½ç±»ä¼¼ï¼Œç”¨äºæ¥æ”¶å¤–éƒ¨ä¼ å…¥çš„å‚æ•°</li>
<li>-&gt;return typeï¼šè¿”å›å€¼ç±»å‹ï¼Œç”¨<code>-&gt;ç±»å‹</code>çš„å½¢å¼ï¼Œæ˜ç¡®lambdaçš„è¿”å›å€¼ç±»å‹</li>
<li>{function boby} ï¼šå‡½æ•°ä½“ï¼Œlambdaè¡¨è¾¾å¼è¦å®ç°çš„åŠŸèƒ½ï¼Œå¯ä»¥åœ¨å‡½æ•°ä½“å†…ä½¿ç”¨å‚æ•°åˆ—è¡¨çš„å‚æ•°å’Œæ•æ‰åˆ°çš„å˜é‡</li>
</ul>
</blockquote>
<p>lambdaè¡¨è¾¾å¼åœ¨è¯­æ³•ä½¿ç”¨å±‚é¢æ²¡æœ‰æ˜ç¡®çš„æ˜¾å¼ç±»å‹ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸€èˆ¬æ˜¯ç”¨ auto å…³é”®å­—æˆ–è€…æ¨¡æ¿å‚æ•°å®šä¹‰çš„å¯¹è±¡ï¼Œå»æ¥æ”¶ lambda ç”Ÿæˆçš„åŒ¿åå¯¹è±¡</p>
<p>ä¸€ä¸ªç®€å•çš„lambdaè¡¨è¾¾å¼ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">auto</span> <span class="n">add1</span> <span class="o">=</span> <span class="p">[](</span><span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span><span class="p">)</span><span class="o">-&gt;</span><span class="kt">int</span> <span class="p">{</span><span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">;</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl">	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">add1</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚</strong>ï¼š</p>
<ol>
<li>æ•æ‰åˆ—è¡¨å’Œå‡½æ•°ä½“ä¸èƒ½çœç•¥ï¼ˆæ•æ‰åˆ—è¡¨å°±ç®—ä¸ºç©ºä¹Ÿä¸èƒ½çœç•¥ï¼ï¼‰</li>
<li>è¿”å›å€¼å¯ä»¥çœç•¥ï¼ˆå¯ä»¥é€šè¿‡è¿”å›å¯¹è±¡è‡ªåŠ¨æ¨å¯¼ï¼‰ï¼Œå‚æ•°ä¸ºç©ºå¯ä»¥çœç•¥</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//1.æ•æ‰åˆ—è¡¨å°±ç®—ä¸ºç©ºä¹Ÿä¸èƒ½çœç•¥
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//2.å‚æ•°ä¸ºç©ºï¼Œå¯ä»¥çœç•¥
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//3.è¿”å›å€¼å¯ä»¥çœç•¥ï¼Œå¯ä»¥é€šè¿‡è¿”å›å¯¹è±¡è‡ªåŠ¨æ¨å¯¼
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">auto</span> <span class="n">func1</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;hello&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">};</span>
</span></span><span class="line"><span class="cl">    <span class="n">func1</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//1.æœ‰å‚æ•°ï¼Œå‚æ•°åˆ—è¡¨ä¸èƒ½çœç•¥
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//2.æ²¡æœ‰è¿”å›å€¼ï¼Œè¿”å›å€¼å¯ä»¥çœç•¥
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">auto</span> <span class="n">swap1</span> <span class="o">=</span> <span class="p">[](</span><span class="kt">int</span><span class="o">&amp;</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span><span class="o">&amp;</span> <span class="n">y</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kt">int</span> <span class="n">tmp</span> <span class="o">=</span> <span class="n">x</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">x</span> <span class="o">=</span> <span class="n">y</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">y</span> <span class="o">=</span> <span class="n">tmp</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">swap1</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">a</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">b</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="72-lambdaçš„åº”ç”¨">7.2 lambdaçš„åº”ç”¨
</h2><p>lambdaè¡¨è¾¾å¼å¸¸ç”¨äºæ›¿æ¢å‡½æ•°æŒ‡é’ˆå’Œä»¿å‡½æ•°å¯¹è±¡ã€çº¿ç¨‹ä¸­å®šä¹‰çº¿ç¨‹çš„æ‰§è¡Œå‡½æ•°é€»è¾‘ã€æ™ºèƒ½æŒ‡é’ˆä¸­å®šåˆ¶åˆ é™¤å™¨ç­‰ã€‚</p>
<p>æˆ‘ä»¬ä»¥lambdaè¡¨è¾¾å¼æ›¿æ¢ä»¿å‡½æ•°ä¸ºä¾‹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;vector&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;algorithm&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">struct</span> <span class="nc">Goods</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">string</span> <span class="n">_name</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="kt">double</span> <span class="n">_price</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="kt">int</span> <span class="n">_evaluate</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="n">Goods</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">str</span><span class="p">,</span> <span class="kt">double</span> <span class="n">price</span><span class="p">,</span> <span class="kt">int</span> <span class="n">evaluate</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="o">:</span><span class="n">_name</span><span class="p">(</span><span class="n">str</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="p">,</span><span class="n">_price</span><span class="p">(</span><span class="n">price</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="p">,</span><span class="n">_evaluate</span><span class="p">(</span><span class="n">evaluate</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//æŒ‰ä»·æ ¼å‡åºæ’åº
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">struct</span> <span class="nc">ComparePriceLess</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kt">bool</span> <span class="nf">operator</span><span class="p">()(</span><span class="k">const</span> <span class="n">Goods</span><span class="o">&amp;</span> <span class="n">gl</span><span class="p">,</span> <span class="k">const</span> <span class="n">Goods</span><span class="o">&amp;</span> <span class="n">gr</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="n">gl</span><span class="p">.</span><span class="n">_price</span> <span class="o">&lt;</span> <span class="n">gr</span><span class="p">.</span><span class="n">_price</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//æŒ‰ä»·æ ¼é™åºæ’åº
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">struct</span> <span class="nc">ComparePriceGreater</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kt">bool</span> <span class="nf">operator</span><span class="p">()(</span><span class="k">const</span> <span class="n">Goods</span><span class="o">&amp;</span> <span class="n">gl</span><span class="p">,</span> <span class="k">const</span> <span class="n">Goods</span><span class="o">&amp;</span> <span class="n">gr</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="n">gl</span><span class="p">.</span><span class="n">_price</span> <span class="o">&gt;</span> <span class="n">gr</span><span class="p">.</span><span class="n">_price</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">vector</span><span class="o">&lt;</span><span class="n">Goods</span><span class="o">&gt;</span> <span class="n">v</span> <span class="o">=</span> <span class="p">{</span> <span class="p">{</span><span class="s">&#34;è‹¹æœ&#34;</span><span class="p">,</span> <span class="mf">2.1</span><span class="p">,</span> <span class="mi">5</span><span class="p">},</span> <span class="p">{</span><span class="s">&#34;é¦™è•‰&#34;</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">},</span> <span class="p">{</span><span class="s">&#34;æ©™å­&#34;</span><span class="p">,</span> <span class="mf">2.2</span><span class="p">,</span> <span class="mi">3</span><span class="p">}</span> <span class="p">,</span> <span class="p">{</span><span class="s">&#34;è è&#34;</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">,</span> <span class="mi">4</span><span class="p">}};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">//è°ƒç”¨ä»¿å‡½æ•°å®Œæˆæ’åº
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">sort</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">v</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="n">ComparePriceLess</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">	<span class="n">sort</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">v</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="n">ComparePriceGreater</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯¹äºä¸Šé¢çš„è¿™ç§æ’åºåœºæ™¯ï¼Œå¦‚æœæˆ‘ä»¬è¦æŒ‰å•†å“çš„ä¸åŒç»´åº¦ï¼ˆæ¯”å¦‚ä»·æ ¼ã€è¯„åˆ†ï¼‰æˆ–ä¸åŒè§„åˆ™ï¼ˆæ¯”å¦‚å‡åºã€é™åºï¼‰æ’åºï¼Œé‚£ä¹ˆå°±éœ€è¦é’ˆå¯¹æ¯ç§æƒ…å†µå•ç‹¬å†™ä¸€ä¸ªä»¿å‡½æ•°ã€‚è¿™æ ·ä¸€æ¥ï¼Œæ¯æ¬¡æ–°æ¥ä¸€ä¸ªéœ€æ±‚å°±è¦æ–°å¢ä¸€ä¸ªä»¿å‡½æ•°ï¼Œè€Œæ–°å¢ä¸€ä¸ªä»¿å‡½æ•°å°±è¦å®šä¹‰ä¸€ä¸ªç±»ï¼Œæ¯”è¾ƒéº»çƒ¦ï¼Œå†™æ³•ä¹Ÿä¸è½»ä¾¿ã€‚è¿™æ—¶ï¼Œä½¿ç”¨lambdaè¡¨è¾¾å¼å°±å¾ˆåˆé€‚äº†ã€‚</p>
<p>å°†ä¸Šé¢é‚£æ®µä»£ç æ”¹æˆä½¿ç”¨lambdaè¡¨è¾¾å¼åï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;vector&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;algorithm&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">struct</span> <span class="nc">Goods</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">string</span> <span class="n">_name</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="kt">double</span> <span class="n">_price</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="kt">int</span> <span class="n">_evaluate</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="n">Goods</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">str</span><span class="p">,</span> <span class="kt">double</span> <span class="n">price</span><span class="p">,</span> <span class="kt">int</span> <span class="n">evaluate</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="o">:</span><span class="n">_name</span><span class="p">(</span><span class="n">str</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="p">,</span><span class="n">_price</span><span class="p">(</span><span class="n">price</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="p">,</span><span class="n">_evaluate</span><span class="p">(</span><span class="n">evaluate</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">vector</span><span class="o">&lt;</span><span class="n">Goods</span><span class="o">&gt;</span> <span class="n">v</span> <span class="o">=</span> <span class="p">{</span> <span class="p">{</span><span class="s">&#34;è‹¹æœ&#34;</span><span class="p">,</span> <span class="mf">2.1</span><span class="p">,</span> <span class="mi">5</span><span class="p">},</span> <span class="p">{</span><span class="s">&#34;é¦™è•‰&#34;</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">},</span> <span class="p">{</span><span class="s">&#34;æ©™å­&#34;</span><span class="p">,</span> <span class="mf">2.2</span><span class="p">,</span> <span class="mi">3</span><span class="p">}</span> <span class="p">,</span> <span class="p">{</span><span class="s">&#34;è è&#34;</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">,</span> <span class="mi">4</span><span class="p">}};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//æŒ‰ä»·æ ¼å‡åºæ’
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">sort</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">v</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="p">[](</span><span class="k">const</span> <span class="n">Goods</span><span class="o">&amp;</span> <span class="n">g1</span><span class="p">,</span> <span class="k">const</span> <span class="n">Goods</span><span class="o">&amp;</span> <span class="n">g2</span><span class="p">)</span> <span class="p">{</span><span class="k">return</span> <span class="n">g1</span><span class="p">.</span><span class="n">_price</span> <span class="o">&lt;</span> <span class="n">g2</span><span class="p">.</span><span class="n">_price</span><span class="p">;</span> <span class="p">});</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//æŒ‰ä»·æ ¼é™åºæ’
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">sort</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">v</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="p">[](</span><span class="k">const</span> <span class="n">Goods</span><span class="o">&amp;</span> <span class="n">g1</span><span class="p">,</span> <span class="k">const</span> <span class="n">Goods</span><span class="o">&amp;</span> <span class="n">g2</span><span class="p">)</span> <span class="p">{</span><span class="k">return</span> <span class="n">g1</span><span class="p">.</span><span class="n">_price</span> <span class="o">&gt;</span> <span class="n">g2</span><span class="p">.</span><span class="n">_price</span><span class="p">;</span> <span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="73-æ•æ‰åˆ—è¡¨">7.3 æ•æ‰åˆ—è¡¨
</h2><p>lambdaè¡¨è¾¾å¼çš„å‡½æ•°ä½“å†…ï¼Œé»˜è®¤åªèƒ½ç”¨å…¨å±€å¯¹è±¡ã€å‚æ•°åˆ—è¡¨ä¸­çš„å˜é‡å’Œå‡½æ•°ä½“ä¸­å®šä¹‰çš„å˜é‡ï¼Œå¦‚æœæƒ³ç”¨å¤–å±‚ä½œç”¨åŸŸçš„å˜é‡ï¼Œå°±éœ€è¦ç”¨æ•æ‰åˆ—è¡¨è¿›è¡Œæ•è·ã€‚æ•æ‰åˆ—è¡¨ä¸­å¯ä»¥åŒæ—¶æ•æ‰å¤šä¸ªå˜é‡ï¼Œç”¨é€—å·åˆ†å‰²ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">auto</span> <span class="n">add1</span> <span class="o">=</span> <span class="p">[](</span><span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">m</span><span class="o">++</span><span class="p">;</span> <span class="c1">// errï¼Œæ²¡æœ‰æ•è·å¤–éƒ¨çš„å˜é‡mï¼Œæ— æ³•åœ¨lambdaå‡½æ•°ä½“å†…ä½¿ç”¨
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">add1</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>lambdaæ•æ‰åˆ—è¡¨çš„å‡ ç§æ•è·æ–¹å¼å¦‚ä¸‹ï¼š</strong></p>
<p><strong>æ–¹å¼ä¸€ï¼šæ˜¾ç¤ºä¼ å€¼æ•æ‰å’Œä¼ å¼•ç”¨æ•æ‰</strong></p>
<p>ç›´æ¥å†™å˜é‡åå°±æ˜¯ä¼ å€¼æ•æ‰ï¼ˆç›¸å½“äºæ‹·è´ä¸€ä»½ï¼‰ï¼Œ<code>&amp;å˜é‡å</code>å°±æ˜¯å¼•ç”¨æ•æ‰ï¼ˆå‡½æ•°ä½“å†…ä¿®æ”¹ä¼šå½±å“å¤–éƒ¨å˜é‡ï¼‰</p>
<blockquote>
<p>æ³¨æ„ï¼šå€¼æ•æ‰çš„å˜é‡é»˜è®¤ä¸èƒ½ä¿®æ”¹ï¼Œå¼•ç”¨æ•æ‰çš„å˜é‡å¯ä»¥ä¿®æ”¹</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">d</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">//æ•æ‰äº†a,bä¸¤ä¸ªå˜é‡ï¼Œaæ˜¯å€¼æ•æ‰ï¼Œbæ˜¯å¼•ç”¨æ•æ‰
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">auto</span> <span class="n">func1</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">b</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">         <span class="c1">//a++; // errï¼Œå€¼æ•æ‰çš„å˜é‡ä¸èƒ½ä¿®æ”¹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>         <span class="n">b</span><span class="o">++</span><span class="p">;</span> <span class="c1">// å¼•ç”¨æ•æ‰çš„å˜é‡å¯ä»¥ä¿®æ”¹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>         <span class="kt">int</span> <span class="n">ret</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">         <span class="k">return</span> <span class="n">ret</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">};</span>
</span></span><span class="line"><span class="cl">    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">func1</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="c1">// 2
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>æ–¹å¼äºŒï¼šéšå¼æ•æ‰</strong></p>
<p>éšå¼æ•æ‰ä¼šè‡ªåŠ¨æ•è·lambdaæ‰€åœ¨å±€éƒ¨åŸŸæ‰€æœ‰å˜é‡ï¼Œéšå¼æ•æ‰åˆ†ä¸ºéšå¼å€¼æ•æ‰å’Œéšå¼å¼•ç”¨æ•æ‰ã€‚</p>
<p>1ï¼‰<code>éšå¼å€¼æ•æ‰</code>å°±æ˜¯åœ¨å°±æ˜¯åœ¨æ•æ‰åˆ—è¡¨å†™ä¸€ä¸ª<code>=</code>ï¼Œè¡¨ç¤ºå±€éƒ¨åŸŸçš„æ‰€æœ‰å˜é‡éƒ½ä»¥å€¼æ•æ‰çš„æ–¹å¼æ•è·</p>
<p>2ï¼‰<code>éšå¼å¼•ç”¨æ•æ‰</code>å°±æ˜¯åœ¨æ•æ‰åˆ—è¡¨å†™ä¸€ä¸ª<code>&amp;</code>ï¼Œè¡¨ç¤ºå±€éƒ¨åŸŸçš„æ‰€æœ‰å˜é‡éƒ½ä»¥å¼•ç”¨æ•æ‰çš„æ–¹å¼æ•è·</p>
<blockquote>
<p>å®é™…ä¸Šä¸ä¼šå…¨éƒ¨æ•æ‰ï¼Œåªä¼šæ•è·å‡½æ•°ä½“å†…ç”¨åˆ°çš„å˜é‡</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">d</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">//éšå¼å€¼æ•æ‰
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">auto</span> <span class="n">func2</span> <span class="o">=</span> <span class="p">[</span><span class="o">=</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">x</span><span class="o">++</span><span class="p">;</span> <span class="c1">// å…¨å±€å˜é‡é»˜è®¤å¯ä»¥ç›´æ¥ä½¿ç”¨
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">//a++; // errï¼Œå€¼æ•æ‰çš„å˜é‡ï¼Œä¸èƒ½ä¿®æ”¹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kt">int</span> <span class="n">ret</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">ret</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">};</span>
</span></span><span class="line"><span class="cl">    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">func2</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="c1">// 5
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="c1">//éšå¼å¼•ç”¨æ•æ‰
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">auto</span> <span class="n">func3</span> <span class="o">=</span> <span class="p">[</span><span class="o">&amp;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">a</span><span class="o">++</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">b</span><span class="o">++</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">c</span><span class="o">++</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">};</span>
</span></span><span class="line"><span class="cl">    <span class="n">func3</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">a</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">b</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">c</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="c1">// 1 2 3
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>æ–¹å¼ä¸‰ï¼šæ··åˆä½¿ç”¨éšå¼æ•æ‰å’Œæ˜¾å¼æ•æ‰</strong></p>
<p>å½“æˆ‘ä»¬çš„éœ€æ±‚æ˜¯ï¼Œéƒ¨åˆ†å˜é‡æ˜¾å¼/éšå¼æ•æ‰ï¼Œå…¶ä½™å˜é‡éšå¼/æ˜¾å¼æ•æ‰æ—¶ï¼Œå°±å¯ä»¥ä½¿ç”¨æ··åˆæ•æ‰ã€‚</p>
<p>çœ‹ä¸¤ä¸ªä¾‹å­ï¼š</p>
<ul>
<li><code>[=, &amp;x]</code>è¡¨ç¤ºå…¶ä»–å˜é‡éƒ½ç”¨éšå¼å€¼æ•æ‰ï¼Œå˜é‡xç”¨å¼•ç”¨æ•æ‰</li>
<li><code>[&amp;,Ã—,y]</code>è¡¨ç¤ºå…¶ä»–å˜é‡éƒ½ç”¨å¼•ç”¨æ•æ‰ï¼Œåªæœ‰å˜é‡ x å’Œå˜é‡ y ç”¨å€¼æ•æ‰</li>
</ul>
<blockquote>
<p>æ³¨æ„ï¼šå½“ä½¿ç”¨æ··åˆæ•æ‰æ—¶ï¼Œç¬¬ä¸€ä¸ªå…ƒç´ å¿…é¡»æ˜¯&amp;æˆ–=ï¼Œå¹¶ä¸”&amp;æ··åˆæ•æ‰æ—¶ï¼Œåé¢çš„æ•æ‰å˜é‡å¿…é¡»æ˜¯å€¼æ•æ‰ï¼ŒåŒç†=æ··åˆæ•æ‰æ—¶ï¼Œåé¢çš„æ•æ‰å˜é‡å¿…é¡»æ˜¯å¼•ç”¨æ•æ‰ã€‚</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">d</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">//a,bå˜é‡å€¼æ•æ‰ï¼Œå…¶ä½™å˜é‡å¼•ç”¨æ•æ‰
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">auto</span> <span class="n">func4</span> <span class="o">=</span> <span class="p">[</span><span class="o">&amp;</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//a++;// errï¼Œå€¼æ•æ‰çš„å˜é‡ä¸èƒ½ä¿®æ”¹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">//b++; // errï¼Œå€¼æ•æ‰çš„å˜é‡ä¸èƒ½ä¿®æ”¹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">c</span><span class="o">++</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">d</span><span class="o">++</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span> <span class="o">+</span> <span class="n">c</span> <span class="o">+</span> <span class="n">d</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">};</span>
</span></span><span class="line"><span class="cl">    <span class="n">func4</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">a</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">b</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">c</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">d</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="c1">// 0 1 3 4
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="c1">//a,bå˜é‡å¼•ç”¨æ•æ‰ï¼Œå…¶å®ƒå˜é‡å€¼æ•æ‰
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">auto</span> <span class="n">func5</span> <span class="o">=</span> <span class="p">[</span><span class="o">=</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">a</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">b</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">a</span><span class="o">++</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">b</span><span class="o">++</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//c++; // err
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">//d++; // err
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span> <span class="o">+</span> <span class="n">c</span> <span class="o">+</span> <span class="n">d</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">};</span>
</span></span><span class="line"><span class="cl">    <span class="n">func5</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">a</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">b</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">c</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">d</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="c1">// 1 2 3 4
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>æ³¨æ„äº‹é¡¹å’Œç»†èŠ‚</strong></p>
<p>1ï¼‰lambdaè¡¨è¾¾å¼å¦‚æœå®šä¹‰åœ¨å…¨å±€ï¼Œæ˜¯ä¸èƒ½æ•æ‰å‚æ•°çš„ï¼Œæ•æ‰åˆ—è¡¨å¿…é¡»ä¸ºç©ºã€‚</p>
<p>å› ä¸ºå…¨å±€å˜é‡ä¸ç”¨æ•è·å°±å¯ä»¥ç”¨ï¼Œæ²¡æœ‰éœ€è¦æ•è·çš„å˜é‡</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//æ•æ‰åˆ—è¡¨å¿…é¡»ä¸ºç©º
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">auto</span> <span class="n">func1</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">x</span><span class="o">++</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>2ï¼‰å±€éƒ¨çš„é™æ€å˜é‡å’Œå…¨å±€å˜é‡ä¸èƒ½æ•æ‰ï¼Œä¹Ÿä¸éœ€è¦æ•æ‰ï¼Œå¯ä»¥ç›´æ¥åœ¨lambdaä¸­ä½¿ç”¨</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">static</span> <span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">auto</span> <span class="n">func6</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="kt">int</span> <span class="n">ret</span> <span class="o">=</span> <span class="n">m</span> <span class="o">+</span> <span class="n">x</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">ret</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">};</span>
</span></span><span class="line"><span class="cl">    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">func6</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="c1">//7 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>3ï¼‰ä¼ å€¼æ•æ‰æœ¬è´¨æ˜¯ä¸€ç§æ‹·è´ï¼Œå¹¶ä¸”è¢«constä¿®é¥°äº†ï¼Œ<code>mutable</code>å…³é”®å­—ç›¸å½“äºå»æ‰constå±æ€§ï¼Œå…è®¸ä¿®æ”¹æ‹·è´åçš„å˜é‡ï¼Œä½†æ˜¯ä¸ä¼šå½±å“å¤–éƒ¨çš„å®å‚ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼šä½¿ç”¨mutableæ—¶ï¼Œå‚æ•°åˆ—è¡¨å³ä½¿ä¸ºç©ºä¹Ÿä¸èƒ½çœç•¥</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">d</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">auto</span> <span class="n">func7</span> <span class="o">=</span> <span class="p">[</span><span class="o">=</span><span class="p">]()</span><span class="k">mutable</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//é‡Œé¢ä¿®æ”¹äº†ä¸ä¼šå½±å“å¤–é¢çš„å˜é‡
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">a</span><span class="o">++</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">b</span><span class="o">++</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">c</span><span class="o">++</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">d</span><span class="o">++</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span> <span class="o">+</span> <span class="n">c</span> <span class="o">+</span> <span class="n">d</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">};</span>
</span></span><span class="line"><span class="cl">    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">func7</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="c1">// 10
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">a</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">b</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">c</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">d</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="c1">// 0 1 2 3
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="74-lambdaçš„åŸç†">7.4 lambdaçš„åŸç†
</h2><p>lambdaè¡¨è¾¾å¼çš„åº•å±‚æœ¬è´¨æ˜¯ä»¿å‡½æ•°å¯¹è±¡ï¼Œæˆ‘ä»¬å†™äº†ä¸€ä¸ªlambdaåï¼Œç¼–è¯‘å™¨ä¼šç”Ÿæˆä¸€ä¸ªå¯¹åº”çš„ä»¿å‡½æ•°ç±»ï¼š</p>
<ul>
<li>ä»¿å‡½æ•°çš„ç±»åæ˜¯ç¼–è¯‘å™¨å†…éƒ¨æŒ‰ä¸€å®šè§„åˆ™ç”Ÿæˆçš„ï¼Œä¿è¯ä¸åŒçš„ lambda ç”Ÿæˆçš„ç±»åä¸åŒ</li>
<li>lambdaçš„å‚æ•°ã€è¿”å›ç±»å‹ã€å‡½æ•°ä½“ä¼šç›´æ¥å¯¹åº”ä»¿å‡½æ•°operator()çš„å‚æ•°ã€è¿”å›ç±»å‹ã€å‡½æ•°ä½“</li>
<li>lambda æ•æ‰åˆ—è¡¨é‡Œçš„å˜é‡ä¼šæˆä¸ºä»¿å‡½æ•°ç±»çš„æˆå‘˜å˜é‡ï¼Œæ•æ‰æ—¶ç›¸å½“äºæŠŠå˜é‡ä½œä¸ºæ„é€ å‡½æ•°çš„å®å‚ï¼Œåˆå§‹åŒ–è¿™äº›æˆå‘˜å˜é‡ï¼ˆéšå¼æ•æ‰æ—¶ï¼Œç¼–è¯‘å™¨åªä¼šä¼ é€’å‡½æ•°ä½“å†…ç”¨åˆ°çš„å˜é‡ï¼‰</li>
</ul>
<p>lambda å’Œ èŒƒå›´ forç±»ä¼¼ï¼Œéƒ½ä¸æ˜¯å…¨æ–°çš„è¯­æ³•ï¼Œè€Œæ˜¯è¯­æ³•ç³–ã€‚lambdaåº•å±‚åŸºäºå·²æœ‰çš„ ä»¿å‡½æ•°æœºåˆ¶å®ç°ï¼Œè®©ä»£ç å†™èµ·æ¥æ›´ç®€æ´ï¼Œä½†æœ¬è´¨è¿˜æ˜¯ç¼–è¯‘å™¨å¸®æˆ‘ä»¬ç”Ÿæˆäº†ä»¿å‡½æ•°ç±»</p>
<h1 id="8åŒ…è£…å™¨">8.åŒ…è£…å™¨
</h1><blockquote>
<p>åŒ…è£…å™¨æœ¬è´¨æ˜¯ç¼–è¯‘å™¨æ¨å¯¼ç±»å‹</p>
</blockquote>
<h2 id="82-function">8.2 function
</h2><p><a class="link" href="https://en.cppreference.com/w/cpp/utility/functional/function.html"  target="_blank" rel="noopener"
    >æ–‡æ¡£</a></p>
<p><strong>åŸºæœ¬ä»‹ç»</strong></p>
<p>1ï¼‰<strong><code>std::function</code><strong>æœ¬è´¨æ˜¯ä¸€ä¸ª</strong>å¯å˜å‚æ•°æ¨¡ç‰ˆçš„ä»¿å‡½æ•°</strong></p>
<p>2ï¼‰std::function çš„å®ä¾‹å‡½æ•°å¯ä»¥ç”¨æ¥<strong>åŒ…è£…å­˜å‚¨ä¸€åˆ‡å¯è°ƒç”¨å¯¹è±¡</strong>ï¼ŒåŒ…è£…åå¯ä»¥<strong>åƒå¯è°ƒç”¨å¯¹è±¡ä¸€æ ·å»è°ƒç”¨</strong></p>
<blockquote>
<p>å¯è°ƒç”¨å¯¹è±¡åŒ…æ‹¬ å‡½æ•°æŒ‡é’ˆã€ä»¿å‡½æ•°ã€lambdaã€bind è¡¨è¾¾å¼ç­‰</p>
</blockquote>
<p>3ï¼‰std::functionè¢«å®šä¹‰åœ¨ &lt;functional&gt; è¿™ä¸ªå¤´æ–‡ä»¶ä¸­</p>
<p>4ï¼‰std::functionæœ€å¤§çš„å¥½å¤„å°±æ˜¯å¯ä»¥<strong>ç»Ÿä¸€å¯è°ƒç”¨å¯¹è±¡çš„ç±»å‹</strong></p>
<p><strong>æ³¨æ„ï¼š</strong></p>
<p>std::function å­˜å‚¨çš„å¯è°ƒç”¨å¯¹è±¡è¢«ç§°ä¸º std::function çš„ç›®æ ‡ï¼Œå¦‚æœ std::function ä¸å«ç›®æ ‡ï¼Œå°±ç§°å®ƒä¸ºç©ºã€‚è°ƒç”¨ç©ºçš„ std::function çš„ç›®æ ‡ï¼Œä¼šå¯¼è‡´æŠ›å‡º std:bad_function_call  å¼‚å¸¸</p>
<p><strong>ä¾‹å­1ï¼šä½¿ç”¨functionåŒ…è£…å‡½æ•°æŒ‡é’ˆã€ä»¿å‡½æ•°ã€lambdaè¡¨è¾¾å¼</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;functional&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="c1">//æ™®é€šå‡½æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">int</span> <span class="nf">f</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">b</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//ä»¿å‡½æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">struct</span> <span class="nc">Functor</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">	<span class="kt">int</span> <span class="k">operator</span><span class="p">()(</span><span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">b</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//ç”¨functionå¯ä»¥åŒ…è£…å„ç§å¯è°ƒç”¨å¯¹è±¡
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	
</span></span><span class="line"><span class="cl">	<span class="c1">//int(int, int)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//1)å¤–é¢çš„intæ˜¯åŒ…è£…çš„å¯è°ƒç”¨å¯¹è±¡çš„è¿”å›ç±»å‹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//2)é‡Œé¢çš„(int, int)æ˜¯åŒ…è£…çš„å¯è°ƒç”¨å¯¹è±¡çš„å‚æ•°ç±»å‹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">function</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">(</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="p">)</span><span class="o">&gt;</span> <span class="n">f1</span> <span class="o">=</span> <span class="n">f</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="n">function</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">(</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="p">)</span><span class="o">&gt;</span> <span class="n">f2</span> <span class="o">=</span> <span class="n">Functor</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">	<span class="n">function</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">(</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="p">)</span><span class="o">&gt;</span> <span class="n">f3</span> <span class="o">=</span> <span class="p">[](</span><span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">b</span><span class="p">)</span> <span class="p">{</span><span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">;</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//functionæœ€å¤§çš„å¥½å¤„å°±æ˜¯å¯ä»¥ç»Ÿä¸€å¯è°ƒç”¨å¯¹è±¡çš„ç±»å‹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">f1</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="c1">// 2
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">f2</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="c1">// 2
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">f3</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="c1">// 2
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>è¯´æ˜ï¼š</p>
<p><img src="/p/c-11/index.assets/image-20251124210401855.png"
	width="1116"
	height="542"
	
	loading="lazy"
	
		alt="image-20251124210401855"
	
	
		class="gallery-image" 
		data-flex-grow="205"
		data-flex-basis="494px"
	
></p>
</blockquote>
<p><strong>ä¾‹å­2ï¼šä½¿ç”¨functionåŒ…è£…é™æ€æˆå‘˜å‡½æ•°</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;functional&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="c1">//ç±»
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">class</span> <span class="nc">Plus</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">	<span class="n">Plus</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="o">:</span><span class="n">_n</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//é™æ€æˆå‘˜å‡½æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="k">static</span> <span class="kt">int</span> <span class="nf">plusi</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">b</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//éé™æ€æˆå‘˜å‡½æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kt">double</span> <span class="nf">plusd</span><span class="p">(</span><span class="kt">double</span> <span class="n">a</span><span class="p">,</span> <span class="kt">double</span> <span class="n">b</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">)</span> <span class="o">*</span> <span class="n">_n</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="k">private</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">	<span class="kt">int</span> <span class="n">_n</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//ç”¨functionå¯ä»¥åŒ…è£…å„ç§å¯è°ƒç”¨å¯¹è±¡
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="c1">//1.åŒ…è£…é™æ€æˆå‘˜å‡½æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//éé™æ€çš„æˆå‘˜å‡½æ•°è¦æŒ‡å®šç±»åŸŸå¹¶ä¸”å‰é¢è¦åŠ &amp;æ‰èƒ½è·å–åœ°å€
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//é™æ€çš„æˆå‘˜å‡½æ•°è¦æŒ‡å®šç±»åŸŸæ‰èƒ½è·å–åœ°å€
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">function</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">(</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="p">)</span><span class="o">&gt;</span> <span class="n">f4</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">Plus</span><span class="o">::</span><span class="n">plusi</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">f4</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="c1">// 2
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="c1">//2.åŒ…è£…éé™æ€çš„æˆå‘˜å‡½æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//æ³¨æ„ï¼šéé™æ€çš„æˆå‘˜å‡½æ•°è¿˜æœ‰ä¸€ä¸ªéšå«çš„thisæŒ‡é’ˆ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//å†™æ³•ä¸€ï¼šå¯è°ƒç”¨å¯¹è±¡çš„ç¬¬ä¸€ä¸ªå‚æ•°å†™æˆæŒ‡é’ˆï¼Œè°ƒç”¨æ—¶ä¼ å¯¹è±¡åœ°å€
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">function</span><span class="o">&lt;</span><span class="kt">double</span><span class="p">(</span><span class="n">Plus</span><span class="o">*</span><span class="p">,</span> <span class="kt">double</span><span class="p">,</span> <span class="kt">double</span><span class="p">)</span><span class="o">&gt;</span> <span class="n">f5</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">Plus</span><span class="o">::</span><span class="n">plusd</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="n">Plus</span> <span class="n">ps</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">f5</span><span class="p">(</span><span class="o">&amp;</span><span class="n">ps</span><span class="p">,</span> <span class="mf">1.1</span><span class="p">,</span> <span class="mf">1.1</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="c1">// 22
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="c1">//å†™æ³•äºŒï¼šå¯è°ƒç”¨å¯¹è±¡çš„ç¬¬ä¸€ä¸ªå‚æ•°å†™æˆå¯¹è±¡ï¼Œè°ƒç”¨æ—¶ä¼ å¯¹è±¡æœ¬èº«
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">function</span><span class="o">&lt;</span><span class="kt">double</span><span class="p">(</span><span class="n">Plus</span><span class="p">,</span> <span class="kt">double</span><span class="p">,</span> <span class="kt">double</span><span class="p">)</span><span class="o">&gt;</span> <span class="n">f6</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">Plus</span><span class="o">::</span><span class="n">plusd</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//å¯ä»¥ä¼ æœ‰åå¯¹è±¡
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">Plus</span> <span class="n">ps2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">f6</span><span class="p">(</span><span class="n">ps2</span><span class="p">,</span> <span class="mf">1.1</span><span class="p">,</span> <span class="mf">1.1</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="c1">// 22
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="c1">//ä¹Ÿå¯ä»¥ä¼ åŒ¿åå¯¹è±¡
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">f6</span><span class="p">(</span><span class="n">Plus</span><span class="p">(),</span> <span class="mf">1.1</span><span class="p">,</span> <span class="mf">1.1</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="c1">// 22
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="c1">//ä¸è¿‡ï¼Œè‡ªå®šä¹‰ç±»å‹çš„å¯¹è±¡æœ€å¥½è¿˜æ˜¯å†™æˆå³å€¼å¼•ç”¨
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">function</span><span class="o">&lt;</span><span class="kt">double</span><span class="p">(</span><span class="n">Plus</span><span class="o">&amp;&amp;</span><span class="p">,</span> <span class="kt">double</span><span class="p">,</span> <span class="kt">double</span><span class="p">)</span><span class="o">&gt;</span> <span class="n">f7</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">Plus</span><span class="o">::</span><span class="n">plusd</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">f7</span><span class="p">(</span><span class="n">Plus</span><span class="p">(),</span> <span class="mf">1.1</span><span class="p">,</span> <span class="mf">1.1</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="c1">// 22
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>åŒ…è£…éé™æ€æˆå‘˜çš„æ—¶å€™éœ€è¦æ³¨æ„ï¼š</p>
<p>1ï¼‰éé™æ€æˆå‘˜å‡½æ•°æœ‰ä¸€ä¸ªéšå«çš„thisæŒ‡é’ˆã€‚</p>
<p>2ï¼‰å®šä¹‰functionçš„æ—¶å€™ï¼Œå¯è°ƒç”¨å¯¹è±¡çš„ç¬¬ä¸€ä¸ªå‚æ•°æ—¢å¯ä»¥ä¼ æŒ‡é’ˆä¹Ÿå¯ä»¥ä¼ å¯¹è±¡ï¼Œå› ä¸ºfunctionåŒ…è£…åï¼Œè¿˜æ˜¯éœ€è¦ç”¨æŒ‡é’ˆå»è°ƒç”¨æˆå‘˜å‡½æ•°ï¼ŒæŒ‡é’ˆå¯ä»¥è°ƒç”¨æˆå‘˜å‡½æ•°ï¼Œå¯¹è±¡ä¹Ÿå¯ä»¥è°ƒç”¨æˆå‘˜å‡½æ•°ã€‚</p>
<p>åŒ…è£…å™¨æœ¬è´¨æ˜¯ç¼–è¯‘å™¨æ¨å¯¼ç±»å‹ã€‚</p>
</blockquote>
<p>**æ‰€ä»¥ï¼Œä¸ºä»€ä¹ˆä¼šæœ‰åŒ…è£…å™¨å‘¢ï¼Ÿ**æœ¬è´¨æ˜¯å› ä¸ºC++é‡Œçš„å¯è°ƒç”¨å¯¹è±¡çš„ç±»å‹å¤æ‚ä¸”å¤šï¼š</p>
<ul>
<li>
<p>å‡½æ•°æŒ‡é’ˆçš„ç±»å‹å†™èµ·æ¥æ¯”è¾ƒéº»çƒ¦ï¼Œæ¯”å¦‚æŠŠå‡½æ•°f çš„åœ°å€èµ‹å€¼ç»™æŒ‡é’ˆå˜é‡ pfï¼Œå°±å¾—å†™æˆè¿™æ · <code>int(*pf)(int, intï¼‰=f</code></p>
</li>
<li>
<p>lambdaåœ¨è¯­æ³•å±‚é¢ä¸Šæˆ‘ä»¬æ²¡æ³•æ§åˆ¶ç±»å‹ï¼Œå®ƒçš„ç±»å‹æ˜¯ç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆçš„</p>
</li>
<li>
<p>ç±»çš„æˆå‘˜å‡½æ•°ï¼Œéœ€è¦å¯¹è±¡æˆ–æŒ‡é’ˆå»è°ƒç”¨ï¼Œæ‰€ä»¥ç±»å‹å†™èµ·æ¥ä¹Ÿå¾ˆéº»çƒ¦</p>
</li>
</ul>
<p>è€ŒåŒ…è£…å™¨èƒ½å°†è¿™äº›å¯è°ƒç”¨å¯¹è±¡çš„ç±»å‹ç»Ÿä¸€æˆ std::function ç±»å‹ã€‚å¯è°ƒç”¨å¯¹è±¡åŒ…è£…åï¼Œå°±éƒ½èƒ½ç”¨åŒä¸€ä¸ªç±»å‹çš„å˜é‡å­˜å‚¨ã€ä¼ é€’ï¼Œå¹¶ä¸”ç”¨æ³•ä¹Ÿç»Ÿä¸€äº†</p>
<h2 id="81bind">8.1bind
</h2><p><img src="/p/c-11/index.assets/image-20251124233900109.png"
	width="991"
	height="169"
	
	loading="lazy"
	
		alt="image-20251124233900109"
	
	
		class="gallery-image" 
		data-flex-grow="586"
		data-flex-basis="1407px"
	
></p>
<p><strong>åŸºæœ¬ä»‹ç»</strong></p>
<p>1ï¼‰bindæ˜¯ä¸€ä¸ªå‡½æ•°æ¨¡ç‰ˆ</p>
<p>2ï¼‰bindä¹Ÿæ˜¯ä¸€ä¸ªå¯è°ƒç”¨å¯¹è±¡çš„åŒ…è£…å™¨ï¼Œå¯ä»¥æŠŠbindçœ‹åšä¸€ä¸ªå‡½æ•°é€‚é…å™¨ï¼šæˆ‘ä»¬ç»™å®ƒä¼ ä¸€ä¸ªå¯è°ƒç”¨å¯¹è±¡ï¼Œå®ƒåšä¸€äº›å¤„ç†ï¼Œç„¶åå®ƒä¼šè¿”å›ä¸€ä¸ªæ–°çš„å¯è°ƒç”¨å¯¹è±¡</p>
<p>3ï¼‰bindä¸»è¦æ˜¯ç”¨æ¥è°ƒæ•´å¯è°ƒç”¨å¯¹è±¡çš„å‚æ•°åˆ—è¡¨çš„ï¼Œæ¯”å¦‚è°ƒæ•´å‚æ•°çš„ä¸ªæ•°å’Œå‚æ•°çš„é¡ºåº</p>
<p>4ï¼‰bindçš„å®šä¹‰ä¹Ÿæ˜¯åœ¨ &lt;functional&gt;è¿™ä¸ªå¤´æ–‡ä»¶ä¸­</p>
<p><strong>bindçš„ä½¿ç”¨</strong></p>
<p>è°ƒç”¨bindçš„ä¸€èˆ¬å½¢å¼ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">auto</span> <span class="n">newCallable</span> <span class="o">=</span> <span class="n">bind</span><span class="p">(</span><span class="n">callable</span><span class="p">,</span> <span class="n">arg_list</span><span class="p">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>callableï¼šå¯è°ƒç”¨å¯¹è±¡</li>
<li>arg_listï¼šä¸€ä¸ªä»¥é€—å·åˆ†éš”çš„å‚æ•°åˆ—è¡¨ï¼Œå¯¹åº”ç»™å®šçš„callableçš„å‚æ•°</li>
<li>bindçš„è¿”å›å€¼æ˜¯ä¸€ä¸ªå¯è°ƒç”¨å¯¹è±¡ï¼ˆbindè™½ç„¶æ˜¯ä¸€ä¸ªå‡½æ•°æ¨¡ç‰ˆï¼Œä½†æ˜¯å†…éƒ¨å…¶å®æ˜¯ç”Ÿæˆå¯è°ƒç”¨å¯¹è±¡ï¼‰</li>
</ul>
<blockquote>
<p>å½“è°ƒç”¨ newCallable(å®å‚) æ—¶ï¼Œè¯¥æ–°å¯¹è±¡ä¼šè‡ªåŠ¨è°ƒç”¨åŸæœ¬çš„ callableï¼Œå¹¶ä¸”å°† arg_list ä¸­çš„å‚æ•°ï¼ˆå›ºå®šå€¼ç›´æ¥ä½¿ç”¨ï¼Œå ä½ç¬¦ç”¨ newCallable æ¥æ”¶çš„å®å‚æ›¿æ¢ï¼‰ï¼Œä¸€å¹¶ä¼ é€’ç»™åŸæœ¬çš„ callableã€‚</p>
</blockquote>
<p>arg_listä¸­çš„å‚æ•°å¯ä»¥ä¼  <code>_1</code>ã€<code>_2</code>ã€<code>_3</code>ç­‰ï¼Œè¿™äº›å‚æ•°æ˜¯å ä½ç¬¦ï¼Œ<code>_1</code>æ°¸è¿œä»£è¡¨newCallableçš„ç¬¬1ä¸ªå®å‚ï¼Œ<code>_2</code>æ°¸è¿œä»£è¡¨newCallableçš„ç¬¬2ä¸ªå®å‚ï¼Œä»¥æ­¤ç±»æ¨</p>
<blockquote>
<p><code>_1</code> ã€<code>_2</code>ã€ <code>_3</code> è¿™äº›å ä½ç¬¦æ˜¯å°è£…åœ¨placeholdersè¿™ä¸ªå‘½åç©ºé—´é‡Œçš„</p>
<p><img src="/p/c-11/index.assets/image-20251124234330922.png"
	width="477"
	height="214"
	
	loading="lazy"
	
		alt="image-20251124234330922"
	
	
		class="gallery-image" 
		data-flex-grow="222"
		data-flex-basis="534px"
	
></p>
</blockquote>
<p><strong>bindçš„ç”¨æ³•1ï¼šè°ƒæ•´å‚æ•°é¡ºåº</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;functional&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">Sub</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">b</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="p">(</span><span class="n">a</span> <span class="o">-</span> <span class="n">b</span><span class="p">)</span> <span class="o">*</span> <span class="mi">10</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨ï¼Œæˆ‘ä»¬å±•å¼€è¿™å‡ ä¸ªæ ‡å¿—ç¬¦
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">using</span> <span class="n">placeholders</span><span class="o">::</span><span class="n">_1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">using</span> <span class="n">placeholders</span><span class="o">::</span><span class="n">_2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">using</span> <span class="n">placeholders</span><span class="o">::</span><span class="n">_3</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//bind æœ¬è´¨è¿”å›ä¸€ä¸ªä»¿å‡½æ•°å¯¹è±¡
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//_1ä»£è¡¨ç¬¬ä¸€ä¸ªå®å‚ï¼Œ_2ä»£è¡¨ç¬¬äºŒä¸ªå®å‚
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="k">auto</span> <span class="n">sub1</span> <span class="o">=</span> <span class="n">bind</span><span class="p">(</span><span class="n">Sub</span><span class="p">,</span> <span class="n">_1</span><span class="p">,</span> <span class="n">_2</span><span class="p">);</span><span class="c1">//å¯¹Subå‡½æ•°è¿›è¡ŒåŒ…è£…
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">sub1</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="c1">// (10-5)*10 = 50
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="c1">//bindå¯ä»¥è°ƒæ•´å‚æ•°é¡ºåº
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="k">auto</span> <span class="n">sub2</span> <span class="o">=</span> <span class="n">bind</span><span class="p">(</span><span class="n">Sub</span><span class="p">,</span> <span class="n">_2</span><span class="p">,</span> <span class="n">_1</span><span class="p">);</span><span class="c1">//å¯¹Subå‡½æ•°è¿›è¡ŒåŒ…è£…
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">sub2</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="c1">// (5-10)*10 = -50
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>bindçš„ç”¨æ³•2ï¼šè°ƒæ•´å‚æ•°ä¸ªæ•°ï¼ˆå¸¸ç”¨ï¼‰</strong></p>
<blockquote>
<p>bindå¯ä»¥æŠŠæŸäº›å‚æ•°å›ºå®šä¸Š</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;functional&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">Sub</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">b</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="p">(</span><span class="n">a</span> <span class="o">-</span> <span class="n">b</span><span class="p">)</span> <span class="o">*</span> <span class="mi">10</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">SubX</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">b</span><span class="p">,</span> <span class="kt">int</span> <span class="n">c</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="p">(</span><span class="n">a</span> <span class="o">-</span> <span class="n">b</span> <span class="o">-</span> <span class="n">c</span><span class="p">)</span> <span class="o">*</span> <span class="mi">10</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨ï¼Œæˆ‘ä»¬å±•å¼€è¿™å‡ ä¸ªæ ‡å¿—ç¬¦
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">using</span> <span class="n">placeholders</span><span class="o">::</span><span class="n">_1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">using</span> <span class="n">placeholders</span><span class="o">::</span><span class="n">_2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">using</span> <span class="n">placeholders</span><span class="o">::</span><span class="n">_3</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//è°ƒæ•´å‚æ•°ä¸ªæ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//éœ€æ±‚ï¼šç¬¬ä¸€ä¸ªå‚æ•°å›ºå®šæ˜¯100ï¼Œç¬¬äºŒä¸ªå‚æ•°å¯ä»¥æ˜¾ç¤ºä¼ 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="k">auto</span> <span class="n">sub3</span> <span class="o">=</span> <span class="n">bind</span><span class="p">(</span><span class="n">Sub</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="n">_1</span><span class="p">);</span><span class="c1">// _1æ°¸è¿œä»£è¡¨ç¬¬ä¸€ä¸ªå®å‚
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">sub3</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="c1">// (100-5)*10 = 950
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="c1">//åˆ†åˆ«ç»‘æ­»ç¬¬1ã€2ã€3ä¸ªå‚æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="k">auto</span> <span class="n">sub4</span> <span class="o">=</span> <span class="n">bind</span><span class="p">(</span><span class="n">SubX</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="n">_1</span><span class="p">,</span> <span class="n">_2</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">sub4</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="c1">// (100-5-1)*10 = 940
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="k">auto</span> <span class="n">sub5</span> <span class="o">=</span> <span class="n">bind</span><span class="p">(</span><span class="n">SubX</span><span class="p">,</span> <span class="n">_1</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="n">_2</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">sub5</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="c1">// (5-100-1)*10 = -960
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="k">auto</span> <span class="n">sub6</span> <span class="o">=</span> <span class="n">bind</span><span class="p">(</span><span class="n">SubX</span><span class="p">,</span> <span class="n">_1</span><span class="p">,</span> <span class="n">_2</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">sub6</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="c1">// (5-1-100)*10 = -960
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>bindçš„åº”ç”¨åœºæ™¯1</strong></p>
<p>å¯¹äºéé™æ€çš„æˆå‘˜å‡½æ•°ï¼Œæœ‰ä¸€ä¸ªéšå«çš„thisæŒ‡é’ˆã€‚å¦‚æœç”¨ std::functionå»åŒ…è£…éé™æ€æˆå‘˜å‡½æ•°ï¼Œé‚£ä¹ˆæ¯æ¬¡è°ƒç”¨çš„æ—¶å€™éƒ½éœ€è¦ä¼ ä¸€ä¸ªå¯¹è±¡/æŒ‡é’ˆï¼Œå¾ˆéº»çƒ¦ã€‚æˆ‘ä»¬å¯ä»¥ç”¨bindå°†ç¬¬ä¸€ä¸ªå‚æ•°ç»‘å®šï¼Œä¹‹åè°ƒç”¨å°±ä¸ç”¨ä¼ ç¬¬ä¸€ä¸ªå‚æ•°äº†</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;functional&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">using</span> <span class="n">placeholders</span><span class="o">::</span><span class="n">_1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">using</span> <span class="n">placeholders</span><span class="o">::</span><span class="n">_2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">using</span> <span class="n">placeholders</span><span class="o">::</span><span class="n">_3</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Plus</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">	<span class="n">Plus</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="o">:</span><span class="n">_n</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//é™æ€æˆå‘˜å‡½æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="k">static</span> <span class="kt">int</span> <span class="nf">plusi</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">b</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//éé™æ€æˆå‘˜å‡½æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kt">double</span> <span class="nf">plusd</span><span class="p">(</span><span class="kt">double</span> <span class="n">a</span><span class="p">,</span> <span class="kt">double</span> <span class="n">b</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">)</span> <span class="o">*</span> <span class="n">_n</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="k">private</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">	<span class="kt">int</span> <span class="n">_n</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//æˆå‘˜å‡½æ•°è¿›è¡Œç»‘æ­»ï¼Œå°±ä¸éœ€è¦æ¯æ¬¡éƒ½ä¼ é€’äº†
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">function</span><span class="o">&lt;</span><span class="kt">double</span><span class="p">(</span><span class="n">Plus</span><span class="o">&amp;&amp;</span><span class="p">,</span> <span class="kt">double</span><span class="p">,</span> <span class="kt">double</span><span class="p">)</span><span class="o">&gt;</span> <span class="n">f6</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">Plus</span><span class="o">::</span><span class="n">plusd</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="n">Plus</span> <span class="n">pd</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">f6</span><span class="p">(</span><span class="n">move</span><span class="p">(</span><span class="n">pd</span><span class="p">),</span> <span class="mf">1.1</span><span class="p">,</span> <span class="mf">1.1</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">f6</span><span class="p">(</span><span class="n">Plus</span><span class="p">(),</span> <span class="mf">1.1</span><span class="p">,</span> <span class="mf">1.1</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="c1">// 22
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	
</span></span><span class="line"><span class="cl">	<span class="c1">//bindä¸€èˆ¬ç”¨äºç»‘æ­»ä¸€äº›å›ºå®šå‚æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">function</span><span class="o">&lt;</span><span class="kt">double</span><span class="p">(</span><span class="kt">double</span><span class="p">,</span> <span class="kt">double</span><span class="p">)</span><span class="o">&gt;</span> <span class="n">f7</span> <span class="o">=</span> <span class="n">bind</span><span class="p">(</span><span class="o">&amp;</span><span class="n">Plus</span><span class="o">::</span><span class="n">plusd</span><span class="p">,</span> <span class="n">Plus</span><span class="p">(),</span> <span class="n">_1</span><span class="p">,</span> <span class="n">_2</span><span class="p">);</span> <span class="c1">// æŠŠç¬¬ä¸€ä¸ªå‚æ•°ç»‘æ­»ï¼ˆç¬¬ä¸€ä¸ªå‚æ•°æ˜¯Pluså¯¹è±¡ï¼‰
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">f7</span><span class="p">(</span><span class="mf">1.1</span><span class="p">,</span> <span class="mf">1.1</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="c1">// 22
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>   
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>bindçš„åº”ç”¨åœºæ™¯2</strong></p>
<p>è®¡ç®—å¤åˆ©çš„lambdaã€‚é€šè¿‡ç»‘æ­»ä¸€äº›å‚æ•°ï¼Œå®ç°æ”¯æŒä¸åŒå¹´ååˆ©ç‡ï¼Œä¸åŒé‡‘é¢å’Œä¸åŒå¹´ä»½è®¡ç®—å‡ºå¤åˆ©çš„ç»“ç®—åˆ©æ¯</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;functional&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">using</span> <span class="n">placeholders</span><span class="o">::</span><span class="n">_1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">using</span> <span class="n">placeholders</span><span class="o">::</span><span class="n">_2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">using</span> <span class="n">placeholders</span><span class="o">::</span><span class="n">_3</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//è®¡ç®—å¤åˆ©çš„lambda
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//å¤åˆ©ï¼šå‰ä¸€å¹´çš„åˆ©æ¯ä¼šå˜æˆç¬¬äºŒå¹´çš„æœ¬é‡‘
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">auto</span> <span class="n">func1</span> <span class="o">=</span> <span class="p">[](</span><span class="kt">double</span> <span class="n">rate</span><span class="p">,</span> <span class="kt">double</span> <span class="n">money</span><span class="p">,</span> <span class="kt">int</span> <span class="n">year</span><span class="p">)</span><span class="o">-&gt;</span><span class="kt">double</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kt">double</span> <span class="n">ret</span> <span class="o">=</span> <span class="n">money</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">year</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">ret</span> <span class="o">+=</span> <span class="n">ret</span> <span class="o">*</span> <span class="n">rate</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">ret</span> <span class="o">-</span> <span class="n">money</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">//ç»‘æ­»ä¸€äº›å‚æ•°ï¼Œå®ç°æ”¯æŒä¸åŒå¹´ååˆ©ç‡ï¼Œä¸åŒé‡‘é¢å’Œä¸åŒå¹´ä»½è®¡ç®—å‡ºå¤åˆ©çš„ç»“ç®—åˆ©æ¯
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">function</span><span class="o">&lt;</span><span class="kt">double</span><span class="p">(</span><span class="kt">double</span><span class="p">)</span><span class="o">&gt;</span> <span class="n">func3_1_5</span> <span class="o">=</span> <span class="n">bind</span><span class="p">(</span><span class="n">func1</span><span class="p">,</span> <span class="mf">0.015</span><span class="p">,</span> <span class="n">_1</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">function</span><span class="o">&lt;</span><span class="kt">double</span><span class="p">(</span><span class="kt">double</span><span class="p">)</span><span class="o">&gt;</span> <span class="n">func5_2_5</span> <span class="o">=</span> <span class="n">bind</span><span class="p">(</span><span class="n">func1</span><span class="p">,</span> <span class="mf">0.025</span><span class="p">,</span> <span class="n">_1</span><span class="p">,</span> <span class="mi">5</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">function</span><span class="o">&lt;</span><span class="kt">double</span><span class="p">(</span><span class="kt">double</span><span class="p">)</span><span class="o">&gt;</span> <span class="n">func10_2_5</span> <span class="o">=</span> <span class="n">bind</span><span class="p">(</span><span class="n">func1</span><span class="p">,</span> <span class="mf">0.025</span><span class="p">,</span> <span class="n">_1</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">function</span><span class="o">&lt;</span><span class="kt">double</span><span class="p">(</span><span class="kt">double</span><span class="p">)</span><span class="o">&gt;</span> <span class="n">func20_3_5</span> <span class="o">=</span> <span class="n">bind</span><span class="p">(</span><span class="n">func1</span><span class="p">,</span> <span class="mf">0.035</span><span class="p">,</span> <span class="n">_1</span><span class="p">,</span> <span class="mi">30</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">func3_1_5</span><span class="p">(</span><span class="mi">1000000</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span><span class="c1">//45678.4
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">func5_2_5</span><span class="p">(</span><span class="mi">1000000</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span><span class="c1">//131408
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">func10_2_5</span><span class="p">(</span><span class="mi">1000000</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span><span class="c1">//280085
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">func20_3_5</span><span class="p">(</span><span class="mi">1000000</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span><span class="c1">//1.80679e+06
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>   
</span></span></code></pre></td></tr></table>
</div>
</div>
</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/c&#43;&#43;%E8%BF%9B%E9%98%B6/">C&#43;&#43;è¿›é˜¶</a>
        
            <a href="/tags/c&#43;&#43;11/">C&#43;&#43;11</a>
        
    </section>


    
</footer>


    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">ç›¸å…³æ–‡ç« </h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="has-image">
    <a href="/p/abnormal/">
        
        
            <div class="article-image">
                <img src="/p/abnormal/09.2fe82299e0dd40ef039c8e19bbf498cd_hu_ffd55995b1c88359.jpg" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post ã€C&#43;&#43;è¿›é˜¶ã€‘12å¼‚å¸¸"
                        data-key="abnormal" 
                        data-hash="md5-L&#43;gimeDdQO8DnI4Zu/SYzQ==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">ã€C&#43;&#43;è¿›é˜¶ã€‘12å¼‚å¸¸</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/map-and-set/">
        
        
            <div class="article-image">
                <img src="/p/map-and-set/%E3%80%90%E5%93%B2%E9%A3%8E%E5%A3%81%E7%BA%B8%E3%80%91%E5%8A%A8%E6%BC%AB%E5%A3%81%E7%BA%B8-%E5%8A%A8%E6%BC%AB%E5%A4%A9%E7%A9%BA.61389300f7e50cd4ca6d67c3c1ccedd2_hu_1eb3df9e72359bb6.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post ã€C&#43;&#43;è¿›é˜¶ã€‘04mapå’Œsetçš„ä½¿ç”¨"
                        data-key="map-and-set" 
                        data-hash="md5-YTiTAPflDNTKbWfDwczt0g==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">ã€C&#43;&#43;è¿›é˜¶ã€‘04mapå’Œsetçš„ä½¿ç”¨</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/c-inherit/">
        
        
            <div class="article-image">
                <img src="/p/c-inherit/%E3%80%90%E5%93%B2%E9%A3%8E%E5%A3%81%E7%BA%B8%E3%80%91%E4%BC%91%E9%97%B2-%E5%92%96%E5%95%A1%E9%A6%86-%E6%89%8B%E7%BB%98%E9%A3%8E.fc890614cbf7e2e47fe2cedb91347a73_hu_3efb3d15b9c9b9c6.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post ã€C&#43;&#43;è¿›é˜¶ã€‘01ç»§æ‰¿"
                        data-key="c&#43;&#43;-inherit" 
                        data-hash="md5-/IkGFMv34uR/4s7bkTR6cw==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">ã€C&#43;&#43;è¿›é˜¶ã€‘01ç»§æ‰¿</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/c-polymorphic/">
        
        
            <div class="article-image">
                <img src="/p/c-polymorphic/%E3%80%90%E5%93%B2%E9%A3%8E%E5%A3%81%E7%BA%B8%E3%80%91%E5%8A%A8%E6%BC%AB%E5%A5%B3%E5%AD%A9-%E5%8F%AF%E7%88%B1.5e36117cff17b329cec62853f3c4a367_hu_56ab0bc6663b9382.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post ã€C&#43;&#43;è¿›é˜¶ã€‘02å¤šæ€"
                        data-key="c&#43;&#43;-polymorphic" 
                        data-hash="md5-XjYRfP8XsynOxihT88SjZw==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">ã€C&#43;&#43;è¿›é˜¶ã€‘02å¤šæ€</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/binary-search-tree/">
        
        
            <div class="article-image">
                <img src="/p/binary-search-tree/%E3%80%90%E5%93%B2%E9%A3%8E%E5%A3%81%E7%BA%B8%E3%80%91%E5%92%96%E5%95%A1-%E5%92%96%E5%95%A1%E5%B1%8B-%E5%A4%9C%E6%99%AF.821ccfd96e15fb0433076610fe7594ff_hu_8b432d5880f642d1.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post ã€C&#43;&#43;è¿›é˜¶ã€‘03äºŒå‰æœç´¢æ ‘"
                        data-key="Binary-Search-Tree" 
                        data-hash="md5-ghzP2W4V&#43;wQzB2YQ/nWU/w==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">ã€C&#43;&#43;è¿›é˜¶ã€‘03äºŒå‰æœç´¢æ ‘</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
        2025 PursUnre
    </section>
    
    <section class="powerby">
        ä½¿ç”¨ <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> æ„å»º <br />
        ä¸»é¢˜ <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.31.0">Stack</a></b> ç”± <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a> è®¾è®¡
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.9c1a6570230d4822a0bae7b9729a4d803a1d6e81a2ebc4dbb042dd1c2902034a.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
