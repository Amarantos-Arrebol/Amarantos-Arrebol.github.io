<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="从地址到二级指针，系统掌握指针的底层逻辑">
<title>【C语言基础】指针入门</title>

<link rel='canonical' href='https://Amarantos-Arrebol.github.io/p/c-pointer-basic/'>

<link rel="stylesheet" href="/scss/style.min.56dee55d52da9700151ae7b7681e72fc3b45c8f61a70cebc3e499f821d178133.css"><meta property='og:title' content="【C语言基础】指针入门">
<meta property='og:description' content="从地址到二级指针，系统掌握指针的底层逻辑">
<meta property='og:url' content='https://Amarantos-Arrebol.github.io/p/c-pointer-basic/'>
<meta property='og:site_name' content='PursUnre的博客'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:published_time' content='2025-11-02T00:00:00&#43;00:00'/><meta property='article:modified_time' content='2025-11-02T00:00:00&#43;00:00'/><meta property='og:image' content='https://Amarantos-Arrebol.github.io/p/c-pointer-basic/04.png' />
<meta name="twitter:title" content="【C语言基础】指针入门">
<meta name="twitter:description" content="从地址到二级指针，系统掌握指针的底层逻辑"><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://Amarantos-Arrebol.github.io/p/c-pointer-basic/04.png' />
    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="切换菜单">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hu_c3bef4dff24cf0d9.png" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">🌿</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">PursUnre的博客</a></h1>
            <h2 class="site-description">欢迎来到我的网站，此博客由【Hugo&#43;Stack】来进行搭建，主要分享个人学习笔记</h2>
        </div>
    </header><ol class="menu-social">
            
                <li>
                    <a 
                        href='https://blog.csdn.net/green_tangerine?spm=1000.2115.3001.5343'
                        target="_blank"
                        title="CSDN"
                        rel="me"
                    >
                        
                        
                            <?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1762020245107" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4643" width="32" height="32" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M568.917333 626.005333l16.213334 2.474667c5.674667-0.64 10.965333-1.109333 15.914666-1.578667 9.941333-0.938667 18.688-1.792 27.221334-3.498666 38.4-7.68 67.968-27.434667 83.2-64.768 10.325333-25.002667 11.690667-51.242667 8.533333-77.653334-4.864-41.088-23.68-72.96-64.085333-88.106666-39.125333-14.634667-78.336-9.301333-117.077334 2.56-6.186667 1.92-9.685333 6.954667-10.24 13.653333-1.152 13.141333-2.304 26.24-3.541333 39.338667-4.821333 51.328-9.557333 102.656-14.208 153.984-0.896 9.642667 2.304 14.506667 12.202667 16.213333 15.744 2.816 31.445333 5.205333 45.866666 7.381333z m21.589334-33.450666c-2.602667 0.170667-5.12 0.341333-7.381334 0.554666l-10.624-0.725333a2204.416 2204.416 0 0 0-15.36-0.981333c-5.76-0.256-8.149333-2.816-7.509333-8.96 1.536-15.36 2.901333-30.634667 4.266667-45.994667l2.048-22.912 2.858666-30.848 4.693334-51.114667v-0.170666c0.426667-4.565333 0.768-8.533333 6.4-9.770667 20.053333-4.352 40.234667-6.698667 60.458666-1.962667 28.032 6.570667 43.093333 25.813333 49.194667 52.906667 5.546667 24.618667 5.205333 49.152-4.565333 72.746667-11.776 28.416-36.096 40.021333-64.426667 45.141333-6.826667 1.28-13.781333 1.706667-20.053333 2.133333zM308.437333 606.208c23.765333 16.341333 50.986667 20.778667 79.189334 20.992 17.152 0.170667 34.005333-1.706667 49.92-8.448 25.216-10.666667 38.101333-30.421333 41.429333-56.917333 3.328-26.496-6.144-47.744-29.098667-61.568a242.346667 242.346667 0 0 0-38.4-18.218667c-8.405333-3.242667-16.981333-5.930667-25.514666-8.618667a367.957333 367.957333 0 0 1-29.781334-10.325333c-17.28-7.253333-18.517333-19.498667-5.034666-32.725333 17.237333-16.896 49.621333-18.176 69.888-2.133334 5.845333 4.608 10.837333 10.368 15.744 16.085334l1.365333 1.578666c6.144 7.125333 12.757333 8.021333 19.925333 1.962667 11.776-9.813333 11.690667-25.6-0.426666-36.693333-22.570667-20.650667-49.408-29.696-79.573334-26.197334-27.904 3.242667-51.626667 15.189333-66.986666 39.936-13.994667 22.613333-9.088 48.554667 13.397333 62.634667 10.24 6.442667 21.973333 10.666667 33.536 14.933333 2.133333 0.725333 4.181333 1.493333 6.229333 2.261334 8.234667 3.029333 16.512 5.802667 24.874667 8.533333 10.368 3.413333 20.736 6.869333 30.890667 10.837333 12.458667 4.906667 19.498667 14.677333 19.029333 28.885334-0.597333 16.512-7.637333 28.586667-23.808 33.792-27.946667 9.130667-83.2 6.4-102.058667-30.421334-3.84-7.296-10.368-8.021333-17.792-3.925333-13.44 7.466667-17.28 23.04-7.466666 34.986667 5.930667 7.168 12.8 13.482667 20.48 18.773333zM805.674667 410.538667c3.882667-1.962667 7.850667-4.181333 11.861333-6.485334 9.130667-5.12 18.730667-10.581333 29.013333-13.653333 30.592-9.130667 61.269333-7.509333 88.490667 11.136 21.162667 14.506667 30.293333 36.096 28.458667 61.354667-2.346667 32.085333-5.205333 64.170667-8.021334 96.256-1.408 15.786667-2.816 31.530667-4.138666 47.274666-1.408 16.725333-18.56 26.453333-33.066667 18.090667-2.688-1.536-4.778667-6.826667-4.565333-10.24 1.365333-21.12 3.157333-42.197333 4.992-63.232l0.768-9.002667 2.261333-25.216c1.749333-19.2 3.498667-38.4 4.693333-57.6 0.896-13.141333-4.693333-23.893333-16.298666-31.232-30.848-19.498667-71.68-9.728-94.208 22.485334-15.616 22.442667-21.205333 47.616-23.04 74.410666-1.365333 20.352-3.328 40.661333-5.333334 60.928l-2.944 30.890667c-0.512 5.973333-3.669333 9.002667-9.386666 9.386667a89.386667 89.386667 0 0 1-12.373334 0c-10.496-0.810667-14.890667-6.656-13.994666-17.066667 2.304-26.197333 4.48-52.48 6.656-78.677333l2.773333-32.853334 2.005333-24.234666c1.493333-18.474667 2.986667-36.906667 4.693334-55.338667 1.365333-15.018667 19.328-25.856 32.64-19.072 2.986667 1.536 4.778667 5.248 6.314666 8.362667 0.597333 1.28 1.152 2.432 1.749334 3.328zM95.445333 603.008c22.698667 18.346667 49.493333 23.893333 77.952 24.064 27.946667-0.128 54.570667-5.12 78.549334-20.650667a22.357333 22.357333 0 0 0 10.965333-23.893333 22.186667 22.186667 0 0 0-13.184-17.706667c-6.698667-2.901333-11.434667 1.194667-16.341333 5.546667l-0.298667 0.213333a72.149333 72.149333 0 0 1-17.706667 11.776c-22.613333 10.112-46.336 11.008-70.186666 5.504-23.466667-5.461333-38.954667-20.138667-44.032-43.904-7.893333-36.949333-0.981333-71.253333 23.168-100.565333 17.834667-21.76 41.813333-31.018667 69.205333-21.76 9.173333 3.072 17.322667 9.386667 25.344 15.616 2.261333 1.749333 4.522667 3.498667 6.741333 5.12 7.210667 5.376 13.525333 5.546667 19.2-1.450667a23.338667 23.338667 0 0 0-1.962666-32.682666 87.381333 87.381333 0 0 0-58.410667-23.552c-48.128-1.194667-82.901333 21.888-106.24 62.677333-16.341333 28.458667-21.376 59.477333-16.938667 92.032 3.456 25.472 13.909333 47.232 34.133334 63.573333z" fill="#707070" p-id="4644"></path></svg>
                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://gitee.com/green-citrus'
                        target="_blank"
                        title="Gitee"
                        rel="me"
                    >
                        
                        
                            <?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1762076613092" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2602" width="32" height="32" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M690.194 479.706H496.998v0.004c-9.275 0-16.798 7.518-16.8 16.795l-0.016 42h-0.004c-0.002 9.277 7.518 16.799 16.796 16.803h0.004l117.618-0.004c9.277 0 16.8 7.522 16.8 16.8v8.4c0 27.832-22.564 50.398-50.399 50.398h-159.61c-9.277 0-16.797-7.522-16.797-16.8l-0.004-159.597h-0.002c0-27.834 22.562-50.398 50.397-50.4h0.002l235.164 0.002v-0.011c9.275 0 16.794-7.516 16.8-16.789l0.037-41.999h0.011c0.006-9.277-7.512-16.804-16.79-16.81h-0.01l-235.195 0.01c-69.586 0-125.998 56.412-125.998 125.997L329 689.701c0 9.277 7.522 16.8 16.8 16.8h247.796c62.628 0 113.398-50.768 113.398-113.397v-96.599c0-9.277-7.522-16.799-16.8-16.799z" p-id="2603" fill="#515151"></path></svg>
                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://github.com/Amarantos-Arrebol'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>主页</span>
            </a>
        </li>
        
        
        <li >
            <a href='/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>归档</span>
            </a>
        </li>
        
        
        <li >
            <a href='/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>搜索</span>
            </a>
        </li>
        
        
        <li >
            <a href='/%E5%8F%8B%E9%93%BE/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>友链</span>
            </a>
        </li>
        
        <li class="menu-bottom-section">
            <ol class="menu">

                
                    <li id="dark-mode-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <span>暗色模式</span>
                    </li>
                
            </ol>
        </li>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">目录</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ul>
    <li><a href="#一指针入门"><strong>一、指针入门</strong></a>
      <ul>
        <li><a href="#1基本概念">1.基本概念</a>
          <ul>
            <li><a href="#11-指针"><strong>1.1 指针</strong></a></li>
            <li><a href="#12-指针变量"><strong>1.2 指针变量</strong></a></li>
            <li><a href="#13取地址操作符"><strong>1.3取地址操作符</strong></a></li>
            <li><a href="#14-解引用操作符"><strong>1.4 解引用操作符</strong></a></li>
          </ul>
        </li>
        <li><a href="#2指针变量的大小"><strong>2.指针变量的大小</strong></a></li>
        <li><a href="#3指针类型的意义"><strong>3.指针类型的意义</strong></a>
          <ul>
            <li><a href="#31指针类型决定了解引用时能向后操作几个字节">3.1指针类型决定了解引用时能向后操作几个字节</a></li>
            <li><a href="#32-指针变量---整数">3.2 指针变量 +- 整数</a></li>
          </ul>
        </li>
        <li><a href="#4指针运算"><strong>4.指针运算</strong></a>
          <ul>
            <li><a href="#41指针---整数">4.1指针 +- 整数</a></li>
            <li><a href="#42指针-指针">4.2指针-指针</a></li>
            <li><a href="#43指针的关系运算">4.3指针的关系运算</a></li>
          </ul>
        </li>
        <li><a href="#5二级指针">5.二级指针</a></li>
      </ul>
    </li>
    <li><a href="#二指针基础">二、指针基础</a>
      <ul>
        <li><a href="#1基本类型指针"><strong>1.基本类型指针</strong></a>
          <ul>
            <li><a href="#11指针与字符"><strong>1.1指针与字符</strong></a></li>
            <li><a href="#12-指针与数组"><strong>1.2 指针与数组</strong></a></li>
            <li><a href="#13指针与函数"><strong>1.3指针与函数</strong></a>
              <ul>
                <li><a href="#函数的传参机制"><strong>函数的传参机制</strong></a></li>
                <li><a href="#函数指针"><strong>函数指针</strong></a></li>
                <li><a href="#typedef给类型重命名"><strong>typedef给类型重命名</strong></a></li>
                <li><a href="#函数指针数组"><strong>函数指针数组</strong></a></li>
                <li><a href="#函数指针数组的用途-转移表"><strong>函数指针数组的用途-转移表</strong></a></li>
                <li><a href="#回调函数"><strong>回调函数</strong></a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#2特殊类型指针"><strong>2.特殊类型指针</strong></a>
          <ul>
            <li><a href="#21-void-无具体类型的指针"><strong>2.1 Void 无具体类型的指针</strong></a></li>
            <li><a href="#22-野指针"><strong>2.2 野指针</strong></a></li>
          </ul>
        </li>
        <li><a href="#3指针代码的优化"><strong>3.指针代码的优化</strong></a>
          <ul>
            <li><a href="#31-const修饰"><strong>3.1 const</strong>修饰</a></li>
            <li><a href="#32-assert断言"><strong>3.2 assert</strong>断言</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#三指针进阶">三、指针进阶</a>
      <ul>
        <li><a href="#1-qsort函数">1. qsort函数</a></li>
        <li><a href="#2-指针和数组笔试题解析">2. 指针和数组笔试题解析</a>
          <ul>
            <li><a href="#21-一维数组">2.1 一维数组</a></li>
            <li><a href="#22-字符数组">2.2 字符数组</a></li>
            <li><a href="#23-二维数组">2.3 二维数组</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="/p/c-pointer-basic/">
                <img src="/p/c-pointer-basic/04_hu_373845668b196388.png"
                        srcset="/p/c-pointer-basic/04_hu_373845668b196388.png 800w, /p/c-pointer-basic/04_hu_576771f7eb678e5.png 1600w"
                        width="800" 
                        height="450" 
                        loading="lazy"
                        alt="Featured image of post 【C语言基础】指针入门" />
                
            </a>
        </div>
    

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/c/" style="background-color: #93BFC7; color: #fff;">
                C
            </a>
        
            <a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" style="background-color: #B7A3E3; color: #fff;">
                学习笔记
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/p/c-pointer-basic/">【C语言基础】指针入门</a>
        </h2>
    
        
        <h3 class="article-subtitle">
            从地址到二级指针，系统掌握指针的底层逻辑
        </h3>
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">2025-11-02</time>
            </div>
        

        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <h1 id="一指针入门"><strong>一、指针入门</strong>
</h1><h2 id="1基本概念">1.基本概念
</h2><h3 id="11-指针"><strong>1.1 指针</strong>
</h3><blockquote>
<p>指针就是地址</p>
<p>在内存里只要分配了数据空间就对应一个地址</p>
</blockquote>
<p>变量在创建的时候，会向内存中申请一块空间，这块空间在创建的同时会被分配一个地址</p>
<p>可以把计算机中的内存看成宿舍楼，楼里的每个宿舍都有自己的门牌号，而这个门牌号也就是地址/指针，我们根据门牌号就可以找到对应的宿舍</p>
<p>也就是 指针 = 地址 = 门牌号</p>
<p>代码示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">short</span> <span class="n">age</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span><span class="c1">//向内存申请2个字节的空间来存放20
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">float</span> <span class="n">weight</span> <span class="o">=</span> <span class="mf">95.5F</span><span class="p">;</span><span class="c1">//向内存申请4个字节的空间来存放95.5
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p>示意图如下：</p>
<p><img src="/p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/198415c662a53fa9e532db51036b7e31.png"
	width="722"
	height="439"
	srcset="/p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/198415c662a53fa9e532db51036b7e31_hu_e6c180764cc904b5.png 480w, /p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/198415c662a53fa9e532db51036b7e31_hu_4087e8f13651f423.png 1024w"
	loading="lazy"
	
		alt="c7ae8722b2bd43d8b68049392f6cbd61.png"
	
	
		class="gallery-image" 
		data-flex-grow="164"
		data-flex-basis="394px"
	
></p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p>另外，内存划分为多个内存单元，每个内存单元大小为1个字节（也就是8比特位，可以看成每个宿舍可以住8个人）， <strong>每个内存单元都有自己的地址</strong></p>
<p>编译器是通过地址找到对应的内存单元</p>
<p>示意图如下：</p>
<p><img src="/p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/4da73ed65d1e45dd5ff4684a249f2df7.png"
	width="1175"
	height="698"
	srcset="/p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/4da73ed65d1e45dd5ff4684a249f2df7_hu_9b0d04b061d3c700.png 480w, /p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/4da73ed65d1e45dd5ff4684a249f2df7_hu_1d7780aaa9c9e3e6.png 1024w"
	loading="lazy"
	
		alt="4115f6474a7540818af477c130b770e1.png"
	
	
		class="gallery-image" 
		data-flex-grow="168"
		data-flex-basis="404px"
	
></p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<h3 id="12-指针变量"><strong>1.2 指针变量</strong>
</h3><blockquote>
<p>指针变量是用来存放地址的变量</p>
</blockquote>
<h3 id="13取地址操作符"><strong>1.3取地址操作符</strong>
</h3><blockquote>
<p>&amp;  是取地址操作符，用于拿到地址。拿到的是<strong>第一个字节</strong>的地址（可以推出剩下的地址**）**</p>
<p>%p 是用于打印地址的占位符</p>
</blockquote>
<p><strong>看一段代码：</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span><span class="o">*</span> <span class="n">pa</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">a</span><span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p><strong>解读：</strong></p>
<p>&amp;a ： 拿到变量a的地址</p>
<p>pa ：pa是一个用来存放a的地址的变量，叫指针变量</p>
<p><strong>int*</strong> <strong>指针类型的理解</strong></p>
<p>（1）*表示pa是指针变量，int表示pa指向的对象a的类型是int类型的</p>
<p>（2）int*是pa的类型，即整型指针类型</p>
<p>整体代码解读：pa是一个整型指针类型的变量，里面存放的是a的<strong>第一个字节</strong>的地址(指针)</p>
<p>示意图如下：</p>
<p><img src="/p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/1ef9a8aecffc1ce4af843765cb3211a2.png"
	width="626"
	height="291"
	srcset="/p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/1ef9a8aecffc1ce4af843765cb3211a2_hu_3b370495b6572420.png 480w, /p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/1ef9a8aecffc1ce4af843765cb3211a2_hu_e4399736eb96fe23.png 1024w"
	loading="lazy"
	
		alt="e0866e7187a54cc187f082f36dd35fe2.png"
	
	
		class="gallery-image" 
		data-flex-grow="215"
		data-flex-basis="516px"
	
></p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<h3 id="14-解引用操作符"><strong>1.4 解引用操作符</strong>
</h3><blockquote>
<ul>
<li>是解引用操作符 (间接访问操作符)，用于对指针变量<strong>所指向的对象</strong>进行操作</li>
</ul>
</blockquote>
<p>当我们拿到地址后，就可以通过地址找到对应的内存空间，</p>
<p>但如果我们要访问或修改该内存空间里的值，就要通过使用解引用操作符  * 来完成</p>
<p>例如：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span><span class="o">*</span> <span class="n">pa</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">a</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="o">*</span><span class="n">pa</span> <span class="o">=</span> <span class="mi">200</span><span class="p">;</span><span class="c1">//通过pa里面存放的a的地址，找到a对应的内存空间，将里面的值改为200
</span></span></span><span class="line"><span class="cl"><span class="c1">//等价于 a = 200
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">a</span><span class="p">);</span><span class="c1">//200
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p><strong>关于指针pa：</strong></p>
<p>\1. pa ，里面存放着一个地址</p>
<p>\2. *pa ，pa指向的那个对象</p>
<p>3.&amp;pa，表示pa变量的地址</p>
<h2 id="2指针变量的大小"><strong>2.指针变量的大小</strong>
</h2><blockquote>
<p>指针变量是用来存放地址的变量</p>
<p>一个地址的存放需要多大空间，指针变量的大小就是多大</p>
</blockquote>
<p>指针变量的大小只与环境有关**，<strong>在</strong>相同环境<strong>下指针变量的</strong>大小相同**</p>
<p><strong>32位环境下</strong>，地址的大小为32个比特位，<strong>指针变量</strong>大小为<strong>4****个字节</strong></p>
<p><strong>64****位环境下</strong>，地址的大小为64个比特位，<strong>指针变量</strong>大小为<strong>8****个字节</strong></p>
<p>指针变量的大小与类型无关，取地址取的是第一个字节的地址，类型该占几个字节就占几个字节</p>
<p>示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">char</span> <span class="n">ch</span> <span class="o">=</span> <span class="sc">&#39;w&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kt">char</span><span class="o">*</span> <span class="n">pc</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">ch</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="c1">//sizeof：计算使⽤类型创建的变量所占内存空间的⼤⼩,单位是字节
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%zd</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">pc</span><span class="p">));</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
>上面代码输出的结果与环境有关，在x64环境下，结果为8 ；在 x86环境下，结果为4</p>
<h2 id="3指针类型的意义"><strong>3.指针类型的意义</strong>
</h2><blockquote>
<p>(1)指针类型决定了解引用时，一次能向后操作几个字节</p>
<p>(2)指针类型决定了指针+-整数时，向前或向后走了多大的距离</p>
</blockquote>
<h3 id="31指针类型决定了解引用时能向后操作几个字节">3.1指针类型决定了解引用时能向后操作几个字节
</h3><p>先看一段代码：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mh">0x11223344</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span><span class="o">*</span> <span class="n">pa</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">a</span><span class="p">;</span><span class="c1">//将拿到的a的地址存到整型指针类型的变量pa中
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="o">*</span><span class="n">pa</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span><span class="c1">//修改pa指向的变量a 的值
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p>在上面这段代码中，当执行到 int a = 0x11223344; 这段代码时</p>
<p>变量a在内存中4个字节的数据是这样的：</p>
<p><img src="/p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/39487426312bd19a0925dda5ea3615e9.png"
	width="476"
	height="38"
	srcset="/p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/39487426312bd19a0925dda5ea3615e9_hu_3eb9aef86d460675.png 480w, /p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/39487426312bd19a0925dda5ea3615e9_hu_d4679cbcf52c558f.png 1024w"
	loading="lazy"
	
		alt="fbc9efb495254048b4cea3cbeac2a286.png"
	
	
		class="gallery-image" 
		data-flex-grow="1252"
		data-flex-basis="3006px"
	
><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
>编辑</p>
<p>当执行到 *pa = 0; 这段代码时</p>
<p>变量a在内存中4个字节的数据是这样的：</p>
<p><img src="/p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/d862eded6bd537bc26f33f1afca9a079.png"
	width="468"
	height="37"
	srcset="/p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/d862eded6bd537bc26f33f1afca9a079_hu_7a033d15976db364.png 480w, /p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/d862eded6bd537bc26f33f1afca9a079_hu_862b6fd59f89d5c8.png 1024w"
	loading="lazy"
	
		alt="98bc35a9928b4d698b4c72ada547f2d1.png"
	
	
		class="gallery-image" 
		data-flex-grow="1264"
		data-flex-basis="3035px"
	
><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
>编辑</p>
<p>可以看出，当pa的类型是int*时，对pa进行解引用操作，一次能向后修改4个字节的值</p>
<p>如果将pa的类型改为char*</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mh">0x11223344</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kt">char</span><span class="o">*</span> <span class="n">pa</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">a</span><span class="p">;</span><span class="c1">//将拿到的a的地址存到字符指针类型的变量pa中
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="o">*</span><span class="n">pa</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span><span class="c1">//修改pa指向的变量a 的值
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p>当执行到*pa = 0时</p>
<p>变量a在内存中4个字节的数据是这样的：</p>
<p><img src="/p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/550889b09ffb721244d7e77ebc88100b.png"
	width="497"
	height="35"
	srcset="/p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/550889b09ffb721244d7e77ebc88100b_hu_ed13e7397ec9510f.png 480w, /p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/550889b09ffb721244d7e77ebc88100b_hu_1e84f7a61a816e73.png 1024w"
	loading="lazy"
	
		alt="daa3d8b4e66e4ae695d4efbb177bea48.png"
	
	
		class="gallery-image" 
		data-flex-grow="1420"
		data-flex-basis="3408px"
	
><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
>编辑</p>
<p>也就是当pa的类型是 char* 时，对pa进行解引用操作，一次能向后修改1个字节的值</p>
<p><strong>结论：</strong></p>
<p>char*指针类型在<strong>解引用</strong>操作时只能向后<strong>访问</strong>1个字节</p>
<p>int*指针类型在解引用操作时只能向后访问4个字节</p>
<p>也就是：</p>
<p>int* p;   *p能操作4个字节</p>
<p>char* p;  *p能操作1个字节</p>
<p>double* p;  *p能操作8个字节</p>
<p>short* p;  *p能操作2个字节</p>
<p>……</p>
<h3 id="32-指针变量---整数">3.2 指针变量 +- 整数
</h3><p><strong>指针类型决定了指针向前或向后走了多大的距离</strong></p>
<p>（不改变或不操作 数值）</p>
<p>int*指针类型+1，向后<strong>走了</strong>4个字节</p>
<p>int* pa：pa+1 &lt;==&gt; +1*(sizeof(int))</p>
<p>char*指针类型+1，只向后跳=走了1个字节</p>
<p>char* pa： pa+1 &lt;==&gt; +1*(sizeof(char))</p>
<p>示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mh">0x11223344</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span><span class="o">*</span> <span class="n">pa</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">a</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kt">char</span><span class="o">*</span> <span class="n">pc</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">a</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%p</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">a</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%p</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">pa</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%p</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">pc</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="c1">//上面三个打印出的结果相同
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p>输出结果如下：</p>
<p><img src="/p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/ca72461b79641c2398a6a3d378e8198e.png"
	width="142"
	height="86"
	srcset="/p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/ca72461b79641c2398a6a3d378e8198e_hu_a48324272c8d0dcd.png 480w, /p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/ca72461b79641c2398a6a3d378e8198e_hu_ca0cdc32e5a048a8.png 1024w"
	loading="lazy"
	
		alt="3d2044737834477c9ea981c319cfda39.png"
	
	
		class="gallery-image" 
		data-flex-grow="165"
		data-flex-basis="396px"
	
><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p>也就是 &amp;a，pa，pc 拿到的起始地址的值相同</p>
<p>如果分别对它们 +1 ，代码如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mh">0x11223344</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span><span class="o">*</span> <span class="n">pa</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">a</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kt">char</span><span class="o">*</span> <span class="n">pc</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">a</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%p</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">a</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span><span class="c1">//向后跳过4个字节
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%p</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">pa</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span><span class="c1">//向后跳过4个字节
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%p</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">pc</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span><span class="c1">//向后跳过1个字节
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p>输出结果为：</p>
<p><img src="/p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/3badac49a5dd2215c36062816a63312d.png"
	width="172"
	height="112"
	srcset="/p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/3badac49a5dd2215c36062816a63312d_hu_f599d0fa0cf14d84.png 480w, /p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/3badac49a5dd2215c36062816a63312d_hu_f573ff10fc28aa19.png 1024w"
	loading="lazy"
	
		alt="416c73918bff40b3a2f11914855847e2.png"
	
	
		class="gallery-image" 
		data-flex-grow="153"
		data-flex-basis="368px"
	
><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p>由于在十六进制中 C 表示12,所以从 DC 到 E0 是跳过了4个字节</p>
<p>示意图如下：</p>
<p><img src="/p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/383abe6bb8bfd5f0a020a1553dc9806b.png"
	width="937"
	height="617"
	srcset="/p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/383abe6bb8bfd5f0a020a1553dc9806b_hu_563069933af36046.png 480w, /p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/383abe6bb8bfd5f0a020a1553dc9806b_hu_9094dfe896b191b8.png 1024w"
	loading="lazy"
	
		alt="aa2cf231c9a54996b81c88d2bcefb7b1.png"
	
	
		class="gallery-image" 
		data-flex-grow="151"
		data-flex-basis="364px"
	
></p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p>int* pa：</p>
<p>pa+n 本质上为向后跳过 n*(sizeof(int))个字节</p>
<p>char* pa：</p>
<p>pa+n 本质上为 向后跳过 n*(sizeof(char))个字节</p>
<p>减法同理，只是是向前偏移</p>
<h2 id="4指针运算"><strong>4.指针运算</strong>
</h2><p>可以把指针类比成日期，整数类比成天数</p>
<p>1.指针+-整数           日期+-天数 = 日期</p>
<p>2.指针-指针             日期-日期 = 天数</p>
<p>3.指针+指针            日期+日期  没意义</p>
<p>4.指针的关系运算  指针大小的比较</p>
<h3 id="41指针---整数">4.1指针 +- 整数
</h3><p>指针类型决定了指针 +- 整数时的步长，还决定了指针解引用时一次能访问几个字节</p>
<p>应用场景：如 打印数组里的每一个元素</p>
<p>由于数组在内存中连续存放，所以只要拿到第一个元素的地址，就可以通过解引用访问一个元素，+1跳过一个元素，来完成数组中每一个元素的打印</p>
<p>代码如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">arr</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span> <span class="p">};</span><span class="c1">//int类型的数组，里面每个元素都是int类型
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">int</span> <span class="n">sz</span> <span class="o">=</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span> <span class="o">/</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span><span class="c1">//计算数组有几个元素
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">int</span><span class="o">*</span> <span class="n">p</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span><span class="c1">//取出数组首元素的地址存到 p 里面
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">sz</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%d &#34;</span><span class="p">,</span> <span class="o">*</span><span class="n">p</span><span class="p">);</span><span class="c1">//解引用向后访问4个字节，也就是访问了数组里的一个元素
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">p</span><span class="o">++</span><span class="p">;</span><span class="c1">//p+1--向后跳过4个字节，即跳过数组里的一个元素
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p>示意图如下：</p>
<p><img src="/p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/8e24dc699c9527ffefe488dbdc516a6c.png"
	width="819"
	height="293"
	srcset="/p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/8e24dc699c9527ffefe488dbdc516a6c_hu_1fd2445377e40592.png 480w, /p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/8e24dc699c9527ffefe488dbdc516a6c_hu_2b62ad10b34012a2.png 1024w"
	loading="lazy"
	
		alt="e4261a653bc547ddbfb6a3c1ac5852b4.png"
	
	
		class="gallery-image" 
		data-flex-grow="279"
		data-flex-basis="670px"
	
></p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p>编辑</p>
<h3 id="42指针-指针">4.2指针-指针
</h3><p>前提：两个指针指向的是<strong>同一块空间</strong></p>
<p>指针 - 指针的<strong>绝对值</strong>是指针和指针之间元素的个数</p>
<p>示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">arr</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl"><span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">arr</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">-</span> <span class="o">&amp;</span><span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span><span class="c1">//9
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">arr</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">-</span> <span class="o">&amp;</span><span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span><span class="c1">//-9
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p>示意图如下：</p>
<p><img src="/p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/1c5fd02696dd1fd52ef602796d58c321.png"
	width="818"
	height="285"
	srcset="/p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/1c5fd02696dd1fd52ef602796d58c321_hu_1ac212f6ddaa06b1.png 480w, /p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/1c5fd02696dd1fd52ef602796d58c321_hu_7ef616976d2d0c9f.png 1024w"
	loading="lazy"
	
		alt="d3c6a616533049b6ab5675c59e2c6c62.png"
	
	
		class="gallery-image" 
		data-flex-grow="287"
		data-flex-basis="688px"
	
></p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p>编辑</p>
<h3 id="43指针的关系运算">4.3指针的关系运算
</h3><p>指针的关系运算就是让指针进行大小的比较</p>
<p>每一个字节都有自己的地址，地址就有大和小之分</p>
<p>应用场景：如打印数组里的每一个元素</p>
<p>原因：在内存中，数组的地址是由低到高变化的</p>
<p>示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">arr</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">sz</span> <span class="o">=</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span> <span class="o">/</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span><span class="c1">//计算数组有几个元素
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">int</span><span class="o">*</span> <span class="n">p</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span><span class="c1">//取出数组首元素的地址存到 p 里面
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="c1">//打印数组里的每个元素
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">while</span> <span class="p">(</span><span class="n">p</span> <span class="o">&lt;</span> <span class="o">&amp;</span><span class="n">arr</span><span class="p">[</span><span class="n">sz</span><span class="p">])</span><span class="c1">//两个地址相比较
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%d &#34;</span><span class="p">,</span> <span class="o">*</span><span class="n">p</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">p</span><span class="o">++</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p>上面代码中，当p里面存放的地址小于下标为10的元素的地址时，就找到p所指向的内容并打印</p>
<p>示意图如下：</p>
<p><img src="/p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/a250ca518b6b04a17d90580ea3569013.png"
	width="503"
	height="673"
	srcset="/p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/a250ca518b6b04a17d90580ea3569013_hu_7727d1934c5f8bf3.png 480w, /p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/a250ca518b6b04a17d90580ea3569013_hu_d6c7f54fdf669622.png 1024w"
	loading="lazy"
	
		alt="69b3da26bb2d479098cb988619bcc3d0.png"
	
	
		class="gallery-image" 
		data-flex-grow="74"
		data-flex-basis="179px"
	
></p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<h2 id="5二级指针">5.二级指针
</h2><p>==二级指针：用来存放一级指针变量的地址==</p>
<p>代码示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl">	<span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="kt">int</span><span class="o">*</span> <span class="n">pa</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">a</span><span class="p">;</span><span class="c1">//pa是一级指针变量
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kt">int</span><span class="o">**</span> <span class="n">ppa</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">pa</span><span class="p">;</span><span class="c1">//ppa是二级指针变量，存放是pa的地址
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p><em><em>int</em> 的含义：</em>*</p>
<p>（1）* 说明是指针变量</p>
<p>（2）int 表示指针指向的对象是 int 整型的</p>
<p>int** 的含义：</p>
<p>（1）* 说明是指针变量</p>
<p>（2）int* 表示指针指向的对象是 int* 整型指针类型的</p>
<p>示意图：</p>
<p><img src="/p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/7abb1926e66aa6dd6d76813ec90beaee.png"
	width="596"
	height="455"
	srcset="/p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/7abb1926e66aa6dd6d76813ec90beaee_hu_d0981485cd25103d.png 480w, /p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/7abb1926e66aa6dd6d76813ec90beaee_hu_da0a038e8b2d8b77.png 1024w"
	loading="lazy"
	
		alt="1cd0a26969ae468a82d7efe460f7e801.png"
	
	
		class="gallery-image" 
		data-flex-grow="130"
		data-flex-basis="314px"
	
></p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
>**ppa = *pa = a</p>
<hr>
<h1 id="二指针基础">二、指针基础
</h1><h2 id="1基本类型指针"><strong>1.基本类型指针</strong>
</h2><h3 id="11指针与字符"><strong>1.1指针与字符</strong>
</h3><p><strong>字符指针</strong></p>
<p>1.字符指针变量 存放的是字符串中<strong>首字符</strong>的地址</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">char</span><span class="o">*</span> <span class="n">p</span> <span class="o">=</span> <span class="s">&#34;abcdef&#34;</span><span class="p">;</span><span class="c1">//a b c d e f \0
</span></span></span><span class="line"><span class="cl"><span class="c1">//把字符串首字符的地址赋给p
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%c</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="o">*</span><span class="n">p</span><span class="p">);</span><span class="c1">//a
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p>2.字符指针变量 存放的是==常量字符串==,**不能被修改，**使用const修饰</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl">   <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">p</span> <span class="o">=</span> <span class="s">&#34;abcdef&#34;</span><span class="p">;</span><span class="c1">//const放在 * 的左边，限制的是*p
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p>3.使用%s打印字符串的时候，只需提供首字符的地址</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">char</span><span class="o">*</span> <span class="n">p</span> <span class="o">=</span> <span class="s">&#34;abcdef&#34;</span><span class="p">;</span><span class="c1">//把字符串首字符的地址赋给p
</span></span></span><span class="line"><span class="cl"><span class="c1">//%s打印字符串时，只需要提供首字符的地址
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%s</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">p</span><span class="p">);</span><span class="c1">//abcdef
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p>4.内容相同的常量字符串只用存一份（只读数据区，可以用，但不能改）</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">str1</span> <span class="o">=</span> <span class="s">&#34;haha&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">str2</span> <span class="o">=</span> <span class="s">&#34;haha&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="c1">//str1 与 str2 存放的地址相同
</span></span></span><span class="line"><span class="cl"><span class="c1">//内容相同的常量字符串，只用存一份
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p>对比字符数组存放数据：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">char</span> <span class="n">str3</span><span class="p">[]</span> <span class="o">=</span> <span class="s">&#34;hehe&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kt">char</span> <span class="n">str4</span><span class="p">[]</span> <span class="o">=</span> <span class="s">&#34;hehe&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="c1">//&amp;str3[0] 与 &amp;str4[0]不相同
</span></span></span><span class="line"><span class="cl"><span class="c1">//数组str3与数组str4虽然存放的内容相同，但是二者是两块不同的空间
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<h3 id="12-指针与数组"><strong>1.2 指针与数组</strong>
</h3><blockquote>
<p>\1. 数组指针 本质上是指针；指针数组 本质上是数组</p>
<p>\2. [ ] 的优先级高于 *</p>
<p>例如：int* arr[6] 是指针数组 ，int(*) arr[6] 是数组指针， （）提高优先级</p>
</blockquote>
<p><strong>数组指针</strong></p>
<p><strong>1. 数组名的理解</strong></p>
<p>（1）数组名是数组首元素的地址</p>
<p>​      例如：<strong>arr</strong> ， <strong>&amp; arr[0]</strong> 都表示==数组首元素的地址==，==类型 int*==，指针类型</p>
<p>（2）<strong>&amp;数组名</strong>：其中数组名表示==整个数组==；数组的地址与数组首元素的地址值相同</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">arr</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl"><span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%p</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span><span class="c1">//数组首元素的地址
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%p</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">arr</span><span class="p">);</span><span class="c1">//数组首元素的地址
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%p</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">arr</span><span class="p">);</span><span class="c1">//数组的地址
</span></span></span><span class="line"><span class="cl"><span class="c1">//打印结果相同
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p>（3）数组名+1，跳过数组里的一个元素  ； &amp;数组名+1，跳过的是整个数组</p>
<p><img src="/p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/3c1f49afcf725b2657e595d071ed8b40.png"
	width="1196"
	height="391"
	srcset="/p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/3c1f49afcf725b2657e595d071ed8b40_hu_69361ae632d5703.png 480w, /p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/3c1f49afcf725b2657e595d071ed8b40_hu_ca7a3af4d85b0720.png 1024w"
	loading="lazy"
	
		alt="6c5db244ad47400081a83e8ef8934886.png"
	
	
		class="gallery-image" 
		data-flex-grow="305"
		data-flex-basis="734px"
	
></p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p>==指针类型决定了指针+-整数跳过几个字节==</p>
<p>arr &mdash; int*           &amp;arr[0] &mdash; int*       &amp;arr &mdash; int ( * )[ ] 数组指针类型</p>
<p>（4）arr[ i ] 等价于 *(arr + i)                       arr[ i ] 等价于 i[ arr ]，[ ] 只是操作符</p>
<p>（5）sizeof (数组名) ：计算整个数组的大小（字节）</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">arr</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl"><span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%zd</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">arr</span><span class="p">));</span><span class="c1">//40 计算的是整个数组的大小
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p><strong>2. 数组指针变量</strong></p>
<p>数组指针变量：用于存放 数组的地址</p>
<p>示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">arr</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span><span class="p">(</span><span class="o">*</span><span class="n">p</span><span class="p">)[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">arr</span><span class="p">;</span><span class="c1">//p是数组指针，p里面存放的是数组的地址
</span></span></span><span class="line"><span class="cl"><span class="c1">//p的类型是 int(*)[]
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p>int(*p)[10] 的含义：</p>
<p>（1）( *p )：p先与 * 结合，说明 p是指针变量</p>
<p>（2） [10]：p指向的数组的元素是10</p>
<p>（3）int：p指向的数组的元素类型是整型的</p>
<p>*p等价于arr</p>
<p><strong>3. 数组传参</strong></p>
<blockquote>
<p>数组传参的本质上传递的是<strong>数组首元素的地址</strong></p>
<p>数组传参，形参可以写成指针，也可以写成数组，但本质上还是指针</p>
</blockquote>
<p>一维数组传参</p>
<p>示例，使用指针计算数组里有多少个元素：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">test</span><span class="p">(</span><span class="kt">int</span><span class="o">*</span> <span class="n">arr</span><span class="p">)</span><span class="c1">//形参还可以写成 int arr[]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kt">int</span> <span class="n">sz2</span> <span class="o">=</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span> <span class="o">/</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span><span class="c1">//指针变量的大小只与环境有关
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//32环境下：4 / 4    64位环境下：8 / 4
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">sz2</span><span class="p">);</span><span class="c1">//输出 1 或 2
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kt">int</span> <span class="n">arr</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl">	<span class="kt">int</span> <span class="n">sz1</span> <span class="o">=</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span> <span class="o">/</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span><span class="c1">//40 / 10
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">sz1</span><span class="p">);</span><span class="c1">//输出 10
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="nf">test</span><span class="p">(</span><span class="n">arr</span><span class="p">);</span><span class="c1">//传的是数组首元素的地址
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p><strong>二维数组传参</strong></p>
<p>因为数组名是数组首元素的地址，而二维数组的每个元素是一个一维数组</p>
<p>所以 二维数组的数组名表示的是二维数组里的第一个一维数组的地址</p>
<p>示例，使用指针打印二维数组：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">print</span><span class="p">(</span><span class="kt">int</span><span class="p">(</span><span class="o">*</span><span class="n">arr</span><span class="p">)[</span><span class="mi">5</span><span class="p">],</span> <span class="kt">int</span> <span class="n">row</span><span class="p">,</span> <span class="kt">int</span> <span class="n">col</span><span class="p">)</span><span class="c1">//用数组指针接收一维数组的地址
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">row</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="c1">//拿到每个一维数组
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">col</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="c1">//拿到一维数组里的每一个元素
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%d &#34;</span><span class="p">,</span><span class="o">*</span><span class="p">(</span> <span class="o">*</span><span class="p">(</span><span class="n">arr</span> <span class="o">+</span> <span class="n">i</span><span class="p">)</span> <span class="o">+</span> <span class="n">j</span><span class="p">));</span><span class="c1">//等价于arr[i][j]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="p">}</span>
</span></span><span class="line"><span class="cl">		<span class="nf">printf</span><span class="p">(</span><span class="s">&#34;</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kt">int</span> <span class="n">arr</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">},{</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">},{</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">}</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl">	<span class="nf">print</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">);</span><span class="c1">//将arr数组的内容打印
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p>*(arr +i) ：拿到每个一维数组，等价于 arr[ i ] == &amp;arr[ i ][ 0 ]</p>
<p>*( (*arr+i) + j) ：拿到一维数组里的每一个元素，等价于arr[ i ][ j ]</p>
<p>示意图：</p>
<p><img src="/p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/672747624eb45f90d1c7979cd6b885e8.png"
	width="1026"
	height="309"
	srcset="/p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/672747624eb45f90d1c7979cd6b885e8_hu_338c6c7c45bf3f8c.png 480w, /p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/672747624eb45f90d1c7979cd6b885e8_hu_88e9bcc17e16a040.png 1024w"
	loading="lazy"
	
		alt="img"
	
	
		class="gallery-image" 
		data-flex-grow="332"
		data-flex-basis="796px"
	
></p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p><strong>指针数组</strong></p>
<p>指针数组：用来存放指针 的数组，数组的每个元素是指针类型</p>
<p>例如：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">c</span> <span class="o">=</span> <span class="mi">30</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="c1">//[ ]的优先级高于* 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">int</span><span class="o">*</span> <span class="n">arr</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span> <span class="o">&amp;</span><span class="n">a</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">b</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">c</span> <span class="p">};</span><span class="c1">//整型指针数组
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
>注意：指针数组要指定数组的大小</p>
<h3 id="13指针与函数"><strong>1.3指针与函数</strong>
</h3><h4 id="函数的传参机制"><strong>函数的传参机制</strong>
</h4><blockquote>
<p>函数定义里的参数是形参，函数调用里传的参数是实参</p>
<p>形参是实参的一份拷贝，对形参的修改不会影响到实参</p>
<p>形参和实参是两块独立的空间</p>
</blockquote>
<p><strong>（1）传值调用</strong>（把变量<strong>本身</strong>传过去）：</p>
<p>把实参拷贝给形参，形成两块独立的空间（例如求两个数的和）</p>
<p><strong>（2）传址调用</strong>（把变量的<strong>地址</strong>传过去）：</p>
<p>传实参的地址给形参，形参操作的内存空间是实参的内存空间，</p>
<p>在函数内部可以修改主调函数 （例如通过函数将两个数的值交换）</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">swap</span><span class="p">(</span><span class="kt">int</span><span class="o">*</span> <span class="n">pa</span><span class="p">,</span> <span class="kt">int</span><span class="o">*</span> <span class="n">pb</span><span class="p">)</span><span class="c1">//通过pa能找到a
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//解引用pa得到a,解引用pb得到b
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kt">int</span> <span class="n">z</span> <span class="o">=*</span><span class="n">pa</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="o">*</span><span class="n">pa</span> <span class="o">=</span> <span class="o">*</span><span class="n">pb</span><span class="p">;</span><span class="c1">//a = b
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="o">*</span><span class="n">pb</span> <span class="o">=</span> <span class="n">z</span><span class="p">;</span><span class="c1">//b = z
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//pa是地址，*pa是pa地址指向的内容
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main8</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="kt">int</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="nf">scanf</span><span class="p">(</span><span class="s">&#34;%d %d&#34;</span><span class="p">,</span><span class="o">&amp;</span><span class="n">a</span><span class="p">,</span><span class="o">&amp;</span><span class="n">b</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="nf">swap</span><span class="p">(</span><span class="o">&amp;</span><span class="n">a</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">b</span><span class="p">);</span><span class="c1">//交换a,b的值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<h4 id="函数指针"><strong>函数指针</strong>
</h4><p>数组指针，是指向数组的指针</p>
<p>函数指针，是指向函数的指针，存放函数地址的指针</p>
<blockquote>
<p>&amp;函数名和函数名 都能拿到函数的地址</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">Add</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//&amp;数组名和数组名都表示函数的地址
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">pf</span><span class="p">)(</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="p">)</span> <span class="o">=</span> <span class="n">Add</span><span class="p">;</span><span class="c1">//pf是函数指针变量
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//int(*)(int, int) 函数指针类型
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
>int (*pf) (int, int) 的含义：</p>
<p>（1）( *pf ) ： pf是变量名 ，* 说明 pf 是指针变量</p>
<p>（2）(int, int)：pf 指向的是函数，该函数有两个int类型的参数，</p>
<p>​                        只需要交代函数参数的个数和类型，参数名可以不写</p>
<p>（3）int：说明该函数的返回类型是 int 类型</p>
<p><strong>通过函数指针调用函数</strong></p>
<p>对于函数指针，调用的时候可以先解引用一下再调用，也可以不解引用直接调用</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">pf</span><span class="p">)(</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="p">)</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">Add</span><span class="p">;</span><span class="c1">//pf是函数指针变量
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="c1">//通过函数指针调用函数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">(</span><span class="o">*</span><span class="n">pf</span><span class="p">)(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">);</span><span class="c1">//写法1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nf">pf</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">);</span><span class="c1">//写法2
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p><strong>两段有趣的代码</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="c1">//代码1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="kt">void</span><span class="p">(</span><span class="o">*</span><span class="p">)())</span><span class="mi">0</span><span class="p">)();</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>void(*)()是一个函数指针类型</p>
<p>( 函数指针类型 )0 是强制类型转换，也就是==把0强制类型转换成函数指针类型==，0就是一个函数地址</p>
<p>(*(函数指针类型)0)( )  表示将0强转后再==解引用==找到这个函数，再==调用这个函数==</p>
<p><strong>注意：</strong>（类型）是强制类型转换</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="c1">//代码2
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="nf">signal</span><span class="p">(</span><span class="kt">int</span><span class="p">,</span> <span class="kt">void</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="kt">int</span><span class="p">)))(</span><span class="kt">int</span><span class="p">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>signal是一个函数声明</p>
<p>signal函数有两个参数，分别是整型的和函数指针类型的，该函数指针指向的函数参数是int，返回类型是void</p>
<p>signal函数的返回类型是void(*)(int)，也就是函数指针类型：该函数指针指向的函数参数是int，返回类型是void</p>
<p>==函数声明是告诉我们函数名，函数参数，函数返回类型==，所以这是一个函数声明</p>
<h4 id="typedef给类型重命名"><strong>typedef给类型重命名</strong>
</h4><p>我们发现上面的代码中，函数的返回类型是函数指针类型，这样不仅繁琐，而且可读性差</p>
<p>所以我们可以使用typedef来给该类型重命名</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="k">typedef</span> <span class="nf">void</span><span class="p">(</span><span class="o">*</span><span class="kt">pfunc_t</span><span class="p">)(</span><span class="kt">int</span><span class="p">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>上面这段代码意思为将类型 <code>void(*)(int)</code> 重命名为 <code>pfunc_t</code></p>
<p>这时，代码2就可以简化成下面这种写法了</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">pfunc_t</span> <span class="nf">signal</span><span class="p">(</span><span class="kt">int</span><span class="p">,</span> <span class="kt">void</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="kt">int</span><span class="p">));</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>**注意：**重命名的类型要放在*后面，这和我们重命名其它类型有所不同</p>
<p>对于其它类型，我们是直接将重命名的类型放在原类型的后面</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="k">typedef</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">uint</span><span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>意思为给unsigned int这个类型重命名为uint</p>
<h4 id="函数指针数组"><strong>函数指针数组</strong>
</h4><p>指针数组，是一个数组，里面存放的是相同类型的指针</p>
<p>函数指针数组，是一个数组，可以用来存放多个同类型的函数指针</p>
<p>例如：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">pf1</span><span class="p">)(</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="p">)</span> <span class="o">=</span> <span class="n">Add</span><span class="p">;</span><span class="c1">//Add加法函数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">pf2</span><span class="p">)(</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="p">)</span> <span class="o">=</span> <span class="n">Sub</span><span class="p">;</span><span class="c1">//Sub减法函数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">pf3</span><span class="p">)(</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="p">)</span> <span class="o">=</span> <span class="n">Mul</span><span class="p">;</span><span class="c1">//Mul减法函数
</span></span></span><span class="line"><span class="cl"><span class="c1">//函数指针数组
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">int</span><span class="p">(</span><span class="o">*</span> <span class="n">pf</span><span class="p">[</span><span class="mi">3</span><span class="p">])(</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="p">)</span> <span class="o">=</span> <span class="p">{</span><span class="n">pf1</span><span class="p">,</span> <span class="n">pf2</span><span class="p">,</span> <span class="n">pf3</span><span class="p">};</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span><span class="p">(</span><span class="o">*</span> <span class="n">pf</span><span class="p">[</span><span class="mi">3</span><span class="p">])(</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="p">)</span> <span class="o">=</span> <span class="p">{</span><span class="n">Add</span><span class="p">,</span> <span class="n">Sub</span><span class="p">,</span> <span class="n">Mul</span><span class="p">};</span><span class="c1">//也可以这样写
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
>pf 先与[ 3 ] 结合：表示pf是数组</p>
<p>int (*) (int, int) ：表示pf这个数组里的每个元素的类型是函数指针类型</p>
<p>通过函数指针数组来调用函数：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="n">pf</span><span class="p">[</span><span class="mi">0</span><span class="p">](</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">);</span><span class="c1">//调用加法函数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">pf</span><span class="p">[</span><span class="mi">1</span><span class="p">](</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">);</span><span class="c1">//调用加法函数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">pf</span><span class="p">[</span><span class="mi">2</span><span class="p">](</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">);</span><span class="c1">//调用加法函数
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<h4 id="函数指针数组的用途-转移表"><strong>函数指针数组的用途-转移表</strong>
</h4><p>例子（计算器）：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">menu</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nf">printf</span><span class="p">(</span><span class="s">&#34;*************************************</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="nf">printf</span><span class="p">(</span><span class="s">&#34;********** 1. add     2. sub ********</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="nf">printf</span><span class="p">(</span><span class="s">&#34;********** 3. mul     4. div ********</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="nf">printf</span><span class="p">(</span><span class="s">&#34;**********       0.exit      ********</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="nf">printf</span><span class="p">(</span><span class="s">&#34;*************************************</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">Add</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">Sub</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="n">x</span> <span class="o">-</span> <span class="n">y</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">Mul</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">Div</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="n">x</span> <span class="o">/</span> <span class="n">y</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kt">int</span> <span class="n">input</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//pfArr是一个函数指针数组
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">pfArr</span><span class="p">[])(</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="p">)</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="n">Add</span><span class="p">,</span> <span class="n">Sub</span><span class="p">,</span> <span class="n">Mul</span><span class="p">,</span> <span class="n">Div</span><span class="p">};</span>
</span></span><span class="line"><span class="cl">	<span class="k">do</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nf">menu</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">		<span class="nf">printf</span><span class="p">(</span><span class="s">&#34;请选择:&gt;&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">		<span class="nf">scanf</span><span class="p">(</span><span class="s">&#34;%d&#34;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">input</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">		<span class="k">if</span> <span class="p">(</span><span class="n">input</span> <span class="o">&gt;=</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">input</span> <span class="o">&lt;=</span> <span class="mi">4</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nf">printf</span><span class="p">(</span><span class="s">&#34;请输入操作数:&gt;&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">			<span class="nf">scanf</span><span class="p">(</span><span class="s">&#34;%d %d&#34;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">x</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">y</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">			<span class="kt">int</span> <span class="n">ret</span> <span class="o">=</span> <span class="n">pfArr</span><span class="p">[</span><span class="n">input</span><span class="p">](</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">			<span class="nf">printf</span><span class="p">(</span><span class="s">&#34;ret=%d</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">ret</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">		<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">input</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nf">printf</span><span class="p">(</span><span class="s">&#34;退出</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">		<span class="k">else</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nf">printf</span><span class="p">(</span><span class="s">&#34;选择错误，请重新选择&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span> <span class="k">while</span> <span class="p">(</span><span class="n">input</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>指向函数指针数组的指针</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//函数指针
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">pf</span><span class="p">)(</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//函数指针数组
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">pfArr</span><span class="p">[</span><span class="mi">4</span><span class="p">])(</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="p">);</span><span class="c1">//pfArr是一个数组，每个元素是函数指针
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="c1">//指向函数指针数组的指针
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="o">*</span><span class="n">ppfArr</span><span class="p">)[</span><span class="mi">4</span><span class="p">])(</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="p">)</span> <span class="o">=</span> <span class="o">&amp;</span> <span class="n">pfArr</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//ppfArr是一个数组指针，指针指向的数组有4个元素，
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//每个元素的类型是函数指针 int(*)(int, int)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="回调函数"><strong>回调函数</strong>
</h4><p>回调函数就是通过函数指针调用函数。</p>
<p>把函数指针(地址)作为参数传递给另一个函数，当这个指针被用来调用其所指向的函数时，</p>
<p>我们就说这是回调函数</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">menu</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nf">printf</span><span class="p">(</span><span class="s">&#34;*************************************</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="nf">printf</span><span class="p">(</span><span class="s">&#34;********** 1. add     2. sub ********</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="nf">printf</span><span class="p">(</span><span class="s">&#34;********** 3. mul     4. div ********</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="nf">printf</span><span class="p">(</span><span class="s">&#34;**********       0.exit      ********</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="nf">printf</span><span class="p">(</span><span class="s">&#34;*************************************</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">Add</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">Sub</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="n">x</span> <span class="o">-</span> <span class="n">y</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">Mul</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">Div</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="n">x</span> <span class="o">/</span> <span class="n">y</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">Calc</span><span class="p">(</span><span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">pf</span><span class="p">)(</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="nf">printf</span><span class="p">(</span><span class="s">&#34;请输入两个操作数:&gt;&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="nf">scanf</span><span class="p">(</span><span class="s">&#34;%d %d&#34;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">x</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">y</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="nf">pf</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">));</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kt">int</span> <span class="n">input</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="k">do</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nf">menu</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">		<span class="nf">printf</span><span class="p">(</span><span class="s">&#34;请选择:&gt;&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">		<span class="nf">scanf</span><span class="p">(</span><span class="s">&#34;%d&#34;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">input</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">		
</span></span><span class="line"><span class="cl">		<span class="k">switch</span> <span class="p">(</span><span class="n">input</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">			<span class="nf">Calc</span><span class="p">(</span><span class="n">Add</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">			<span class="k">break</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		<span class="k">case</span> <span class="mi">2</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">			<span class="nf">Calc</span><span class="p">(</span><span class="n">Sub</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">			<span class="k">break</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		<span class="k">case</span> <span class="mi">3</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">			<span class="nf">Calc</span><span class="p">(</span><span class="n">Mul</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">			<span class="k">break</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		<span class="k">case</span> <span class="mi">4</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">			<span class="nf">Calc</span><span class="p">(</span><span class="n">Div</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">			<span class="k">break</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		<span class="k">case</span> <span class="mi">0</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">			<span class="nf">printf</span><span class="p">(</span><span class="s">&#34;退出</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">			<span class="k">break</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		<span class="k">default</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">			<span class="nf">printf</span><span class="p">(</span><span class="s">&#34;选择错误，请重新选择&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">			<span class="k">break</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span> <span class="k">while</span> <span class="p">(</span><span class="n">input</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><hr>
<h2 id="2特殊类型指针"><strong>2.特殊类型指针</strong>
</h2><h3 id="21-void-无具体类型的指针"><strong>2.1 Void 无具体类型的指针</strong>
</h3><p>void* 类型的指针可以接收<strong>任意类型</strong>的地址</p>
<p>示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kt">char</span> <span class="n">ch</span> <span class="o">=</span> <span class="sc">&#39;a&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">void</span><span class="o">*</span> <span class="n">pv1</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">a</span><span class="p">;</span><span class="c1">//&amp;a类型为int*
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">void</span><span class="o">*</span> <span class="n">pv2</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">ch</span><span class="p">;</span><span class="c1">//&amp;ch类型为char*
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p>上面的代码中，void* 类型的指针既可以接收 int* 类型的地址，也可以接收 char* 类型的地址</p>
<p>（1）注意 <strong>void*类型的指针不能直接进行解引用操作，也不能进行+-运算</strong></p>
<p>（2）应用场景：当不清楚别人会传什么类型的地址给程序时，可用void*类型的指针接收</p>
<p>（3）如果需要对void*类型的指针进行解引用操作或进行+-运算，那么需要先将接收到的void*类</p>
<p>​          型的指针强制类型转换成所需要的类型，再进行操作</p>
<h3 id="22-野指针"><strong>2.2 野指针</strong>
</h3><p><strong>概念</strong></p>
<p>指针指向的空间是随机的，不正确的</p>
<p>这块空间不属于当前程序所占有的，当前程序没有权限去访问这块空间</p>
<p><strong>造成野指针的原因</strong></p>
<p>产生原因：1.指针未初始化  （如：int* p;）</p>
<p>​                 2.指针越界访问</p>
<p>​                 3.指针指向的空间已被销毁</p>
<p><strong>1.指针未初始化</strong></p>
<p>一个局部变量如果不初始化，它的值是随机的</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl">	<span class="kt">int</span><span class="o">*</span> <span class="n">p</span><span class="p">;</span><span class="c1">//指针未初始化，随机值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="o">*</span><span class="n">p</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span><span class="c1">//p就是野指针
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p>上面这段代码中，p 是局部变量，但是没有初始化，它的值是随机的，如果将p中存放的值当成地址，就会形成非法访问</p>
<p><strong>2.指针越界访问</strong></p>
<p>当解引用到非法空间时，就是野指针</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">arr</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">0</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span><span class="o">*</span> <span class="n">p</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span><span class="c1">//取出数组arr的第一个元素的地址
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">10</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="o">*</span><span class="n">p</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span><span class="c1">//当 i = 10 ，p 越界访问arr[10]这块空间的时候，p就是野指针
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">p</span><span class="o">++</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p>示意图：</p>
<p><img src="/p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/96836c09b1af4a6b14c2d820b16b4610.png"
	width="1275"
	height="435"
	srcset="/p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/96836c09b1af4a6b14c2d820b16b4610_hu_8e4dde97bfeab758.png 480w, /p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/96836c09b1af4a6b14c2d820b16b4610_hu_da8e66dc3388c4aa.png 1024w"
	loading="lazy"
	
		alt="144fbcd93d1349a69b527fcb4ade2a7d.png"
	
	
		class="gallery-image" 
		data-flex-grow="293"
		data-flex-basis="703px"
	
></p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p>编辑</p>
<p><strong>3.非法访问</strong></p>
<p>主函数调用函数，该函数返回一个局部变量的地址（局部变量进函数创建，出函数就销毁）给主函数里的指针，此后指针若进行解引用操作，就会形成非法访问</p>
<p>示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">test</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span><span class="c1">//n是局部变量，进入函数，开辟一块空间存放n
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="k">return</span> <span class="o">&amp;</span><span class="n">n</span><span class="p">;</span><span class="c1">//n的地址返回
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span><span class="c1">//出函数，n的空间被销毁
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kt">int</span><span class="o">*</span> <span class="n">p</span> <span class="o">=</span> <span class="nf">test</span><span class="p">();</span><span class="c1">//调用test函数，p得到n的地址，此时n对应的那块空间已经被销毁
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="o">*</span><span class="n">p</span><span class="p">);</span><span class="c1">//非法访问
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p><strong>如何避免野指针？</strong></p>
<p>（1）指针初始化（赋明确的地址 或 赋 NULL）</p>
<p>（2）小心越界</p>
<p>（3）指针变量不再使用时，及时置NULL，指针<strong>使用           之前检查有效性</strong></p>
<p>（4）避免返回局部变量的地址</p>
<p>(1) 指针初始化</p>
<p>当有明确的指向时，直接给指针对应的赋地址；当没有明确的指向时，给指针赋NULL</p>
<p>NULL：是空指针，值为 0 ，是地址，读写该地址会                报错</p>
<p>C语言中NULL的定义：（void*)0</p>
<p>0是整型，强制转换成指针类型</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span><span class="o">*</span> <span class="n">p</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">a</span><span class="p">;</span><span class="c1">//有明确的指向，赋值a的地址
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">int</span><span class="o">*</span> <span class="n">p2</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span><span class="c1">//没有明确的指向，赋值NULL
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p>（2）小心越界</p>
<p>对指针进行解引用操作前，要先确保指针指向的空间是当前程序所占有的</p>
<p>（3）指针变量不再使用时，及时置NULL，指针使用   之前检查有效性</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span><span class="o">*</span> <span class="n">p</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">a</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">p</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span><span class="c1">//当不再使用指针变量时，将其置为NULL
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">if</span> <span class="p">(</span><span class="n">p</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span><span class="c1">//对指针进行解引用操作前，先检查指针的有效性
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="o">*</span><span class="n">p</span> <span class="o">=</span> <span class="mi">200</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p>（4）避免返回局部变量的地址</p>
<p>局部变量：进入作用域，变量创建，出作用域，变量就被销毁</p>
<p>返回局部变量的地址，此后指针若进行解引用操作，会形成非法访问</p>
<hr>
<h2 id="3指针代码的优化"><strong>3.指针代码的优化</strong>
</h2><h3 id="31-const修饰"><strong>3.1 const</strong>修饰
</h3><p><strong>3.1.1 const 修饰变量</strong></p>
<p><strong>常量：值是固定的，不能更改</strong></p>
<p>变量：值可以改变</p>
<p>比如下面这段代码中的num就是变量，num的值先是20，后面被修改为30</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">num</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">num</span> <span class="o">=</span> <span class="mi">30</span><span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p>const修饰的变量叫常变量</p>
<p>这个被修饰的变量本质上还是变量，只是不能被修改</p>
<p>比如下面这段代码：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="k">const</span> <span class="kt">int</span> <span class="n">num</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span><span class="c1">//num具有了常量的属性，num的值不能被修改
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">num</span> <span class="o">=</span> <span class="mi">30</span><span class="p">;</span><span class="c1">//报错
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p>变量num被const修饰，从而具有了常量的属性 ，当修改变量num的值时，编译器就会报错</p>
<p>再看一段代码：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">arr</span><span class="p">[</span><span class="n">n</span><span class="p">];</span><span class="c1">//报错
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p>这段代码会报错的原因是：</p>
<p>C99之前不支持变长数组，数组的大小需要 常量或常量表达式 来指定，不能用变量来指定</p>
<p>当我们用const修饰变量n后：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="k">const</span> <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span><span class="c1">// n被const修饰后，本质上还是变量
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">int</span> <span class="n">arr</span><span class="p">[</span><span class="n">n</span><span class="p">];</span><span class="c1">//报错
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p>这段代码还是会报错，原因是const修饰的变量本质上还是变量，只是它的值不能被修改</p>
<hr>
<p><strong>3.1.2 const修饰指针变量</strong></p>
<p><strong>引入</strong></p>
<p>看一段代码：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="k">const</span> <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="c1">//n = 200;//无法直接修改
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">int</span><span class="o">*</span> <span class="n">p</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">n</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="o">*</span><span class="n">p</span> <span class="o">=</span> <span class="mi">200</span><span class="p">;</span><span class="c1">//n = 200 可以修改
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">n</span><span class="p">);</span><span class="c1">//200
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p>在上这段代码中：</p>
<p>const修饰变量，虽然变量n不能直接修改，但还是可以通过拿到 n 的地址对n进行修改</p>
<p>但是如果我们不希望 n 能以任何方式被修改，不管是直接被修改，还是通过地址被修改，那么就需要使用const修饰指针变量</p>
<p><strong>语法</strong></p>
<p>const修饰指针变量有两种形式，一种是const放在 * 左边，一种是 * 放在const右边</p>
<p>（1）const在 * 左边修饰(两种写法)：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//const在*左边修饰
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">const</span> <span class="kt">int</span><span class="o">*</span> <span class="n">p</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">n</span><span class="p">;</span><span class="c1">//写法一
</span></span></span><span class="line"><span class="cl"><span class="c1">//int const * p = &amp;n;//写法二
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p>此时，如果通过指针变量 p 修改 变量 n 里的内容，就会报错</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="o">*</span><span class="n">p</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span><span class="c1">//err
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p>原因：</p>
<p><strong>const放在 * 的左边修饰，不能更改指针指向的 对象里面的内容</strong></p>
<p>但是指针可以更改指向的对象，也就是指针可以不指向原来的地址</p>
<p>比如：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">const</span> <span class="kt">int</span><span class="o">*</span> <span class="n">p</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">n</span><span class="p">;</span><span class="c1">//const在*左边修饰
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">p</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">m</span><span class="p">;</span><span class="c1">//ok
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p>（2）const在 * 右边修饰：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//const在*右边修饰
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">int</span><span class="o">*</span> <span class="k">const</span> <span class="n">p</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">n</span><span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p>此时如果更改 p 指向的对象，会报错</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="n">p</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">m</span><span class="p">;</span><span class="c1">//err
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p>原因：</p>
<p><strong>const在*右边修饰的时候，指针不能更改指向的对象</strong></p>
<p>但是可以更改指针指向的 变量里的内容</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span><span class="o">*</span> <span class="k">const</span> <span class="n">p</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">n</span><span class="p">;</span><span class="c1">//const在*右边修饰
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="o">*</span><span class="n">p</span> <span class="o">=</span> <span class="mi">200</span><span class="p">;</span><span class="c1">//ok
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p>（3）如果const在 * 左右两边都修饰：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//const同时在 * 的左右两边修饰
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">const</span> <span class="kt">int</span><span class="o">*</span> <span class="k">const</span> <span class="n">p</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">n</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="o">*</span><span class="n">p</span> <span class="o">=</span> <span class="mi">200</span><span class="p">;</span><span class="c1">//err
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">p</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">m</span><span class="p">;</span><span class="c1">//err
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p><strong>结论</strong></p>
<p>当const在 * 左边修饰时，指针指向的 <strong>变量的值</strong> 不能被修改</p>
<p>当const在 * 右边修饰时，指针的<strong>指向不能变</strong>，指针不能更改指向的对象</p>
<hr>
<h3 id="32-assert断言"><strong>3.2 assert</strong>断言
</h3><p>可用于检测指针的有效性</p>
<p>1.使用assert（）宏要包含头文件assert.h</p>
<p>2.判断括号里的表达式，若为真，程序正常运行；        若为假，在屏幕上写入错误信息，未通过该表达          式，并显示出问题的文件名以及行号</p>
<p>例如：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">int</span><span class="o">*</span> <span class="n">p</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="nf">assert</span><span class="p">(</span><span class="n">p</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">);</span><span class="c1">//括号里面的值为假就会报错
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p><img src="/p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/c0fa5eedb9074d474473b9efd9d5b70e.png"
	width="572"
	height="371"
	srcset="/p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/c0fa5eedb9074d474473b9efd9d5b70e_hu_b1bea36e5fef2ac6.png 480w, /p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/c0fa5eedb9074d474473b9efd9d5b70e_hu_a38048336eb455c6.png 1024w"
	loading="lazy"
	
		alt="e628563b514c4a9387d0b653b555da1f.png"
	
	
		class="gallery-image" 
		data-flex-grow="154"
		data-flex-basis="370px"
	
><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
>编辑</p>
<p>3.如果不需要再执行assert（），可直接在它的头文件前面定义一个宏NDEBUG</p>
<p>例如：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cp">#define NDEBUG
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span><span class="cpf">&lt;assert.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kt">int</span><span class="o">*</span> <span class="n">p</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="nf">assert</span><span class="p">(</span><span class="n">p</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">);</span><span class="c1">//定义了NEDBUG宏后，assert失效，不会报错
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
	
	
	
	loading="lazy"
	
		alt="点击并拖拽以移动"
	
	
></p>
<p>可以通过注释掉 #define NDEBUG 这条语句，使得 assert 语句可以执行</p>
<p>assert（）会增加程序的运行时间</p>
<p>VS中，在release版本下，可选择禁用assert（），默认会优化掉assert（）</p>
<h1 id="三指针进阶">三、指针进阶
</h1><h2 id="1-qsort函数">1. qsort函数
</h2><p><strong>基本介绍</strong></p>
<p>冒泡排序，只能排序整型数组</p>
<p>qsort函数，快速排序，可以排序任意类型的数据</p>
<p><strong>函数原型</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">qsort</span><span class="p">(</span><span class="kt">void</span><span class="o">*</span> <span class="n">base</span><span class="p">,</span> <span class="c1">//待排序数组的起始位置
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kt">size_t</span> <span class="n">num</span><span class="p">,</span> <span class="c1">//待排序数组的元素个数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kt">size_t</span> <span class="n">width</span><span class="p">,</span> <span class="c1">//每个元素有几个字节
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kt">int</span><span class="p">(</span><span class="o">*</span><span class="n">compare</span><span class="p">)(</span><span class="k">const</span> <span class="kt">void</span><span class="o">*</span> <span class="n">elem1</span><span class="p">,</span> <span class="k">const</span> <span class="kt">void</span><span class="o">*</span> <span class="n">elem2</span><span class="p">)</span><span class="c1">//函数指针，函数要自己实现
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//                      要比较的那两个元素的地址
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">);</span> 
</span></span></code></pre></td></tr></table>
</div>
</div><ol>
<li>函数参数</li>
</ol>
<blockquote>
<p>void* base 使用void*接收目标数组的起始位置，这样可以排任意类型的数据</p>
</blockquote>
<blockquote>
<p>int(*compare)(const void* elem1, const void* elem2)</p>
<p>中compare这个指针可以接收要比较的两个元素的地址，由于不知道要比较的两个元素的类型，</p>
<p>所以使用void*来接收</p>
</blockquote>
<ol start="2">
<li>函数的返回值</li>
</ol>
<p><img src="/p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/1727976713304.png"
	width="630"
	height="185"
	srcset="/p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/1727976713304_hu_960ef9a77c277a20.png 480w, /p/c-pointer-basic/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E6%8C%87%E9%92%88%E5%85%A5%E9%97%A8.assets/1727976713304_hu_3b17795aa0796a07.png 1024w"
	loading="lazy"
	
		alt="72797671330"
	
	
		class="gallery-image" 
		data-flex-grow="340"
		data-flex-basis="817px"
	
></p>
<p>当第一个元素小于第二个元素时，返回小于0的数字</p>
<p>当第一个元素大于第二个元素时，返回大于0的数字</p>
<p>当第一个元素等于第二个元素时，返回等于0的数字</p>
<ol start="3">
<li>使用要包含头文件<code>stdlib.h</code></li>
</ol>
<p><strong>模拟实现qsort函数</strong>(以结构体为例)</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">cmp_stu_by_age</span><span class="p">(</span><span class="k">const</span> <span class="kt">void</span><span class="o">*</span> <span class="n">e1</span><span class="p">,</span> <span class="k">const</span> <span class="kt">void</span><span class="o">*</span> <span class="n">e2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="p">((</span><span class="k">struct</span> <span class="n">Stu</span><span class="o">*</span><span class="p">)</span><span class="n">e1</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">age</span> <span class="o">-</span> <span class="p">((</span><span class="k">struct</span> <span class="n">Stu</span><span class="o">*</span><span class="p">)</span><span class="n">e2</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">age</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">cmp_stu_by_name</span><span class="p">(</span><span class="k">const</span> <span class="kt">void</span><span class="o">*</span> <span class="n">e1</span><span class="p">,</span> <span class="k">const</span> <span class="kt">void</span><span class="o">*</span> <span class="n">e2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//比较字符串，使用strcmp，要引头文件string.h
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="k">return</span> <span class="nf">strcmp</span><span class="p">(((</span><span class="k">struct</span> <span class="n">Stu</span><span class="o">*</span><span class="p">)</span><span class="n">e1</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">name</span><span class="p">,</span> <span class="p">((</span><span class="k">struct</span> <span class="n">Stu</span><span class="o">*</span><span class="p">)</span><span class="n">e2</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">name</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//实现bubble_sort的程序员不知道未来排序的数据类型
</span></span></span><span class="line"><span class="cl"><span class="c1">//也不知道待比较的两个元素类型
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">Swap</span><span class="p">(</span><span class="kt">char</span><span class="o">*</span> <span class="n">buf1</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">buf2</span><span class="p">,</span> <span class="kt">int</span> <span class="n">width</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">width</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="kt">char</span> <span class="n">tmp</span> <span class="o">=</span> <span class="o">*</span><span class="n">buf1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		<span class="o">*</span><span class="n">buf1</span> <span class="o">=</span> <span class="o">*</span><span class="n">buf2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		<span class="o">*</span><span class="n">buf2</span> <span class="o">=</span> <span class="n">tmp</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		<span class="n">buf1</span><span class="o">++</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		<span class="n">buf2</span><span class="o">++</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">bubble_sort</span><span class="p">(</span><span class="kt">void</span><span class="o">*</span> <span class="n">base</span><span class="p">,</span> <span class="kt">int</span> <span class="n">sz</span><span class="p">,</span> <span class="kt">int</span> <span class="n">width</span><span class="p">,</span> <span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">cmp</span><span class="p">)(</span><span class="k">const</span> <span class="kt">void</span><span class="o">*</span> <span class="n">e1</span><span class="p">,</span> <span class="k">const</span> <span class="kt">void</span><span class="o">*</span> <span class="n">e2</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">sz</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="c1">//趟数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		<span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">sz</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">i</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="c1">//每一趟比较的对数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="c1">//两个元素的比较
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>			<span class="k">if</span> <span class="p">(</span><span class="nf">cmp</span><span class="p">((</span><span class="kt">char</span><span class="o">*</span><span class="p">)</span><span class="n">base</span> <span class="o">+</span> <span class="n">j</span> <span class="o">*</span> <span class="n">width</span><span class="p">,</span> <span class="p">(</span><span class="kt">char</span><span class="o">*</span><span class="p">)</span><span class="n">base</span> <span class="o">+</span> <span class="p">(</span><span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">width</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="p">{</span>
</span></span><span class="line"><span class="cl">				<span class="c1">//交换
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>				<span class="nf">Swap</span><span class="p">((</span><span class="kt">char</span><span class="o">*</span><span class="p">)</span><span class="n">base</span> <span class="o">+</span> <span class="n">j</span> <span class="o">*</span> <span class="n">width</span><span class="p">,</span> <span class="p">(</span><span class="kt">char</span><span class="o">*</span><span class="p">)</span><span class="n">base</span> <span class="o">+</span> <span class="p">(</span><span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">width</span><span class="p">,</span> <span class="n">width</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">			<span class="p">}</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//测试
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">struct</span> <span class="n">Stu</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kt">char</span> <span class="n">name</span><span class="p">[</span><span class="mi">20</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">	<span class="kt">int</span> <span class="n">age</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">test5</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">struct</span> <span class="n">Stu</span> <span class="n">s</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span> <span class="p">{</span><span class="s">&#34;zhangsan&#34;</span><span class="p">,</span> <span class="mi">20</span><span class="p">},</span> <span class="p">{</span><span class="s">&#34;lisi&#34;</span><span class="p">,</span> <span class="mi">30</span><span class="p">},</span> <span class="p">{</span><span class="s">&#34;wangwu&#34;</span><span class="p">,</span> <span class="mi">10</span><span class="p">}</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl">	<span class="kt">int</span> <span class="n">sz</span> <span class="o">=</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">/</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//使用bubble_sort的程序员一定知道自己排序的是什么数据
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//就应该知道如何比较待排序数组中的元素
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nf">bubble_sort</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">sz</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="n">cmp_stu_by_name</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="2-指针和数组笔试题解析">2. 指针和数组笔试题解析
</h2><h3 id="21-一维数组">2.1 一维数组
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">a</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl"><span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">a</span><span class="p">));</span>
</span></span><span class="line"><span class="cl"><span class="c1">//sizeof(数组名) -- 计算的是整个数组的大小，4*4=16
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="mi">0</span><span class="p">));</span>
</span></span><span class="line"><span class="cl"><span class="c1">//数组名表示数组首元素的地址，+0还是首元素地址，4或8字节
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="o">*</span><span class="n">a</span><span class="p">));</span>
</span></span><span class="line"><span class="cl"><span class="c1">//数组名表示首元素的地址，*a就是首元素，4字节
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="mi">1</span><span class="p">));</span>
</span></span><span class="line"><span class="cl"><span class="c1">//数组名表示数组首元素的地址，+1跳过一个元素，是第二个元素的地址，4或8字节 
</span></span></span><span class="line"><span class="cl"><span class="c1">//                                      
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]));</span>
</span></span><span class="line"><span class="cl"><span class="c1">//第二个元素的大小，4字节
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="o">&amp;</span><span class="n">a</span><span class="p">));</span>
</span></span><span class="line"><span class="cl"><span class="c1">//&amp;a取出的是数组的地址，但数组的地址也是地址，4或8字节
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="o">*&amp;</span><span class="n">a</span><span class="p">));</span>
</span></span><span class="line"><span class="cl"><span class="c1">//&amp;a数组的地址，数组的地址解引用访问的数组，sizeof计算的就是数组的大小，16字节
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="o">&amp;</span><span class="n">a</span> <span class="o">+</span> <span class="mi">1</span><span class="p">));</span>
</span></span><span class="line"><span class="cl"><span class="c1">//&amp;a取出的是数组的地址，+1跳过整个数组，但还是地址，4或8字节
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="o">&amp;</span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]));</span>
</span></span><span class="line"><span class="cl"><span class="c1">//&amp;a[0]第一个元素的地址，4或8字节
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="o">&amp;</span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">));</span>
</span></span><span class="line"><span class="cl"><span class="c1">//&amp;a[0]第一个元素的地址，&amp;a[0] + 1第二个元素的地址，4或8字节
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>数组名是数组首元素的地址</p>
<p>但有两个例外：</p>
<ol>
<li>
<p>sizeof(数组名) - 数组名表示整个数组</p>
</li>
<li>
<p>&amp;数组名 - 数组名表示整个数组，即取出整个数组的地址</p>
</li>
</ol>
<h3 id="22-字符数组">2.2 字符数组
</h3><ul>
<li>
<p>==char arr[] = {&lsquo;a&rsquo;,&lsquo;b&rsquo;,&lsquo;c&rsquo;,&rsquo;d&rsquo;,&rsquo;e&rsquo;,&lsquo;f&rsquo;};==</p>
<p><strong>sizeof</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">char</span> <span class="n">arr</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span> <span class="sc">&#39;a&#39;</span><span class="p">,</span><span class="sc">&#39;b&#39;</span><span class="p">,</span><span class="sc">&#39;c&#39;</span><span class="p">,</span><span class="sc">&#39;d&#39;</span><span class="p">,</span><span class="sc">&#39;e&#39;</span><span class="p">,</span><span class="sc">&#39;f&#39;</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl">	<span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">arr</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//sizeof(数组名) - 整个数组的大小，6*1=6字节
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">arr</span> <span class="o">+</span> <span class="mi">0</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//arr数组首元素地址，arr+0还是首元素的地址，4或8字节
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="o">*</span><span class="n">arr</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//arr数组首元素地址，*arr首元素，1字节
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="mi">1</span><span class="p">]));</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//第二个元素的大小，1字节
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="o">&amp;</span><span class="n">arr</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//&amp;arr取出整个数组的地址，但还是地址，4或8字节
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="o">&amp;</span><span class="n">arr</span> <span class="o">+</span> <span class="mi">1</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//&amp;arr整个数组的地址，&amp;arr+1跳过整个数组，还是地址，4或8字节
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="o">&amp;</span><span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//&amp;arr[0]首元素的地址，&amp;arr[0]+1第二个元素的地址，4或8字节
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><strong>strlen</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">char</span> <span class="n">arr</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span> <span class="sc">&#39;a&#39;</span><span class="p">,</span><span class="sc">&#39;b&#39;</span><span class="p">,</span><span class="sc">&#39;c&#39;</span><span class="p">,</span><span class="sc">&#39;d&#39;</span><span class="p">,</span><span class="sc">&#39;e&#39;</span><span class="p">,</span><span class="sc">&#39;f&#39;</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl"><span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="nf">strlen</span><span class="p">(</span><span class="n">arr</span><span class="p">));</span><span class="c1">//随机值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="nf">strlen</span><span class="p">(</span><span class="n">arr</span> <span class="o">+</span> <span class="mi">0</span><span class="p">));</span><span class="c1">//随机值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="nf">strlen</span><span class="p">(</span><span class="o">*</span><span class="n">arr</span><span class="p">));</span><span class="c1">//err
</span></span></span><span class="line"><span class="cl"><span class="c1">//*arr是元素&#39;a&#39;，对应ASCII码值为97，strlen把97当做地址，然后向后访问，形成非法访问
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="nf">strlen</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="mi">1</span><span class="p">]));</span><span class="c1">//err
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="nf">strlen</span><span class="p">(</span><span class="o">&amp;</span><span class="n">arr</span><span class="p">));</span><span class="c1">//取的是数组的地址，数组的地址也从起始位置开始，随机值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="nf">strlen</span><span class="p">(</span><span class="o">&amp;</span><span class="n">arr</span> <span class="o">+</span> <span class="mi">1</span><span class="p">));</span><span class="c1">//跳过整个数组，从数组最后的地址开始访问，随机值-6
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="nf">strlen</span><span class="p">(</span><span class="o">&amp;</span><span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">));</span><span class="c1">//从第二个元素的地址开始，随机值-1
</span></span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>==char arr[] = &ldquo;abcdef&rdquo;;==</p>
<p><strong>sizeof</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kt">char</span> <span class="n">arr</span><span class="p">[]</span> <span class="o">=</span> <span class="s">&#34;abcdef&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">arr</span><span class="p">));</span><span class="c1">//7，包括\0
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">arr</span> <span class="o">+</span> <span class="mi">0</span><span class="p">));</span><span class="c1">//4/8，地址
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="o">*</span><span class="n">arr</span><span class="p">));</span><span class="c1">//1，char类型元素的大小
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="mi">1</span><span class="p">]));</span><span class="c1">//1，第二个元素的大小
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="o">&amp;</span><span class="n">arr</span><span class="p">));</span><span class="c1">//4/8，取出整个数组的地址，还是地址
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="o">&amp;</span><span class="n">arr</span> <span class="o">+</span> <span class="mi">1</span><span class="p">));</span><span class="c1">//4/8，跳过整个数组后的地址
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="o">&amp;</span><span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">));</span><span class="c1">//4/8，第二个元素的地址
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>strlen</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>==char *p = &ldquo;abcdef&rdquo;;==</p>
<p><strong>sizeof</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"></code></pre></td></tr></table>
</div>
</div><p><strong>strlen</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<p><strong>strlen 和 sizeof区分</strong></p>
<p>1.<code>strlen</code>是求字符串长度的，只能针对字符串求长度，目的是找到\0  &ndash;是库函数，得引头文件</p>
<p>strlen的参数要的是地址，通过对该地址解引用，如果不是\0就长度+1</p>
<p>2.<code>sizeof</code>计算变量、数组、类型的大小 &ndash; 单位是字节 &ndash;是操作符</p>
<h3 id="23-二维数组">2.3 二维数组
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"></code></pre></td></tr></table>
</div>
</div>
</section>


    <footer class="article-footer">
    

    </footer>


    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">相关文章</h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="has-image">
    <a href="/p/c-memory-memory-related-functions/">
        
        
            <div class="article-image">
                <img src="/p/c-memory-memory-related-functions/04.56f238804d2899b0bbfdeb2ecda0b14a_hu_586fa9faf358957.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post 【C语言基础】内存相关的函数"
                        data-key="c-memory-memory-related-functions" 
                        data-hash="md5-VvI4gE0ombC7/esuzaCxSg==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">【C语言基础】内存相关的函数</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/c-dynamic-memory-management/">
        
        
            <div class="article-image">
                <img src="/p/c-dynamic-memory-management/04.56f238804d2899b0bbfdeb2ecda0b14a_hu_586fa9faf358957.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post 【C语言基础】动态内存管理"
                        data-key="c-dynamic-memory-management" 
                        data-hash="md5-VvI4gE0ombC7/esuzaCxSg==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">【C语言基础】动态内存管理</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/c-char-and-string-function/">
        
        
            <div class="article-image">
                <img src="/p/c-char-and-string-function/04.56f238804d2899b0bbfdeb2ecda0b14a_hu_586fa9faf358957.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post 【C语言基础】字符和字符串函数"
                        data-key="c-char-and-string-function" 
                        data-hash="md5-VvI4gE0ombC7/esuzaCxSg==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">【C语言基础】字符和字符串函数</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/c-struct/">
        
        
            <div class="article-image">
                <img src="/p/c-struct/04.56f238804d2899b0bbfdeb2ecda0b14a_hu_586fa9faf358957.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post 【C语言基础】结构体"
                        data-key="c-struct" 
                        data-hash="md5-VvI4gE0ombC7/esuzaCxSg==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">【C语言基础】结构体</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/start-c-/">
        
        
            <div class="article-image">
                <img src="/p/start-c-/mountains-1412683_1920.8378a36e3da3b9927eb7b8236dbbd8d6_hu_38cad4bcb7d0b81e.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post 【C&#43;&#43;初阶】01入门知识"
                        data-key="start-c&#43;&#43;" 
                        data-hash="md5-g3ijbj2juZJ&#43;t7gjbbvY1g==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">【C&#43;&#43;初阶】01入门知识</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
        2025 PursUnre
    </section>
    
    <section class="powerby">
        使用 <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> 构建 <br />
        主题 <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.31.0">Stack</a></b> 由 <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a> 设计
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
