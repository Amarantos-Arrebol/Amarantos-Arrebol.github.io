<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="ç†è§£è¿›ç¨‹ã€ç¯å¢ƒå˜é‡ä¸åœ°å€ç©ºé—´">
<title>ã€Linuxç³»ç»Ÿç¼–ç¨‹ã€‘03è¿›ç¨‹çš„æ¦‚å¿µ</title>

<link rel='canonical' href='https://Amarantos-Arrebol.github.io/p/linux-process-basic/'>

<link rel="stylesheet" href="/scss/style.min.3a2e0dabd37ad6d838b007eb48be52d094d892667b94840716e02c99e56f8bbd.css"><meta property='og:title' content="ã€Linuxç³»ç»Ÿç¼–ç¨‹ã€‘03è¿›ç¨‹çš„æ¦‚å¿µ">
<meta property='og:description' content="ç†è§£è¿›ç¨‹ã€ç¯å¢ƒå˜é‡ä¸åœ°å€ç©ºé—´">
<meta property='og:url' content='https://Amarantos-Arrebol.github.io/p/linux-process-basic/'>
<meta property='og:site_name' content='PursUnreçš„åšå®¢'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='Linuxè¿›é˜¶' /><meta property='article:tag' content='è¿›ç¨‹ç®¡ç†' /><meta property='article:tag' content='ç¯å¢ƒå˜é‡' /><meta property='article:tag' content='åœ°å€ç©ºé—´' /><meta property='article:published_time' content='2025-11-02T00:00:00&#43;00:00'/><meta property='article:modified_time' content='2025-12-10T17:20:44&#43;08:00'/><meta property='og:image' content='https://Amarantos-Arrebol.github.io/p/linux-process-basic/%E3%80%90%E5%93%B2%E9%A3%8E%E5%A3%81%E7%BA%B8%E3%80%91%E5%9F%8E%E5%B8%82-%E5%A4%95%E9%98%B3.png' />
<meta name="twitter:title" content="ã€Linuxç³»ç»Ÿç¼–ç¨‹ã€‘03è¿›ç¨‹çš„æ¦‚å¿µ">
<meta name="twitter:description" content="ç†è§£è¿›ç¨‹ã€ç¯å¢ƒå˜é‡ä¸åœ°å€ç©ºé—´"><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://Amarantos-Arrebol.github.io/p/linux-process-basic/%E3%80%90%E5%93%B2%E9%A3%8E%E5%A3%81%E7%BA%B8%E3%80%91%E5%9F%8E%E5%B8%82-%E5%A4%95%E9%98%B3.png' /><link rel="stylesheet" href="/css/custom.min.css" />
<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>


<script>
$(document).ready(function() {
    
    $.getScript("https://cdn.jsdelivr.net/gh/huangwb8/bloghelper@latest/mouse/halo-dream/fairyDustCursor.min.js");
});
</script>


<style type="text/css">
.main-content img, body {
    cursor: url(https://cdn.jsdelivr.net/gh/huangwb8/bloghelper@latest/mouse/halo-dream/cursor/breeze/Arrow.cur), auto;
}

.actions > div,
.expand-done,
.main-content figure > figcaption div,
.navbar-above .navbar-nav .item,
.navbar-searchicon,
.navbar-slideicon,
.photos .picture-details,
.widget .ad-tag .click-close,
a,
button {
    cursor: url(https://cdn.jsdelivr.net/gh/huangwb8/bloghelper@latest/mouse/halo-dream/cursor/breeze/Hand.cur), auto;
}

blockquote,
code,
h1, h2, h3, h4, h5, h6,
hr,
input[type=text],
li,
p,
td,
textarea,
th {
    cursor: url(https://cdn.jsdelivr.net/gh/huangwb8/bloghelper@latest/mouse/halo-dream/cursor/breeze/IBeam.cur), auto;
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    
    const articleContent = document.querySelector('.article-content');
    if (!articleContent) return;
    
    
    function processTextNode(node) {
        if (node.nodeType === Node.TEXT_NODE) {
            const text = node.textContent;
            
            const regex = /==([^=\n`]+?)==/g;
            
            if (regex.test(text)) {
                const parent = node.parentNode;
                
                if (parent && !['CODE', 'PRE', 'KBD', 'SAMP'].includes(parent.tagName)) {
                    const fragment = document.createDocumentFragment();
                    let lastIndex = 0;
                    
                    text.replace(/==([^=\n`]+?)==/g, function(match, content, offset) {
                        
                        if (offset > lastIndex) {
                            fragment.appendChild(document.createTextNode(text.slice(lastIndex, offset)));
                        }
                        
                        
                        const mark = document.createElement('mark');
                        mark.textContent = content;
                        fragment.appendChild(mark);
                        
                        lastIndex = offset + match.length;
                        return match;
                    });
                    
                    
                    if (lastIndex < text.length) {
                        fragment.appendChild(document.createTextNode(text.slice(lastIndex)));
                    }
                    
                    parent.replaceChild(fragment, node);
                }
            }
        } else if (node.nodeType === Node.ELEMENT_NODE && 
                   !['CODE', 'PRE', 'SCRIPT', 'STYLE', 'KBD', 'SAMP'].includes(node.tagName)) {
            
            Array.from(node.childNodes).forEach(processTextNode);
        }
    }
    
    processTextNode(articleContent);
});
</script>
<div class="loading">
  
  <div class="scene">
    <div class="forest">
      <div class="tree tree1">
        <div class="branch branch-top"></div>
        <div class="branch branch-middle"></div>
      </div>

      <div class="tree tree2">
        <div class="branch branch-top"></div>
        <div class="branch branch-middle"></div>
        <div class="branch branch-bottom"></div>
      </div>

      <div class="tree tree3">
        <div class="branch branch-top"></div>
        <div class="branch branch-middle"></div>
        <div class="branch branch-bottom"></div>
      </div>

      <div class="tree tree4">
        <div class="branch branch-top"></div>
        <div class="branch branch-middle"></div>
        <div class="branch branch-bottom"></div>
      </div>

      <div class="tree tree5">
        <div class="branch branch-top"></div>
        <div class="branch branch-middle"></div>
        <div class="branch branch-bottom"></div>
      </div>

      <div class="tree tree6">
        <div class="branch branch-top"></div>
        <div class="branch branch-middle"></div>
        <div class="branch branch-bottom"></div>
      </div>

      <div class="tree tree7">
        <div class="branch branch-top"></div>
        <div class="branch branch-middle"></div>
        <div class="branch branch-bottom"></div>
      </div>
    </div>

    <div class="tent">
      <div class="roof"></div>
      <div class="roof-border-left">
        <div class="roof-border roof-border1"></div>
        <div class="roof-border roof-border2"></div>
        <div class="roof-border roof-border3"></div>
      </div>
      <div class="entrance">
        <div class="door left-door">
          <div class="left-door-inner"></div>
        </div>
        <div class="door right-door">
          <div class="right-door-inner"></div>
        </div>
      </div>
    </div>

    <div class="floor">
      <div class="ground ground1"></div>
      <div class="ground ground2"></div>
    </div>

    <div class="fireplace">
      <div class="support"></div>
      <div class="support"></div>
      <div class="bar"></div>
      <div class="hanger"></div>
      <div class="smoke"></div>
      <div class="pan"></div>
      <div class="fire">
        <div class="line line1">
          <div class="particle particle1"></div>
          <div class="particle particle2"></div>
          <div class="particle particle3"></div>
          <div class="particle particle4"></div>
        </div>
        <div class="line line2">
          <div class="particle particle1"></div>
          <div class="particle particle2"></div>
          <div class="particle particle3"></div>
          <div class="particle particle4"></div>
        </div>
        <div class="line line3">
          <div class="particle particle1"></div>
          <div class="particle particle2"></div>
          <div class="particle particle3"></div>
          <div class="particle particle4"></div>
        </div>
      </div>
    </div>

    <div class="time-wrapper">
      <div class="time">
        <div class="day"></div>
        <div class="night">
          <div class="moon"></div>
          <div class="star star1 star-big"></div>
          <div class="star star2 star-big"></div>
          <div class="star star3 star-big"></div>
          <div class="star star4"></div>
          <div class="star star5"></div>
          <div class="star star6"></div>
          <div class="star star7"></div>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  .loading {
    position: fixed;
    display: flex;
    justify-content: center;
    align-items: center;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 99;
    background-color: #f5f5fa;
  }

   
  @keyframes stageBackground {
    0%,
    10%,
    90%,
    100% {
      background-color: #00b6bb;
    }

    25%,
    75% {
      background-color: #0094bd;
    }
  }

  @keyframes earthRotation {
    from {
      transform: rotate(0deg);
    }

    to {
      transform: rotate(360deg);
    }
  }

  @keyframes sunrise {
    0%,
    10%,
    90%,
    100% {
      box-shadow: 0 0 0 25px #5ad6bd, 0 0 0 40px #4acead,
        0 0 0 60px rgba(74, 206, 173, 0.6), 0 0 0 90px rgba(74, 206, 173, 0.3);
    }

    25%,
    75% {
      box-shadow: 0 0 0 0 #5ad6bd, 0 0 0 0 #4acead,
        0 0 0 0 rgba(74, 206, 173, 0.6), 0 0 0 0 rgba(74, 206, 173, 0.3);
    }
  }

  @keyframes moonOrbit {
    25% {
      transform: rotate(-60deg);
    }

    50% {
      transform: rotate(-60deg);
    }

    75% {
      transform: rotate(-120deg);
    }

    0%,
    100% {
      transform: rotate(-180deg);
    }
  }

  @keyframes nightTime {
    0%,
    90% {
      opacity: 0;
    }

    50%,
    75% {
      opacity: 1;
    }
  }

  @keyframes hotPan {
    0%,
    90% {
      background-color: #74667e;
    }

    50%,
    75% {
      background-color: #b2241c;
    }
  }

  @keyframes heat {
    0%,
    90% {
      box-shadow: inset 0 0 0 0 rgba(255, 255, 255, 0.3);
    }

    50%,
    75% {
      box-shadow: inset 0 -2px 0 0 white;
    }
  }

  @keyframes smoke {
    0%,
    50%,
    90%,
    100% {
      opacity: 0;
    }

    50%,
    75% {
      opacity: 0.7;
    }
  }

  @keyframes fire {
    0%,
    90%,
    100% {
      opacity: 0;
    }

    50%,
    75% {
      opacity: 1;
    }
  }

  @keyframes treeShake {
    0% {
      transform: rotate(0deg);
    }

    25% {
      transform: rotate(-2deg);
    }

    40% {
      transform: rotate(4deg);
    }

    50% {
      transform: rotate(-4deg);
    }

    60% {
      transform: rotate(6deg);
    }

    75% {
      transform: rotate(-6deg);
    }

    100% {
      transform: rotate(0deg);
    }
  }

  @keyframes fireParticles {
    0% {
      height: 30%;
      opacity: 1;
      top: 75%;
    }

    25% {
      height: 25%;
      opacity: 0.8;
      top: 40%;
    }

    50% {
      height: 15%;
      opacity: 0.6;
      top: 20%;
    }

    75% {
      height: 10%;
      opacity: 0.3;
      top: 0;
    }

    100% {
      opacity: 0;
    }
  }

  @keyframes fireLines {
    0%,
    25%,
    75%,
    100% {
      bottom: 0;
    }

    50% {
      bottom: 5%;
    }
  }

  .scene {
    display: flex;
    margin: 0 auto 80px auto;
    justify-content: center;
    align-items: flex-end;
    width: 400px;
    height: 300px;
    position: relative;
  }

  .forest {
    display: flex;
    width: 75%;
    height: 90%;
    position: relative;
  }

  .tree {
    display: block;
    width: 50%;
    position: absolute;
    bottom: 0;
    opacity: 0.4;
  }

  .tree .branch {
    width: 80%;
    height: 0;
    margin: 0 auto;
    padding-left: 40%;
    padding-bottom: 50%;
    overflow: hidden;
  }

  .tree .branch:before {
    content: "";
    display: block;
    width: 0;
    height: 0;
    margin-left: -600px;
    border-left: 600px solid transparent;
    border-right: 600px solid transparent;
    border-bottom: 950px solid #000;
  }

  .tree .branch.branch-top {
    transform-origin: 50% 100%;
    animation: treeShake 0.5s linear infinite;
  }

  .tree .branch.branch-middle {
    width: 90%;
    padding-left: 45%;
    padding-bottom: 65%;
    margin: 0 auto;
    margin-top: -25%;
  }

  .tree .branch.branch-bottom {
    width: 100%;
    padding-left: 50%;
    padding-bottom: 80%;
    margin: 0 auto;
    margin-top: -40%;
  }

  .tree1 {
    width: 31%;
  }

  .tree1 .branch-top {
    transition-delay: 0.3s;
  }

  .tree2 {
    width: 39%;
    left: 9%;
  }

  .tree2 .branch-top {
    transition-delay: 0.4s;
  }

  .tree3 {
    width: 32%;
    left: 24%;
  }

  .tree3 .branch-top {
    transition-delay: 0.5s;
  }

  .tree4 {
    width: 37%;
    left: 34%;
  }

  .tree4 .branch-top {
    transition-delay: 0.6s;
  }

  .tree5 {
    width: 44%;
    left: 44%;
  }

  .tree5 .branch-top {
    transition-delay: 0.7s;
  }

  .tree6 {
    width: 34%;
    left: 61%;
  }

  .tree6 .branch-top {
    transition-delay: 0.2s;
  }

  .tree7 {
    width: 24%;
    left: 76%;
  }

  .tree7 .branch-top {
    transition-delay: 0.1s;
  }

  .tent {
    width: 60%;
    height: 25%;
    position: absolute;
    bottom: -0.5%;
    right: 15%;
    z-index: 1;
    text-align: right;
  }

  .roof {
    display: inline-block;
    width: 45%;
    height: 100%;
    margin-right: 10%;
    position: relative;
     
    z-index: 1;
    border-top: 4px solid #4d4454;
    border-right: 4px solid #4d4454;
    border-left: 4px solid #4d4454;
    border-top-right-radius: 6px;
    transform: skew(30deg);
    box-shadow: inset -3px 3px 0px 0px #f7b563;
     
    background: #f6d484;
  }

  .roof:before {
    content: "";
    width: 70%;
    height: 70%;
    position: absolute;
    top: 15%;
    left: 15%;
    z-index: 0;
    border-radius: 10%;
    background-color: #e78c20;
  }

  .roof:after {
    content: "";
    height: 75%;
    width: 100%;
    position: absolute;
    bottom: 0;
    right: 0;
    z-index: 1;
    background: linear-gradient(
      to bottom,
      rgba(231, 140, 32, 0.4) 0%,
      rgba(231, 140, 32, 0.4) 64%,
      rgba(231, 140, 32, 0.8) 65%,
      rgba(231, 140, 32, 0.8) 100%
    );
  }

  .roof-border-left {
    display: flex;
    justify-content: space-between;
    flex-direction: column;
    width: 1%;
    height: 125%;
    position: absolute;
    top: 0;
    left: 35.7%;
    z-index: 1;
    transform-origin: 50% 0%;
    transform: rotate(35deg);
  }

  .roof-border-left .roof-border {
    display: block;
    width: 100%;
    border-radius: 2px;
    border: 2px solid #4d4454;
  }

  .roof-border-left .roof-border1 {
    height: 40%;
  }

  .roof-border-left .roof-border2 {
    height: 10%;
  }

  .roof-border-left .roof-border3 {
    height: 40%;
  }

  .door {
    width: 55px;
    height: 92px;
    position: absolute;
    bottom: 2%;
    overflow: hidden;
    z-index: 0;
    transform-origin: 0 105%;
  }

  .left-door {
    transform: rotate(35deg);
    position: absolute;
    left: 13.5%;
    bottom: -3%;
    z-index: 0;
  }

  .left-door .left-door-inner {
    width: 100%;
    height: 100%;
    transform-origin: 0 105%;
    transform: rotate(-35deg);
    position: absolute;
    top: 0;
    overflow: hidden;
    background-color: #edddc2;
  }

  .left-door .left-door-inner:before {
    content: "";
    width: 15%;
    height: 100%;
    position: absolute;
    top: 0;
    right: 0;
    background: repeating-linear-gradient(
      #d4bc8b,
      #d4bc8b 4%,
      #e0d2a8 5%,
      #e0d2a8 10%
    );
  }

  .left-door .left-door-inner:after {
    content: "";
    width: 50%;
    height: 100%;
    position: absolute;
    top: 15%;
    left: 10%;
    transform: rotate(25deg);
    background-color: #fff;
  }

  .right-door {
    height: 89px;
    right: 21%;
    transform-origin: 0 105%;
    transform: rotate(-30deg) scaleX(-1);
    position: absolute;
    bottom: -3%;
    z-index: 0;
  }

  .right-door .right-door-inner {
    width: 100%;
    height: 100%;
    transform-origin: 0 120%;
    transform: rotate(-30deg);
    position: absolute;
    bottom: 0px;
    overflow: hidden;
    background-color: #efe7cf;
  }

  .right-door .right-door-inner:before {
    content: "";
    width: 50%;
    height: 100%;
    position: absolute;
    top: 15%;
    right: -28%;
    z-index: 1;
    transform: rotate(15deg);
    background-color: #524a5a;
  }

  .right-door .right-door-inner:after {
    content: "";
    width: 50%;
    height: 100%;
    position: absolute;
    top: 15%;
    right: -20%;
    transform: rotate(20deg);
    background-color: #fff;
  }

  .floor {
    width: 80%;
    position: absolute;
    right: 10%;
    bottom: 0;
    z-index: 1;
  }

  .floor .ground {
    position: absolute;
    border-radius: 2px;
    border: 2px solid #4d4454;
  }

  .floor .ground.ground1 {
    width: 65%;
    left: 0;
  }

  .floor .ground.ground2 {
    width: 30%;
    right: 0;
  }

  .fireplace {
    display: block;
    width: 24%;
    height: 20%;
    position: absolute;
    left: 5%;
  }

  .fireplace:before {
    content: "";
    display: block;
    width: 8%;
    position: absolute;
    bottom: -4px;
    left: 2%;
    border-radius: 2px;
    border: 2px solid #4d4454;
    background: #4d4454;
  }

  .fireplace .support {
    display: block;
    height: 105%;
    width: 2px;
    position: absolute;
    bottom: -5%;
    left: 10%;
    border: 2px solid #4d4454;
  }

  .fireplace .support:before {
    content: "";
    width: 100%;
    height: 15%;
    position: absolute;
    top: -18%;
    left: -4px;
    border-radius: 2px;
    border: 2px solid #4d4454;
    transform-origin: 100% 100%;
    transform: rotate(45deg);
  }

  .fireplace .support:after {
    content: "";
    width: 100%;
    height: 15%;
    position: absolute;
    top: -18%;
    left: 0px;
    border-radius: 2px;
    border: 2px solid #4d4454;
    transform-origin: 0 100%;
    transform: rotate(-45deg);
  }

  .fireplace .support:nth-child(1) {
    left: 85%;
  }

  .fireplace .bar {
    width: 100%;
    height: 2px;
    border-radius: 2px;
    border: 2px solid #4d4454;
  }

  .fireplace .hanger {
    display: block;
    width: 2px;
    height: 25%;
    margin-left: -4px;
    position: absolute;
    left: 50%;
    border: 2px solid #4d4454;
  }

  .fireplace .pan {
    display: block;
    width: 25%;
    height: 50%;
    border-radius: 50%;
    border: 4px solid #4d4454;
    position: absolute;
    top: 25%;
    left: 35%;
    overflow: hidden;
    animation: heat 5s linear infinite;
  }

  .fireplace .pan:before {
    content: "";
    display: block;
    height: 53%;
    width: 100%;
    position: absolute;
    bottom: 0;
    z-index: -1;
    border-top: 4px solid #4d4454;
    background-color: #74667e;
    animation: hotPan 5s linear infinite;
  }

  .fireplace .smoke {
    display: block;
    width: 20%;
    height: 25%;
    position: absolute;
    top: 25%;
    left: 37%;
    background-color: white;
    filter: blur(5px);
    animation: smoke 5s linear infinite;
  }

  .fireplace .fire {
    display: block;
    width: 25%;
    height: 120%;
    position: absolute;
    bottom: 0;
    left: 33%;
    z-index: 1;
    animation: fire 5s linear infinite;
  }

  .fireplace .fire:before {
    content: "";
    display: block;
    width: 100%;
    height: 2px;
    position: absolute;
    bottom: -4px;
    z-index: 1;
    border-radius: 2px;
    border: 1px solid #efb54a;
    background-color: #efb54a;
  }

  .fireplace .fire .line {
    display: block;
    width: 2px;
    height: 100%;
    position: absolute;
    bottom: 0;
    animation: fireLines 1s linear infinite;
  }

  .fireplace .fire .line2 {
    left: 50%;
    margin-left: -1px;
    animation-delay: 0.3s;
  }

  .fireplace .fire .line3 {
    right: 0;
    animation-delay: 0.5s;
  }

  .fireplace .fire .line .particle {
    height: 10%;
    position: absolute;
    top: 100%;
    z-index: 1;
    border-radius: 2px;
    border: 2px solid #efb54a;
    animation: fireParticles 0.5s linear infinite;
  }

  .fireplace .fire .line .particle1 {
    animation-delay: 0.1s;
  }

  .fireplace .fire .line .particle2 {
    animation-delay: 0.3s;
  }

  .fireplace .fire .line .particle3 {
    animation-delay: 0.6s;
  }

  .fireplace .fire .line .particle4 {
    animation-delay: 0.9s;
  }

  .time-wrapper {
    display: block;
    width: 100%;
    height: 100%;
    position: absolute;
    overflow: hidden;
  }

  .time {
    display: block;
    width: 100%;
    height: 200%;
    position: absolute;
    transform-origin: 50% 50%;
    transform: rotate(270deg);
    animation: earthRotation 5s linear infinite;
  }

  .time .day {
    display: block;
    width: 20px;
    height: 20px;
    position: absolute;
    top: 20%;
    left: 40%;
    border-radius: 50%;
    box-shadow: 0 0 0 25px #5ad6bd, 0 0 0 40px #4acead,
      0 0 0 60px rgba(74, 206, 173, 0.6), 0 0 0 90px rgba(74, 206, 173, 0.3);
    animation: sunrise 5s ease-in-out infinite;
    background-color: #ef9431;
  }

  .time .night {
    animation: nightTime 5s ease-in-out infinite;
  }

  .time .night .star {
    display: block;
    width: 4px;
    height: 4px;
    position: absolute;
    bottom: 10%;
    border-radius: 50%;
    background-color: #fff;
  }

  .time .night .star-big {
    width: 6px;
    height: 6px;
  }

  .time .night .star1 {
    right: 23%;
    bottom: 25%;
  }

  .time .night .star2 {
    right: 35%;
    bottom: 18%;
  }

  .time .night .star3 {
    right: 47%;
    bottom: 25%;
  }

  .time .night .star4 {
    right: 22%;
    bottom: 20%;
  }

  .time .night .star5 {
    right: 18%;
    bottom: 30%;
  }

  .time .night .star6 {
    right: 60%;
    bottom: 20%;
  }

  .time .night .star7 {
    right: 70%;
    bottom: 23%;
  }

  .time .night .moon {
    display: block;
    width: 25px;
    height: 25px;
    position: absolute;
    bottom: 22%;
    right: 33%;
    border-radius: 50%;
    transform: rotate(-60deg);
    box-shadow: 9px 9px 3px 0 white;
    filter: blur(1px);
    animation: moonOrbit 5s ease-in-out infinite;
  }

  .time .night .moon:before {
    content: "";
    display: block;
    width: 100%;
    height: 100%;
    position: absolute;
    bottom: -9px;
    left: 9px;
    border-radius: 50%;
    box-shadow: 0 0 0 5px rgba(255, 255, 255, 0.05),
      0 0 0 15px rgba(255, 255, 255, 0.05), 0 0 0 25px rgba(255, 255, 255, 0.05),
      0 0 0 35px rgba(255, 255, 255, 0.05);
    background-color: rgba(255, 255, 255, 0.2);
  }
</style>

<script>
  function initLoading() {
    let loading = document.querySelector(".loading");
    document.addEventListener("DOMContentLoaded", function () {
      
      loading.style.display = "none";
    });
  }

  initLoading();
</script>

    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside
  class="sidebar left-sidebar sticky "
>
  <button
    class="hamburger hamburger--spin"
    type="button"
    id="toggle-menu"
    aria-label="åˆ‡æ¢èœå•"
  >
    <span class="hamburger-box">
      <span class="hamburger-inner"></span>
    </span>
  </button>

  <header>
     
    <figure class="site-avatar">
      <a href="/">
           
        <img
          src="/img/avatar_hu_c3bef4dff24cf0d9.png"
          width="300"
          height="300"
          class="site-logo"
          loading="lazy"
          alt="Avatar"
        />
         
      </a>
      
      <span class="emoji">ğŸŒ¿</span>
      
    </figure>
     

    <div class="site-meta">
      <h1 class="site-name">
        <a href="/">PursUnreçš„åšå®¢</a>
      </h1>
      <h2 class="site-description">æ¬¢è¿æ¥åˆ°æˆ‘çš„ç½‘ç«™ï¼Œæ­¤åšå®¢ç”±ã€Hugo&#43;Stackã€‘æ¥è¿›è¡Œæ­å»ºï¼Œä¸»è¦åˆ†äº«ä¸ªäººå­¦ä¹ ç¬”è®°</h2>
    </div>
  </header><ol class="menu-social">
    
    <li>
      <a
        href="https://blog.csdn.net/green_tangerine?spm=1000.2115.3001.5343"
        target="_blank"
        
        title="CSDN"
        
        rel="me"
      >
          <?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1762020245107" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4643" width="32" height="32" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M568.917333 626.005333l16.213334 2.474667c5.674667-0.64 10.965333-1.109333 15.914666-1.578667 9.941333-0.938667 18.688-1.792 27.221334-3.498666 38.4-7.68 67.968-27.434667 83.2-64.768 10.325333-25.002667 11.690667-51.242667 8.533333-77.653334-4.864-41.088-23.68-72.96-64.085333-88.106666-39.125333-14.634667-78.336-9.301333-117.077334 2.56-6.186667 1.92-9.685333 6.954667-10.24 13.653333-1.152 13.141333-2.304 26.24-3.541333 39.338667-4.821333 51.328-9.557333 102.656-14.208 153.984-0.896 9.642667 2.304 14.506667 12.202667 16.213333 15.744 2.816 31.445333 5.205333 45.866666 7.381333z m21.589334-33.450666c-2.602667 0.170667-5.12 0.341333-7.381334 0.554666l-10.624-0.725333a2204.416 2204.416 0 0 0-15.36-0.981333c-5.76-0.256-8.149333-2.816-7.509333-8.96 1.536-15.36 2.901333-30.634667 4.266667-45.994667l2.048-22.912 2.858666-30.848 4.693334-51.114667v-0.170666c0.426667-4.565333 0.768-8.533333 6.4-9.770667 20.053333-4.352 40.234667-6.698667 60.458666-1.962667 28.032 6.570667 43.093333 25.813333 49.194667 52.906667 5.546667 24.618667 5.205333 49.152-4.565333 72.746667-11.776 28.416-36.096 40.021333-64.426667 45.141333-6.826667 1.28-13.781333 1.706667-20.053333 2.133333zM308.437333 606.208c23.765333 16.341333 50.986667 20.778667 79.189334 20.992 17.152 0.170667 34.005333-1.706667 49.92-8.448 25.216-10.666667 38.101333-30.421333 41.429333-56.917333 3.328-26.496-6.144-47.744-29.098667-61.568a242.346667 242.346667 0 0 0-38.4-18.218667c-8.405333-3.242667-16.981333-5.930667-25.514666-8.618667a367.957333 367.957333 0 0 1-29.781334-10.325333c-17.28-7.253333-18.517333-19.498667-5.034666-32.725333 17.237333-16.896 49.621333-18.176 69.888-2.133334 5.845333 4.608 10.837333 10.368 15.744 16.085334l1.365333 1.578666c6.144 7.125333 12.757333 8.021333 19.925333 1.962667 11.776-9.813333 11.690667-25.6-0.426666-36.693333-22.570667-20.650667-49.408-29.696-79.573334-26.197334-27.904 3.242667-51.626667 15.189333-66.986666 39.936-13.994667 22.613333-9.088 48.554667 13.397333 62.634667 10.24 6.442667 21.973333 10.666667 33.536 14.933333 2.133333 0.725333 4.181333 1.493333 6.229333 2.261334 8.234667 3.029333 16.512 5.802667 24.874667 8.533333 10.368 3.413333 20.736 6.869333 30.890667 10.837333 12.458667 4.906667 19.498667 14.677333 19.029333 28.885334-0.597333 16.512-7.637333 28.586667-23.808 33.792-27.946667 9.130667-83.2 6.4-102.058667-30.421334-3.84-7.296-10.368-8.021333-17.792-3.925333-13.44 7.466667-17.28 23.04-7.466666 34.986667 5.930667 7.168 12.8 13.482667 20.48 18.773333zM805.674667 410.538667c3.882667-1.962667 7.850667-4.181333 11.861333-6.485334 9.130667-5.12 18.730667-10.581333 29.013333-13.653333 30.592-9.130667 61.269333-7.509333 88.490667 11.136 21.162667 14.506667 30.293333 36.096 28.458667 61.354667-2.346667 32.085333-5.205333 64.170667-8.021334 96.256-1.408 15.786667-2.816 31.530667-4.138666 47.274666-1.408 16.725333-18.56 26.453333-33.066667 18.090667-2.688-1.536-4.778667-6.826667-4.565333-10.24 1.365333-21.12 3.157333-42.197333 4.992-63.232l0.768-9.002667 2.261333-25.216c1.749333-19.2 3.498667-38.4 4.693333-57.6 0.896-13.141333-4.693333-23.893333-16.298666-31.232-30.848-19.498667-71.68-9.728-94.208 22.485334-15.616 22.442667-21.205333 47.616-23.04 74.410666-1.365333 20.352-3.328 40.661333-5.333334 60.928l-2.944 30.890667c-0.512 5.973333-3.669333 9.002667-9.386666 9.386667a89.386667 89.386667 0 0 1-12.373334 0c-10.496-0.810667-14.890667-6.656-13.994666-17.066667 2.304-26.197333 4.48-52.48 6.656-78.677333l2.773333-32.853334 2.005333-24.234666c1.493333-18.474667 2.986667-36.906667 4.693334-55.338667 1.365333-15.018667 19.328-25.856 32.64-19.072 2.986667 1.536 4.778667 5.248 6.314666 8.362667 0.597333 1.28 1.152 2.432 1.749334 3.328zM95.445333 603.008c22.698667 18.346667 49.493333 23.893333 77.952 24.064 27.946667-0.128 54.570667-5.12 78.549334-20.650667a22.357333 22.357333 0 0 0 10.965333-23.893333 22.186667 22.186667 0 0 0-13.184-17.706667c-6.698667-2.901333-11.434667 1.194667-16.341333 5.546667l-0.298667 0.213333a72.149333 72.149333 0 0 1-17.706667 11.776c-22.613333 10.112-46.336 11.008-70.186666 5.504-23.466667-5.461333-38.954667-20.138667-44.032-43.904-7.893333-36.949333-0.981333-71.253333 23.168-100.565333 17.834667-21.76 41.813333-31.018667 69.205333-21.76 9.173333 3.072 17.322667 9.386667 25.344 15.616 2.261333 1.749333 4.522667 3.498667 6.741333 5.12 7.210667 5.376 13.525333 5.546667 19.2-1.450667a23.338667 23.338667 0 0 0-1.962666-32.682666 87.381333 87.381333 0 0 0-58.410667-23.552c-48.128-1.194667-82.901333 21.888-106.24 62.677333-16.341333 28.458667-21.376 59.477333-16.938667 92.032 3.456 25.472 13.909333 47.232 34.133334 63.573333z" fill="#707070" p-id="4644"></path></svg> 
      </a>
    </li>
    
    <li>
      <a
        href="https://gitee.com/green-citrus"
        target="_blank"
        
        title="Gitee"
        
        rel="me"
      >
          <?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1762076613092" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2602" width="32" height="32" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M690.194 479.706H496.998v0.004c-9.275 0-16.798 7.518-16.8 16.795l-0.016 42h-0.004c-0.002 9.277 7.518 16.799 16.796 16.803h0.004l117.618-0.004c9.277 0 16.8 7.522 16.8 16.8v8.4c0 27.832-22.564 50.398-50.399 50.398h-159.61c-9.277 0-16.797-7.522-16.797-16.8l-0.004-159.597h-0.002c0-27.834 22.562-50.398 50.397-50.4h0.002l235.164 0.002v-0.011c9.275 0 16.794-7.516 16.8-16.789l0.037-41.999h0.011c0.006-9.277-7.512-16.804-16.79-16.81h-0.01l-235.195 0.01c-69.586 0-125.998 56.412-125.998 125.997L329 689.701c0 9.277 7.522 16.8 16.8 16.8h247.796c62.628 0 113.398-50.768 113.398-113.397v-96.599c0-9.277-7.522-16.799-16.8-16.799z" p-id="2603" fill="#515151"></path></svg> 
      </a>
    </li>
    
    <li>
      <a
        href="https://github.com/Amarantos-Arrebol"
        target="_blank"
        
        title="GitHub"
        
        rel="me"
      >
          <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>


 
      </a>
    </li>
    
    <li>
      <a
        href="/index.xml"
        target="_blank"
        
        title="RSS"
        
        rel="me"
      >
          <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-rss" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="5" cy="19" r="1" />
  <path d="M4 4a16 16 0 0 1 16 16" />
  <path d="M4 11a9 9 0 0 1 9 9" />
</svg>


 
      </a>
    </li>
    
  </ol><ol class="menu" id="main-menu">
      
    <li >
      <a
        href="/"
        
      >
           <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>


 
        <span>ä¸»é¡µ</span>
      </a>
    </li>
     
    <li >
      <a
        href="/archives/"
        
      >
           <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>


 
        <span>å½’æ¡£</span>
      </a>
    </li>
     
    <li >
      <a
        href="/search/"
        
      >
           <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>


 
        <span>æœç´¢</span>
      </a>
    </li>
     
    <li >
      <a
        href="/%E6%8A%80%E6%9C%AF%E9%93%BE%E6%8E%A5/"
        
      >
           <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>


 
        <span>æŠ€æœ¯é“¾æ¥</span>
      </a>
    </li>
    
    <li class="menu-bottom-section">
      <ol class="menu"> 
        <li id="dark-mode-toggle">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>


 <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



          <span>æš—è‰²æ¨¡å¼</span>
        </li>
        
      </ol>
    </li>
  </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">ç›®å½•</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ul>
    <li><a href="#ä¸€è¿›ç¨‹">ä¸€ã€è¿›ç¨‹</a>
      <ul>
        <li><a href="#11è¿›ç¨‹æ¦‚å¿µ">1.1è¿›ç¨‹æ¦‚å¿µ</a>
          <ul>
            <li><a href="#111å†¯è¯ºä¾æ›¼ä½“ç³»ç»“æ„">1.1.1å†¯è¯ºä¾æ›¼ä½“ç³»ç»“æ„</a></li>
            <li><a href="#112è½¯ä»¶è¿è¡Œå¿…é¡»å…ˆåŠ è½½åˆ°å†…å­˜">1.1.2è½¯ä»¶è¿è¡Œï¼Œå¿…é¡»å…ˆåŠ è½½åˆ°å†…å­˜</a></li>
            <li><a href="#113-ç†è§£æ•°æ®æµåŠ¨">1.1.3 ç†è§£æ•°æ®æµåŠ¨</a></li>
            <li><a href="#114-æ“ä½œç³»ç»Ÿ">1.1.4 æ“ä½œç³»ç»Ÿ</a>
              <ul>
                <li><a href="#æ“ä½œç³»ç»ŸåŸºæœ¬ä»‹ç»">æ“ä½œç³»ç»ŸåŸºæœ¬ä»‹ç»</a></li>
                <li><a href="#è®¾è®¡osçš„ç›®çš„"><strong>è®¾è®¡OSçš„ç›®çš„</strong></a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#12-è¿›ç¨‹">1.2 è¿›ç¨‹</a>
          <ul>
            <li><a href="#121-æ¦‚å¿µ">1.2.1 æ¦‚å¿µ</a></li>
            <li><a href="#622-task_"><strong>6.2.2 task_struct</strong></a></li>
            <li><a href="#623-æŸ¥çœ‹è¿›ç¨‹">6.2.3 æŸ¥çœ‹è¿›ç¨‹</a>
              <ul>
                <li><a href="#getpidæŸ¥çœ‹è¿›ç¨‹id">getpid()æŸ¥çœ‹è¿›ç¨‹id</a></li>
                <li><a href="#é€šè¿‡æ–‡ä»¶å»æŸ¥çœ‹è¿›ç¨‹">é€šè¿‡æ–‡ä»¶å»æŸ¥çœ‹è¿›ç¨‹</a></li>
                <li><a href="#getppidæŸ¥çœ‹çˆ¶è¿›ç¨‹">getppid()æŸ¥çœ‹çˆ¶è¿›ç¨‹</a></li>
                <li><a href="#forkå‡½æ•°åˆ›å»ºå­è¿›ç¨‹">forkå‡½æ•°åˆ›å»ºå­è¿›ç¨‹</a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#13è¿›ç¨‹çš„çŠ¶æ€"><strong>1.3</strong>è¿›ç¨‹çš„çŠ¶æ€</a>
          <ul>
            <li><a href="#631è¿›ç¨‹çŠ¶æ€åŸºæœ¬ä»‹ç»">6.3.1è¿›ç¨‹çŠ¶æ€åŸºæœ¬ä»‹ç»</a>
              <ul>
                <li><a href="#è¿è¡Œé˜»å¡æŒ‚èµ·">è¿è¡Œ&amp;&amp;é˜»å¡&amp;&amp;æŒ‚èµ·</a></li>
                <li><a href="#ç†è§£å†…æ ¸é“¾è¡¨">ç†è§£å†…æ ¸é“¾è¡¨</a></li>
                <li><a href="#è¿›ç¨‹çŠ¶æ€æŸ¥çœ‹çš„å‘½ä»¤">è¿›ç¨‹çŠ¶æ€æŸ¥çœ‹çš„å‘½ä»¤</a></li>
                <li><a href="#linuxçš„è¿›ç¨‹çŠ¶æ€">Linuxçš„è¿›ç¨‹çŠ¶æ€</a></li>
                <li><a href="#æ€»ç»“">æ€»ç»“</a></li>
              </ul>
            </li>
            <li><a href="#632åƒµå°¸è¿›ç¨‹">6.3.2åƒµå°¸è¿›ç¨‹</a></li>
            <li><a href="#633å­¤å„¿è¿›ç¨‹">6.3.3å­¤å„¿è¿›ç¨‹</a></li>
          </ul>
        </li>
        <li><a href="#14è¿›ç¨‹çš„ä¼˜å…ˆçº§">1.4è¿›ç¨‹çš„ä¼˜å…ˆçº§</a>
          <ul>
            <li><a href="#641åŸºæœ¬æ¦‚å¿µ">6.4.1åŸºæœ¬æ¦‚å¿µ</a></li>
            <li><a href="#642æŸ¥çœ‹ç³»ç»Ÿè¿›ç¨‹">6.4.2æŸ¥çœ‹ç³»ç»Ÿè¿›ç¨‹</a></li>
            <li><a href="#643priå’Œni">6.4.3PRIå’ŒNI</a></li>
            <li><a href="#644è¡¥å……-è¿›ç¨‹å››ä¸ªç‰¹å¾">6.4.4è¡¥å……: è¿›ç¨‹å››ä¸ªç‰¹å¾</a></li>
          </ul>
        </li>
        <li><a href="#15è¿›ç¨‹åˆ‡æ¢">1.5è¿›ç¨‹åˆ‡æ¢</a>
          <ul>
            <li><a href="#651æ­»å¾ªç¯è¿›ç¨‹å¦‚ä½•è¿è¡Œ">6.5.1æ­»å¾ªç¯è¿›ç¨‹å¦‚ä½•è¿è¡Œ</a></li>
            <li><a href="#652cpuå¯„å­˜å™¨">6.5.2CPUï¼Œå¯„å­˜å™¨</a></li>
            <li><a href="#653è¿›ç¨‹æ˜¯å¦‚ä½•åˆ‡æ¢çš„">6.5.3è¿›ç¨‹æ˜¯å¦‚ä½•åˆ‡æ¢çš„ï¼Ÿ</a></li>
          </ul>
        </li>
        <li><a href="#16linux26å†…æ ¸è¿›ç¨‹oè°ƒåº¦é˜Ÿåˆ—">1.6Linux2.6å†…æ ¸è¿›ç¨‹Oè°ƒåº¦é˜Ÿåˆ—</a>
          <ul>
            <li><a href="#æ´»åŠ¨é˜Ÿåˆ—">æ´»åŠ¨é˜Ÿåˆ—</a></li>
            <li><a href="#è¿‡æœŸé˜Ÿåˆ—">è¿‡æœŸé˜Ÿåˆ—</a></li>
            <li><a href="#æ€»ç»“-1">æ€»ç»“</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#äºŒç¯å¢ƒå˜é‡">äºŒã€ç¯å¢ƒå˜é‡</a>
      <ul>
        <li><a href="#1-å¼•å‡ºç¯å¢ƒå˜é‡">1. å¼•å‡ºç¯å¢ƒå˜é‡</a>
          <ul>
            <li><a href="#11å‘½ä»¤è¡Œå‚æ•°">1.1å‘½ä»¤è¡Œå‚æ•°</a></li>
            <li><a href="#12ç¯å¢ƒå˜é‡ä¸å‘½ä»¤æŸ¥æ‰¾">1.2ç¯å¢ƒå˜é‡ä¸å‘½ä»¤æŸ¥æ‰¾</a></li>
          </ul>
        </li>
        <li><a href="#2æŸ¥çœ‹æ–°å¢ç¯å¢ƒå˜é‡">2.æŸ¥çœ‹ã€æ–°å¢ç¯å¢ƒå˜é‡</a>
          <ul>
            <li><a href="#21æ˜¾ç¤ºç³»ç»Ÿä¸­æ‰€æœ‰ç¯å¢ƒå˜é‡">2.1æ˜¾ç¤ºç³»ç»Ÿä¸­æ‰€æœ‰ç¯å¢ƒå˜é‡</a></li>
            <li><a href="#22æŸ¥çœ‹æŸä¸€ä¸ªç¯å¢ƒå˜é‡çš„å†…å®¹">2.2æŸ¥çœ‹æŸä¸€ä¸ªç¯å¢ƒå˜é‡çš„å†…å®¹</a></li>
            <li><a href="#23pathç¯å¢ƒå˜é‡">2.3PATHç¯å¢ƒå˜é‡</a></li>
            <li><a href="#24è®¾ç½®ä¸€ä¸ªæ–°çš„ç¯å¢ƒå˜é‡">2.4è®¾ç½®ä¸€ä¸ªæ–°çš„ç¯å¢ƒå˜é‡</a></li>
          </ul>
        </li>
        <li><a href="#2ç¯å¢ƒå˜é‡çš„ç†è§£">2.ç¯å¢ƒå˜é‡çš„ç†è§£</a>
          <ul>
            <li><a href="#21å¦‚ä½•ç†è§£ç¯å¢ƒå˜é‡">2.1å¦‚ä½•ç†è§£ç¯å¢ƒå˜é‡</a></li>
            <li><a href="#22ç¯å¢ƒå˜é‡ä»å“ªæ¥">2.2ç¯å¢ƒå˜é‡ä»å“ªæ¥ï¼Ÿ</a></li>
          </ul>
        </li>
        <li><a href="#3å¸¸è§ç¯å¢ƒå˜é‡">3.å¸¸è§ç¯å¢ƒå˜é‡</a></li>
        <li><a href="#4è·å–ç¯å¢ƒå˜é‡">4.è·å–ç¯å¢ƒå˜é‡</a>
          <ul>
            <li>
              <ul>
                <li><a href="#æ–¹æ³•1mainå‡½æ•°å‚æ•°">æ–¹æ³•1ï¼šmainå‡½æ•°å‚æ•°</a></li>
                <li><a href="#æ–¹æ³•2getenv">æ–¹æ³•2ï¼šgetenv</a></li>
                <li><a href="#æ–¹æ³•3environ">æ–¹æ³•3ï¼šenviron</a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#5æœ¬åœ°å˜é‡ä¸ç¯å¢ƒå˜é‡">5.æœ¬åœ°å˜é‡ä¸ç¯å¢ƒå˜é‡</a></li>
        <li><a href="#6-è¿›ç¨‹åœ°å€ç©ºé—´åˆè¯†">6. è¿›ç¨‹åœ°å€ç©ºé—´åˆè¯†</a></li>
      </ul>
    </li>
    <li><a href="#ä¸‰è¿›ç¨‹åœ°å€ç©ºé—´">ä¸‰ã€è¿›ç¨‹åœ°å€ç©ºé—´</a>
      <ul>
        <li><a href="#1å¼•å…¥æ–°æ¦‚å¿µ">1.å¼•å…¥æ–°æ¦‚å¿µ</a>
          <ul>
            <li><a href="#11-ä¸€ä¸ªè¿›ç¨‹ä¸€ä¸ªè™šæ‹Ÿåœ°å€ç©ºé—´">1.1 ä¸€ä¸ªè¿›ç¨‹ï¼Œä¸€ä¸ªè™šæ‹Ÿåœ°å€ç©ºé—´</a></li>
            <li><a href="#12ä¸€ä¸ªè¿›ç¨‹ä¸€å¥—é¡µè¡¨">1.2ä¸€ä¸ªè¿›ç¨‹ï¼Œä¸€å¥—é¡µè¡¨</a></li>
            <li><a href="#13é¡µè¡¨æ˜¯ç”¨æ¥åšè™šæ‹Ÿåœ°å€å’Œç‰©ç†åœ°å€æ˜ å°„çš„">1.3é¡µè¡¨æ˜¯ç”¨æ¥åšè™šæ‹Ÿåœ°å€å’Œç‰©ç†åœ°å€æ˜ å°„çš„</a></li>
          </ul>
        </li>
        <li><a href="#2è™šæ‹Ÿåœ°å€ä¸è¿›ç¨‹åœ°å€ç©ºé—´">2.è™šæ‹Ÿåœ°å€ä¸è¿›ç¨‹åœ°å€ç©ºé—´</a>
          <ul>
            <li><a href="#21è™šæ‹Ÿåœ°å€ç©ºé—´æ˜¯ä»€ä¹ˆ">2.1è™šæ‹Ÿåœ°å€ç©ºé—´æ˜¯ä»€ä¹ˆï¼Ÿ</a></li>
            <li><a href="#22å¦‚ä½•æè¿°è™šæ‹Ÿåœ°å€ç©ºé—´">2.2å¦‚ä½•æè¿°è™šæ‹Ÿåœ°å€ç©ºé—´</a></li>
            <li><a href="#23ä¸ºä»€ä¹ˆè¦æœ‰è¿›ç¨‹åœ°å€ç©ºé—´">2.3ä¸ºä»€ä¹ˆè¦æœ‰è¿›ç¨‹åœ°å€ç©ºé—´</a></li>
            <li><a href="#æ€»ç»“-2">æ€»ç»“</a></li>
          </ul>
        </li>
        <li><a href="#3åœ°å€ç©ºé—´çš„ç»„ç»‡æ–¹å¼">3.åœ°å€ç©ºé—´çš„ç»„ç»‡æ–¹å¼</a></li>
      </ul>
    </li>
  </ul>
</nav>
        </div>
    </section>

            
        
        
        
        <div id="back-to-top">
            <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg">
                <path d="M512 298.666667l-298.666667 310.912L283.52 682.666667 512 445.312 740.48 682.666667 810.666667 609.578667z"></path>
            </svg>
        </div>
    </aside>



<script>
(function() {
    const backToTopButton = document.getElementById('back-to-top');
    if (!backToTopButton) return;
    
    
    window.addEventListener('scroll', function() {
        if (window.pageYOffset > 300) {
            backToTopButton.classList.add('show');
        } else {
            backToTopButton.classList.remove('show');
        }
    });
    
    
    backToTopButton.addEventListener('click', function() {
        window.scrollTo({
            top: 0,
            behavior: 'smooth'
        });
    });
})();
</script>


            <main class="main full-width">
    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="/p/linux-process-basic/">
                <img src="/p/linux-process-basic/%E3%80%90%E5%93%B2%E9%A3%8E%E5%A3%81%E7%BA%B8%E3%80%91%E5%9F%8E%E5%B8%82-%E5%A4%95%E9%98%B3_hu_f8a80488315bd5f9.png"
                        srcset="/p/linux-process-basic/%E3%80%90%E5%93%B2%E9%A3%8E%E5%A3%81%E7%BA%B8%E3%80%91%E5%9F%8E%E5%B8%82-%E5%A4%95%E9%98%B3_hu_f8a80488315bd5f9.png 800w, /p/linux-process-basic/%E3%80%90%E5%93%B2%E9%A3%8E%E5%A3%81%E7%BA%B8%E3%80%91%E5%9F%8E%E5%B8%82-%E5%A4%95%E9%98%B3_hu_a76c8c5ca0be0093.png 1600w"
                        width="800" 
                        height="450" 
                        loading="lazy"
                        alt="Featured image of post ã€Linuxç³»ç»Ÿç¼–ç¨‹ã€‘03è¿›ç¨‹çš„æ¦‚å¿µ" />
                
            </a>
        </div>
    

    <div class="article-details">
  
  <header class="article-category">
    
    <a
      href="/categories/linux%E7%B3%BB%E7%BB%9F%E7%BC%96%E7%A8%8B/"
      style="background-color: #77ACF1; color: #fff;"
    >
      Linuxç³»ç»Ÿç¼–ç¨‹
    </a>
    
    <a
      href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"
      style="background-color: #B7A3E3; color: #fff;"
    >
      å­¦ä¹ ç¬”è®°
    </a>
    
  </header>
  

  <div class="article-title-wrapper">
    <h2 class="article-title">
      <a href="/p/linux-process-basic/">ã€Linuxç³»ç»Ÿç¼–ç¨‹ã€‘03è¿›ç¨‹çš„æ¦‚å¿µ</a>
    </h2>
    
    <h3 class="article-subtitle">ç†è§£è¿›ç¨‹ã€ç¯å¢ƒå˜é‡ä¸åœ°å€ç©ºé—´</h3>
    
  </div>

   
   
   
  
  <footer class="article-time">
    
    
    <div class="article-time-item">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
      <time class="article-time--published">2025-11-02</time>
    </div>

    <span class="article-time-divider">|</span>
    <div class="article-time-item"> 
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-file-pencil"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M14 3v4a1 1 0 0 0 1 1h4" /><path d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z" /><path d="M10 18l5 -5a1.414 1.414 0 0 0 -2 -2l-5 5v2h2z" /></svg> 
      <time>
        2025-12-10
      </time>
    </div>
    <span class="article-time-divider">|</span><div class="article-time-item">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-file-word"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M14 3v4a1 1 0 0 0 1 1h4" /><path d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2" /><path d="M9 12l1.333 5l1.667 -4l1.667 4l1.333 -5" /></svg>
      <span class="article-time--wordcount">17040 å­— </span>
    </div>
     

    
    
  </footer>
   

  
</div>
</header>

    <section class="article-content">
    
    
    <h1 id="ä¸€è¿›ç¨‹">ä¸€ã€è¿›ç¨‹
</h1><p>åˆ›å»ºè¿›ç¨‹æ—¶ï¼Œè¦æœ‰å¯¹åº”çš„task_structæ¥æè¿°è¿›ç¨‹</p>
<p>è€Œæ¯ä¸€ä¸ªtask_structæœ€ç»ˆéƒ½è¦å¯¹åº”ä¸€ä¸ªè™šæ‹Ÿåœ°å€ç©ºé—´</p>
<h2 id="11è¿›ç¨‹æ¦‚å¿µ">1.1è¿›ç¨‹æ¦‚å¿µ
</h2><h3 id="111å†¯è¯ºä¾æ›¼ä½“ç³»ç»“æ„">1.1.1å†¯è¯ºä¾æ›¼ä½“ç³»ç»“æ„
</h3><p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250910092624351.png"
	width="888"
	height="432"
	
	loading="lazy"
	
		alt="image-20250910092624351"
	
	
		class="gallery-image" 
		data-flex-grow="205"
		data-flex-basis="493px"
	
></p>
<blockquote>
<p>è¾“å…¥è®¾å¤‡ï¼šé”®ç›˜ï¼Œé¼ æ ‡ï¼Œè¯ç­’ï¼Œæ‘„åƒå¤´&hellip;ç½‘å¡ï¼Œç£ç›˜</p>
<p>è¾“å‡ºè®¾å¤‡ï¼šæ˜¾ç¤ºå™¨ï¼Œç£ç›˜ï¼Œç½‘å¡ï¼Œæ‰“å°æœº&hellip;</p>
</blockquote>
<p><strong>åœ¨å†¯è¯ºä¾æ›¼ä½“ç³»ä¸­ï¼Œç»Ÿä¸€æŠŠè¾“å…¥è¾“å‡ºè®¾å¤‡ç§°ä¸ºå¤–è®¾</strong></p>
<ul>
<li>
<p>è¾“å…¥è®¾å¤‡ï¼šå°†å¤–è®¾çš„æ•°æ®è¯»åˆ°å†…å­˜é‡Œ</p>
</li>
<li>
<p>è¾“å‡ºè®¾å¤‡ï¼šæŠŠå†…å­˜çš„æ•°æ®è¾“å‡ºåˆ°å¤–è®¾ä¸­</p>
</li>
<li>
<p><mark>ç£ç›˜å’Œç½‘å¡</mark> æ—¢æ˜¯è¾“å…¥è®¾å¤‡ä¹Ÿæ˜¯è¾“å‡ºè®¾å¤‡ï¼š</p>
<p>è¯»å–æ–‡ä»¶å°±æ˜¯æŠŠç£ç›˜ä¸­çš„æ•°æ®è¯»åˆ°å†…å­˜é‡Œï¼›</p>
<p>å†™æ–‡ä»¶å°±æ˜¯æŠŠå†…å­˜é‡Œçš„æ•°æ®å†™åˆ°ç£ç›˜ä¸Š</p>
<p>Input/Output &mdash;&gt;IO</p>
</li>
<li>
<p>ç«™åœ¨å†…å­˜çš„è§’åº¦ï¼Œå¤–è®¾æŠŠæ•°æ®äº¤ç»™æˆ‘ï¼ˆå†…å­˜ï¼‰&mdash;&gt;Input</p>
<p>æˆ‘(å†…å­˜)æŠŠæ•°æ®äº¤ç»™è¾“å‡ºè®¾å¤‡&mdash;&ndash;&gt;Output</p>
</li>
</ul>
<p><strong>CPU=è¿ç®—å™¨+æ§åˆ¶å™¨</strong></p>
<blockquote>
<p>ç®—æœ¯è¿ç®—ï¼ˆ+-*/ç­‰ï¼‰ï¼Œé€»è¾‘è¿ç®—ï¼ˆçœŸå‡ï¼‰</p>
<p>æ§åˆ¶å™¨ä¸»è¦æ˜¯æ§åˆ¶CPUå»å–æŒ‡ä»¤ï¼Œåˆ†ææŒ‡ä»¤ï¼Œæ‰§è¡ŒæŒ‡ä»¤</p>
<p>æˆ‘ä»¬æŠŠCPUä¹Ÿå«åšä¸­å¤®å¤„ç†å™¨</p>
</blockquote>
<p><strong>å­˜å‚¨å™¨ï¼šå†…å­˜</strong></p>
<blockquote>
<p>ç£ç›˜ï¼šå¤–å­˜</p>
</blockquote>
<h3 id="112è½¯ä»¶è¿è¡Œå¿…é¡»å…ˆåŠ è½½åˆ°å†…å­˜">1.1.2è½¯ä»¶è¿è¡Œï¼Œå¿…é¡»å…ˆåŠ è½½åˆ°å†…å­˜
</h3><ol>
<li>
<p><strong>è½¯ä»¶è¿è¡Œï¼Œå¿…é¡»å…ˆåŠ è½½åˆ°å†…å­˜ã€‚ç¨‹åºè¿è¡Œä¹‹å‰ï¼Œåœ¨å“ªé‡Œï¼Ÿ</strong></p>
<p>ç£ç›˜ã€‚ç¨‹åºå°±æ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œæ˜¯ç¼–è¯‘å¥½çš„åœ¨ç£ç›˜ç‰¹å®šè·¯å¾„ä¸‹çš„äºŒè¿›åˆ¶æ–‡ä»¶</p>
</li>
<li>
<p><strong>ä¸ºä»€ä¹ˆç¨‹åºè¿è¡Œçš„æ—¶å€™è¦<mark>å…ˆå°†ç¨‹åºåŠ è½½åˆ°å†…å­˜</mark>ï¼Ÿ</strong> &mdash;&ndash;&gt; ä½“ç³»ç»“æ„è§„å®š</p>
<p>CPUè·å–ï¼Œå†™å…¥ï¼Œåªèƒ½ä»å†…å­˜ä¸­æ¥è¿›è¡Œ</p>
</li>
<li>
<p><strong><mark>è½¯ä»¶è¿è¡Œ å®é™…ä¸Šæ˜¯CPUæ‰§è¡Œæˆ‘ä»¬çš„ä»£ç ï¼Œè®¿é—®æˆ‘ä»¬çš„æ•°æ®</mark></strong></p>
<p>CPUæ— æ³•ç›´æ¥ä»å¤–è®¾è¯»å–æ•°æ®ï¼Œæ‰€ä»¥å¿…é¡»å…ˆå°†æ•°æ®åŠ è½½åˆ°å†…å­˜</p>
<p>è¿™æ—¶ï¼Œæˆ‘ä»¬çš„ç¨‹åºæ‰èƒ½è¢«CPUè®¿é—®åˆ°</p>
<blockquote>
<p>æ‰§è¡Œprintfçš„æ—¶å€™æ˜¯å…ˆä»CPUå¤„ç†å®Œåï¼Œæ”¾åˆ°å†…å­˜çš„ç¼“å†²åŒºé‡Œï¼Œç„¶åéœ€è¦çš„æ—¶å€™å†æŠŠæ•°æ®åˆ·æ–°åˆ°å¤–è®¾</p>
</blockquote>
</li>
<li>
<p><strong>æ•°æ®æµåŠ¨çš„æœ¬è´¨â€”â€”æ•°æ®æ˜¯ä»ä¸€ä¸ªè®¾å¤‡â€æ‹·è´â€œåˆ°å¦ä¸€ä¸ªæ•°æ®</strong></p>
<p>ä½“ç³»ç»“æ„çš„æ•ˆç‡ï¼šç”±è®¾å¤‡çš„æ‹·è´æ•ˆç‡å†³å®š</p>
</li>
</ol>
<p><mark><strong>ç»“è®ºï¼šåœ¨æ•°æ®å±‚é¢ï¼ŒCPUåªå’Œå†…å­˜æ‰“äº¤é“ï¼Œå¤–è®¾åªå’Œå†…å­˜æ‰“äº¤é“</strong></mark></p>
<p><strong>å­˜å‚¨åˆ†çº§ï¼šç¦»CPUè¶Šè¿‘ï¼Œæ•ˆç‡è¶Šé«˜ï¼Œå®¹é‡è¶Šå°</strong></p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/1732629388338.png"
	width="1824"
	height="1034"
	
	loading="lazy"
	
		alt="73262938833"
	
	
		class="gallery-image" 
		data-flex-grow="176"
		data-flex-basis="423px"
	
></p>
<p><strong>ä¸ºä»€ä¹ˆä¸æŒ‰ç…§ä¸‹é¢çš„æ–¹å¼è®¾è®¡è®¡ç®—æœºå‘¢ï¼Ÿ</strong></p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/1732627764668.png"
	width="922"
	height="333"
	
	loading="lazy"
	
		alt="73262776466"
	
	
		class="gallery-image" 
		data-flex-grow="276"
		data-flex-basis="664px"
	
></p>
<p>ç”±äºCPUå¤„ç†æ•°æ®éå¸¸å¿«ï¼Œå¤–è®¾çš„å¤„ç†æ•°æ®æ¯”è¾ƒæ…¢ï¼Œå¦‚æœé‡‡ç”¨è¿™ç§ç»“æ„</p>
<p>é‚£ä¹ˆæ•´ä¸ªä½“ç³»ç»“æ„çš„æ•ˆç‡å°±å®Œå…¨ç”±å¤–è®¾çš„æ•ˆç‡å†³å®šäº†</p>
<p>æ‰€ä»¥å¼•å…¥å†…å­˜</p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/1732628882412.png"
	width="843"
	height="438"
	
	loading="lazy"
	
		alt="73262888241"
	
	
		class="gallery-image" 
		data-flex-grow="192"
		data-flex-basis="461px"
	
></p>
<p>å†…å­˜å’ŒCPUï¼Œå¤–è®¾éƒ½èƒ½æ¯”è¾ƒå¥½åœ°é€‚é…</p>
<blockquote>
<p>æ“ä½œç³»ç»Ÿèƒ½æå‰å°†è¾“å…¥è®¾å¤‡é‡Œçš„æ•°æ®æ¬åˆ°å†…å­˜é‡Œ</p>
</blockquote>
<p>æœ‰äº†å†…å­˜ï¼Œä½¿å½“ä»£è®¡ç®—æœºï¼Œæ˜¯æ€§ä»·æ¯”çš„äº§ç‰©</p>
<p>åæ¥ï¼ŒèŠ¯ç‰‡æŠ€æœ¯+æ‘©å°”å®šå¾‹</p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/1732769208301.png"
	width="980"
	height="206"
	
	loading="lazy"
	
		alt="73276920830"
	
	
		class="gallery-image" 
		data-flex-grow="475"
		data-flex-basis="1141px"
	
></p>
<h3 id="113-ç†è§£æ•°æ®æµåŠ¨">1.1.3 ç†è§£æ•°æ®æµåŠ¨
</h3><p><strong>æ•°æ®æµåŠ¨çš„æœ¬è´¨å°±æ˜¯åœ¨å†¯è¯ºä¾æ›¼ä½“ç³»ç»“æ„ä¸­è¿›è¡ŒæµåŠ¨</strong></p>
<p>ä¸¾ä¾‹ï¼š</p>
<p><strong>1.QQèŠå¤©</strong></p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/1732769677391.png"
	width="1591"
	height="459"
	
	loading="lazy"
	
		alt="73276967739"
	
	
		class="gallery-image" 
		data-flex-grow="346"
		data-flex-basis="831px"
	
></p>
<p>ç”¨æˆ·ä»é”®ç›˜è¾“å…¥ï¼Œé¦–å…ˆè¦æ‰“å¼€QQè¿™ä¸ªè½¯ä»¶ï¼Œéœ€è¦å°†QQè¿™ä¸ªè½¯ä»¶åŠ è½½åˆ°å†…å­˜ï¼ŒæŠŠé”®ç›˜</p>
<p>æ•°æ®æ¬åˆ°å†…å­˜ï¼Œä½ çš„æ¶ˆæ¯éœ€è¦ç»è¿‡è¿ç®—å™¨æ§åˆ¶ï¼ˆåŠ å¯†ã€å°åŒ…&hellip;ï¼‰ï¼Œç„¶åç”±CPUå†™å›å†…å­˜</p>
<p>å†é€šè¿‡QQå°†æ•°æ®é€åˆ°è‡ªå·±çš„ä½“ç³»ç»“æ„çš„è¾“å‡ºè®¾å¤‡ï¼ˆç½‘å¡ï¼‰</p>
<p>ç½‘å¡å°†æ•°æ®äº¤åˆ°ç½‘ç»œé‡Œï¼Œä¸€å®šä¼šäº¤åˆ°æœ‹å‹çš„é‚£å°æœºå™¨ï¼Œç”±æœ‹å‹çš„è¾“å…¥è®¾å¤‡ï¼ˆç½‘å¡ï¼‰</p>
<p>æ¥æ¥æ”¶ï¼Œæœ‹å‹çš„QQä¹Ÿä¸€å®šå¾—å¯åŠ¨èµ·æ¥åŠ è½½åˆ°å†…å­˜ï¼ŒæŠŠæ•°æ®ä»å¤–è®¾æ¬åˆ°å†…å­˜ï¼Œåœ¨QQ</p>
<p>å†…éƒ¨æ‰§è¡Œæ‰€æœ‰çš„ä»£ç ï¼ˆå°†è¯»åˆ°çš„æ•°æ®äº¤ç»™CPUï¼Œæ¯”å¦‚åšè§£å¯†ï¼Œç„¶åå†äº¤ç»™å†…å­˜ï¼‰ï¼Œç”±</p>
<p>å­˜å‚¨å™¨åˆ·æ–°åˆ°è¾“å‡ºè®¾å¤‡ï¼ˆæ˜¾ç¤ºå™¨ï¼‰</p>
<p><strong>2.å‘é€æ–‡ä»¶</strong></p>
<p>æ–‡ä»¶æ˜¯åœ¨ç£ç›˜ä¸Šçš„ï¼Œå½“æˆ‘ä»¬å°†æ–‡ä»¶æ‹–æ‹½åˆ°QQä¸­ï¼Œæœ¬è´¨ä¸Šæ˜¯å°†ç£ç›˜æ–‡ä»¶æ‹·è´åˆ°QQï¼Œå³</p>
<p>æ¬åˆ°å†…å­˜é‡Œï¼Œç»è¿‡CPUçš„åŠ å¯†å°è£…&hellip;ç­‰ï¼Œç„¶åå†å†™å›åˆ°å­˜å‚¨å™¨ï¼ˆå†…å­˜ï¼‰ï¼Œå†å°†æˆ‘ä»¬çš„</p>
<p>æ–‡ä»¶æ•°æ®åˆ·æ–°åˆ°ç½‘å¡ï¼Œç»è¿‡ç½‘å¡ï¼Œå¯¹æ–¹ç½‘å¡æ¥æ”¶ï¼Œè¯»åˆ°å†…å­˜ï¼Œç»è¿‡CPUè§£åŒ…è§£å¯†ï¼Œå†™å›</p>
<p>åˆ°å†…å­˜ï¼Œæ‰“å¼€å¯¹åº”ç›®æ ‡æ–‡ä»¶ï¼Œç„¶åæŠŠæ•°æ®å†™å…¥åˆ°è¾“å‡ºè®¾å¤‡ï¼ˆç£ç›˜ï¼‰</p>
<h3 id="114-æ“ä½œç³»ç»Ÿ">1.1.4 æ“ä½œç³»ç»Ÿ
</h3><h4 id="æ“ä½œç³»ç»ŸåŸºæœ¬ä»‹ç»">æ“ä½œç³»ç»ŸåŸºæœ¬ä»‹ç»
</h4><p>ä¸€ä¸ªåŸºæœ¬çš„ç¨‹åºé›†åˆï¼Œç§°ä¸ºæ“ä½œç³»ç»Ÿï¼ˆOSï¼‰</p>
<p>æ“ä½œç³»ç»Ÿæ˜¯ä¸€æ¬¾<strong>è¿›è¡Œè½¯ç¡¬ä»¶ç®¡ç†</strong>çš„<mark>è½¯ä»¶</mark></p>
<p><strong>æ“ä½œç³»ç»ŸåŒ…æ‹¬ï¼š</strong></p>
<p><strong>å†…æ ¸</strong>ï¼ˆè¿›ç¨‹ç®¡ç†ï¼Œå†…å­˜ç®¡ç†ï¼Œæ–‡ä»¶ç®¡ç†ï¼Œé©±åŠ¨ç®¡ç†ï¼‰</p>
<p><strong>å…¶å®ƒç¨‹åº</strong>ï¼ˆä¾‹å¦‚å‡½æ•°åº“ï¼Œshellç¨‹åºï¼‰</p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250910094856748.png"
	width="1150"
	height="576"
	
	loading="lazy"
	
		alt="image-20250910094856748"
	
	
		class="gallery-image" 
		data-flex-grow="199"
		data-flex-basis="479px"
	
></p>
<h4 id="è®¾è®¡osçš„ç›®çš„"><strong>è®¾è®¡OSçš„ç›®çš„</strong>
</h4><p>ä¸ºç”¨æˆ·ç¨‹åºæä¾›ä¸€ä¸ªè‰¯å¥½çš„æ‰§è¡Œç¯å¢ƒ</p>
<p><strong>ç¡¬ä»¶éƒ¨åˆ†</strong></p>
<p>æœ€åº•å±‚æ˜¯ç¡¬ä»¶ï¼Œè€Œç¡¬ä»¶åœ¨é€»è¾‘ä¸Šæ˜¯æŒ‰ç…§å†¯è¯ºä¾æ›¼ç»“æ„ç»„ç»‡çš„</p>
<p>æ¯ä¸€ç§ç¡¬ä»¶éƒ½æœ‰å¯¹åº”çš„é©±åŠ¨ç¨‹åº</p>
<p><strong>é©±åŠ¨ç¨‹åº</strong></p>
<p>åœ¨ç¡¬ä»¶å±‚é¢ï¼Œä¸åŒçš„ç¡¬ä»¶éƒ½æœ‰è‡ªå·±ä¸ªæ€§åŒ–çš„è¯»å–æ–¹å¼ï¼Œæ‰€ä»¥æˆ‘ä»¬è®¿é—®å„ç§ä¸åŒçš„ç¡¬ä»¶éƒ½è¦é…ä¸Šé©±åŠ¨ç¨‹åº</p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250910095228256.png"
	width="1023"
	height="888"
	
	loading="lazy"
	
		alt="image-20250910095228256"
	
	
		class="gallery-image" 
		data-flex-grow="115"
		data-flex-basis="276px"
	
></p>
<p><strong>æ“ä½œç³»ç»Ÿ</strong></p>
<p>å¯¹ä¸‹ï¼Œä¸è½¯ç¡¬ä»¶äº¤äº’ï¼Œç®¡ç†æ‰€æœ‰è½¯ç¡¬ä»¶èµ„æºï¼ˆä¸æ˜¯ç›®çš„ï¼Œæ˜¯æ‰‹æ®µï¼‰</p>
<p>å¯¹ä¸Šï¼Œä¸ºç”¨æˆ·ï¼ˆç›®çš„ï¼‰ç¨‹åºï¼ˆåº”ç”¨ç¨‹åºï¼‰æä¾›ä¸€ä¸ªè‰¯å¥½çš„æ‰§è¡Œç¯å¢ƒ</p>
<p><strong>1.è½¯ç¡¬ä»¶ä½“ç³»ç»“æ„å±‚çŠ¶ç»“æ„ &ndash; ä»ç¡¬ä»¶ä¸€ç›´åˆ°ç”¨æˆ·</strong></p>
<blockquote>
<p>ç¡¬ä»¶æ˜¯ä¸€å±‚ï¼Œé©±åŠ¨ç¨‹åºæ˜¯ä¸€å±‚ï¼Œæ“ä½œç³»ç»Ÿæ˜¯ä¸€å±‚</p>
<p>è½¯ä»¶çš„å±‚çŠ¶ç»“æ„ï¼šåœ¨è½¯ä»¶åŠŸèƒ½ä¸Šä½“ç°é«˜å†…èšï¼Œä½è€¦åˆ</p>
<ul>
<li>é«˜å†…èšï¼šå°†ç›¸åŒåŠŸèƒ½ç›¸åŒé€»è¾‘çš„ä»£ç æ•°æ®æ”¾åˆ°åŒä¸€å±‚çš„å†…éƒ¨</li>
<li>ä½è€¦åˆï¼šå±‚è·Ÿå±‚ä¹‹é—´åªä½¿ç”¨æ¥å£æ¥è°ƒç”¨</li>
</ul>
<p>ç›®çš„ï¼šæé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§ &ndash;ä¸€ä¸ªæ¨¡å—ä¿®æ”¹äº†ï¼Œä¸å½±å“å¦ä¸€ä¸ªæ¨¡å—</p>
</blockquote>
<p><strong>2.è®¿é—®æ“ä½œç³»ç»Ÿï¼Œå¿…é¡»ä½¿ç”¨ç³»ç»Ÿè°ƒç”¨&ndash;å…¶å®å°±æ˜¯å‡½æ•°ï¼Œåªä¸è¿‡æ˜¯ç³»ç»Ÿæä¾›çš„</strong></p>
<blockquote>
<p>prinfçš„æœ¬è´¨ï¼šæŠŠæ•°æ®å†™åˆ°äº†ç¡¬ä»¶!æ˜¾ç¤ºå™¨!</p>
<p>åº•å±‚å°è£…äº†ç³»ç»Ÿè°ƒç”¨ï¼Œç„¶åé€šè¿‡æ“ä½œç³»ç»Ÿï¼Œå¯¹é©±åŠ¨è¿›è¡Œè®¿é—®ï¼Œè®¿é—®å¯¹åº”é©±åŠ¨ï¼Œç„¶åæ‰èƒ½æŠŠæ•°æ®äº¤åˆ°ç¡¬ä»¶ä¸Š</p>
</blockquote>
<p><strong>3.æˆ‘ä»¬çš„ç¨‹åºï¼Œåªè¦ä½ åˆ¤æ–­å‡ºå®ƒè®¿é—®äº†ç¡¬ä»¶ï¼Œé‚£ä¹ˆå®ƒå¿…é¡»è´¯ç©¿æ•´ä¸ªè½¯ç¡¬ä»¶ä½“ç³»ç»“æ„</strong></p>
<p><strong>4.æˆ‘ä»¬å¹³æ—¶ç”¨çš„åº“å¯èƒ½åœ¨åº•å±‚å°è£…äº†ç³»ç»Ÿè°ƒç”¨</strong></p>
<p><strong>ç†è§£æ“ä½œç³»ç»Ÿ</strong></p>
<ul>
<li>
<p>æ ¸å¿ƒåŠŸèƒ½</p>
<ul>
<li>åœ¨æ•´ä¸ªè®¡ç®—æœºè½¯ç¡¬ä»¶æ¶æ„ä¸­ï¼Œæ“ä½œç³»ç»Ÿæ˜¯ä¸€æ¬¾è¿›è¡Œè½¯ç¡¬ä»¶<span style="color: #8080FF;">ç®¡ç†</span>çš„è½¯ä»¶</li>
</ul>
</li>
<li>
<p>å¦‚ä½•ç†è§£ç®¡ç†ï¼Ÿ</p>
<ul>
<li>
<p>äº‹æƒ…ï¼š1.å†³ç­– 2.æ‰§è¡Œ</p>
</li>
<li>
<p>æ“ä½œç³»ç»Ÿæ‹¥æœ‰å†³ç­–æƒï¼Œé©±åŠ¨ç¨‹åºæ¥æ‰§è¡Œï¼Œç¡¬ä»¶è¢«ç®¡ç†</p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/1736728845182.png"
	width="414"
	height="571"
	
	loading="lazy"
	
		alt="73672884518"
	
	
		class="gallery-image" 
		data-flex-grow="72"
		data-flex-basis="174px"
	
></p>
<p>1.è¦ç®¡ç†ï¼Œç®¡ç†è€…å’Œè¢«ç®¡ç†è€…ï¼Œå¯ä»¥ä¸éœ€è¦è§é¢</p>
<p>2.ç®¡ç†è€…å’Œè¢«ç®¡ç†è€…ï¼Œæ€ä¹ˆç®¡ç†å‘¢ï¼Ÿæ ¹æ®æ•°æ®è¿›è¡Œç®¡ç†</p>
<p>3.ä¸éœ€è¦è§é¢ï¼Œå¦‚ä½•å¾—åˆ°æ•°æ®ï¼Ÿç”±ä¸­é—´å±‚è·å–</p>
</li>
</ul>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250910205552418.png"
	width="1199"
	height="790"
	
	loading="lazy"
	
		alt="image-20250910205552418"
	
	
		class="gallery-image" 
		data-flex-grow="151"
		data-flex-basis="364px"
	
></p>
</li>
</ul>
<p><strong>æ“ä½œç³»ç»Ÿå¦‚ä½•ç®¡ç†ç¡¬ä»¶ï¼Ÿ</strong></p>
<blockquote>
<p>1.æè¿°èµ·æ¥ï¼Œç”¨structç»“æ„ä½“
2.ç»„ç»‡èµ·æ¥ï¼Œç”¨é“¾è¡¨æˆ–å…¶ä»–é«˜æ•ˆçš„æ•°æ®ç»“æ„</p>
</blockquote>
<p>æ¯ä¸€ä¸ªç¡¬ä»¶éƒ½æœ‰ç¡¬ä»¶åï¼Œæ“ä½œç³»ç»Ÿåœ¨å†…éƒ¨ï¼Œ<mark>å…ˆæè¿°ï¼Œå†ç»„ç»‡</mark>ã€‚</p>
<p>æŠŠç½‘å¡ã€ç¡¬ç›˜ã€æ˜¾å¡ã€é”®ç›˜ã€æ˜¾ç¤ºå™¨ç­‰ç»Ÿä¸€ä½¿ç”¨struct deviceå®šä¹‰ä¸€ä¸ªç»“æ„</p>
<p>ç±»é‡Œé¢å¯ä»¥åŒ…å«æ¯ä¸€ç§ç¡¬ä»¶çš„å„ç§å±æ€§ï¼ˆç¡¬ä»¶åç§°ã€çŠ¶æ€ã€ç›¸å…³é“¾æ¥ä¿¡æ¯..ï¼‰</p>
<p>æ¯ä¸€ä¸ªç¡¬ä»¶éƒ½å¯¹åº”ä¸€ä¸ªstruct deviceå¯¹è±¡ï¼ŒæŠŠå¯¹è±¡ç®¡ç†èµ·æ¥ã€‚</p>
<p>æ“ä½œç³»ç»Ÿç®¡ç†ç¡¬ä»¶ &mdash;&gt; å¯¹ç¡¬ä»¶çš„å¢åˆ æŸ¥æ”¹</p>
<blockquote>
<p><strong>æ“ä½œç³»ç»Ÿæ€ä¹ˆå¯¹è¿›ç¨‹è¿›è¡Œç®¡ç†ï¼Ÿ</strong></p>
<p>æ“ä½œç³»ç»Ÿè¦å¯¹æ¯ä¸ªè¿›ç¨‹å®šä¹‰structç»“æ„ä½“ç»“æ„ï¼Œç„¶åå°†è¿›ç¨‹ç›¸å…³çš„å±æ€§æ”¾åˆ°</p>
<p>ç»“æ„ä½“é‡Œï¼Œç”¨é“¾æ¥ç»“ç‚¹å…¨éƒ¨è¿èµ·æ¥ï¼Œè½¬æ¢æˆå¯¹è¿›ç¨‹ç®¡ç†ï¼Œè½¬æ¢æˆå¯¹é“¾è¡¨çš„</p>
<p>å¢åˆ æŸ¥æ”¹</p>
</blockquote>
<p>C++ä¸­ï¼šç±»+STL</p>
<ul>
<li>ç±»è§£å†³äº†å…ˆæè¿°</li>
<li>STLè§£å†³äº†å†ç»„ç»‡</li>
</ul>
<p><strong>ç†è§£ç³»ç»Ÿè°ƒç”¨</strong></p>
<ul>
<li>æ“ä½œç³»ç»Ÿè¦å‘ä¸Šæä¾›å¯¹åº”çš„æœåŠ¡</li>
<li>æ“ä½œç³»ç»Ÿï¼Œä¸ç›¸ä¿¡ä»»ä½•ç”¨æˆ·æˆ–è€…äºº</li>
</ul>
<p>æˆ‘ä»¬æœªæ¥è®¿é—®æ“ä½œç³»ç»Ÿã€è·å–æ“ä½œç³»ç»Ÿå†…çš„æ•°æ®ã€è®¾ç½®è‡ªå·±çš„ä¿¡æ¯ç­‰éƒ½è¦é€šè¿‡ç³»ç»Ÿè°ƒç”¨æ¥å®Œæˆ</p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/1740052959285.png"
	width="1177"
	height="246"
	
	loading="lazy"
	
		alt="74005295928"
	
	
		class="gallery-image" 
		data-flex-grow="478"
		data-flex-basis="1148px"
	
></p>
<p>Linux/windows/macosçš„æ“ä½œç³»ç»Ÿéƒ½æ˜¯Cè¯­è¨€å†™çš„&ndash;&gt;Cå‡½æ•°&ndash;&gt;è¾“å…¥å‚æ•°å’Œè¿”å›å€¼</p>
<ul>
<li>è¾“å…¥å‚æ•°ï¼šç”¨æˆ·ç»™æ“ä½œç³»ç»Ÿ</li>
<li>è¿”å›å€¼ï¼šæ“ä½œç³»ç»Ÿç»™ç”¨æˆ·</li>
</ul>
<p><mark>ç³»ç»Ÿè°ƒç”¨çš„æœ¬è´¨ï¼šç”¨æˆ·å’Œæ“ä½œç³»ç»Ÿä¹‹é—´ï¼Œè¿›è¡ŒæŸç§æ•°æ®äº¤äº’</mark></p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/1736733937738.png"
	width="867"
	height="423"
	
	loading="lazy"
	
		alt="73673393773"
	
	
		class="gallery-image" 
		data-flex-grow="204"
		data-flex-basis="491px"
	
></p>
<blockquote>
<p>åº“å‡½æ•°å¦‚æœè®¿é—®äº†ç¡¬ä»¶ï¼Œé‚£ä¹ˆåº•å±‚ä¸€å®šè®¿é—®äº†ç³»ç»Ÿè°ƒç”¨</p>
</blockquote>
<p><strong>ç³»ç»Ÿè°ƒç”¨å’Œåº“å‡½æ•°</strong></p>
<blockquote>
<p>åœ¨å¼€å‘è§’åº¦ï¼Œæ“ä½œç³»ç»Ÿå¯¹å¤–ä¼šè¡¨ç°ä¸ºä¸€ä¸ªæ•´ä½“ï¼Œä½†æ˜¯ä¼š<strong>æš´éœ²è‡ªå·±çš„éƒ¨åˆ†æ¥å£ï¼Œä¾›ä¸Šå±‚å¼€å‘ä½¿ç”¨</strong>ï¼Œè¿™éƒ¨åˆ†<strong>ç”±æ“ä½œç³»ç»Ÿæä¾›çš„æ¥å£ï¼Œå«åšç³»ç»Ÿè°ƒç”¨</strong>ã€‚</p>
<p>ç³»ç»Ÿè°ƒç”¨åœ¨ä½¿ç”¨ä¸Šï¼ŒåŠŸèƒ½æ¯”è¾ƒåŸºç¡€ï¼Œå¯¹ç”¨æˆ·çš„è¦æ±‚ç›¸å¯¹ä¹Ÿæ¯”è¾ƒé«˜ï¼Œæ‰€ä»¥ï¼Œæœ‰å¿ƒçš„å¼€å‘è€…å¯ä»¥<strong>å¯¹éƒ¨åˆ†ç³»ç»Ÿè°ƒç”¨è¿›è¡Œé€‚åº¦å°è£…ï¼Œä»è€Œå½¢æˆåº“</strong>ï¼Œæœ‰äº†åº“ï¼Œå°±å¾ˆæœ‰åˆ©äºæ›´ä¸Šå±‚ç”¨æˆ·æˆ–è€…å¼€å‘è€…è¿›è¡ŒäºŒæ¬¡å¼€å‘ã€‚</p>
</blockquote>
<h2 id="12-è¿›ç¨‹">1.2 è¿›ç¨‹
</h2><h3 id="121-æ¦‚å¿µ">1.2.1 æ¦‚å¿µ
</h3><p>==è¿›ç¨‹ = å†…æ ¸æ•°æ®ç»“æ„å¯¹è±¡ + è‡ªå·±çš„ä»£ç å’Œæ•°æ®==</p>
<p>==è¿›ç¨‹ = PCB(task_struct) + è‡ªå·±çš„ä»£ç å’Œæ•°æ®==</p>
<p>æ“ä½œç³»ç»Ÿå¿…ç„¶è¦å¯¹å¤šä¸ªè¢«åŠ è½½åˆ°å†…å­˜ä¸­çš„ç¨‹åºè¿›è¡Œç®¡ç†</p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/1736734939556.png"
	width="1141"
	height="745"
	
	loading="lazy"
	
		alt="73673493955"
	
	
		class="gallery-image" 
		data-flex-grow="153"
		data-flex-basis="367px"
	
></p>
<p><span style="color: #FF0000;">å¯¹è¿›ç¨‹çš„ç®¡ç†ï¼Œå°±å˜æˆäº†å¯¹é“¾è¡¨çš„å¢åˆ æŸ¥æ”¹ </span></p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/1736734972066.png"
	width="193"
	height="306"
	
	loading="lazy"
	
		alt="73673497206"
	
	
		class="gallery-image" 
		data-flex-grow="63"
		data-flex-basis="151px"
	
></p>
<p>æˆ‘ä»¬æŠŠè¿™ä¸ªç»“æ„ä½“å«PCBï¼ˆprocess control block )è¿›ç¨‹æ§åˆ¶å—</p>
<p>åœ¨Linuxä¸­ï¼Œè¿™ä¸ªPCBå«task_structï¼Œ</p>
<p>è¿›ç¨‹çš„æ‰€æœ‰å±æ€§ï¼Œéƒ½å¯ä»¥ç›´æ¥æˆ–è€…é—´æ¥é€šè¿‡task_structæ‰¾åˆ°</p>
<blockquote>
<p>task_struct - PCBçš„ä¸€ç§</p>
<ul>
<li>åœ¨Linuxä¸­æè¿°è¿›ç¨‹çš„ç»“æ„ä½“å«åštask_structã€‚</li>
<li>task_structæ˜¯Linuxå†…æ ¸çš„ä¸€ç§æ•°æ®ç»“æ„ç±»å‹ï¼Œå®ƒä¼šè¢«è£…è½½åˆ°RAMï¼ˆå†…å­˜ï¼‰é‡Œå¹¶ä¸”åŒ…å«ç€è¿›ç¨‹çš„ä¿¡æ¯</li>
</ul>
</blockquote>
<h3 id="622-task_"><strong>6.2.2 task_struct</strong>
</h3><blockquote>
<p>åœ¨Linuxä¸­æè¿°è¿›ç¨‹çš„ç»“æ„ä½“å«åštask_structã€‚</p>
</blockquote>
<ul>
<li>æ ‡å¿—ç¬¦ï¼š<span style="color: #8080FF;">æè¿°æœ¬è¿›ç¨‹çš„å”¯ä¸€æ ‡å¿—ç¬¦ï¼Œç”¨æ¥åŒºåˆ«å…¶å®ƒè¿›ç¨‹</span></li>
<li>çŠ¶æ€ï¼šä»»åŠ¡çŠ¶æ€ã€é€€å‡ºä»£ç ã€é€€å‡ºä¿¡å·</li>
<li>ä¼˜å…ˆçº§ï¼šç›¸å¯¹äºå…¶å®ƒè¿›ç¨‹çš„ä¼˜å…ˆçº§</li>
<li>ç¨‹åºè®¡æ•°å™¨ï¼šç¨‹åºä¸­å³å°†è¢«æ‰§è¡Œçš„ä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€</li>
<li>å†…å­˜æŒ‡é’ˆï¼šåŒ…æ‹¬ç¨‹åºä»£ç å’Œè¿›ç¨‹ç›¸å…³æ•°æ®çš„æŒ‡é’ˆï¼Œè¿˜æœ‰å’Œå…¶ä»–è¿›ç¨‹å…±äº«çš„å†…å­˜å—çš„æŒ‡é’ˆï¼Œèƒ½çœŸæ­£æ‰¾åˆ°ä»£ç å’Œæ•°æ®</li>
<li><strong>ä¸Šä¸‹æ–‡æ•°æ®</strong>ï¼šè¿›ç¨‹æ‰§è¡Œæ—¶å¤„ç†å™¨çš„å¯„å­˜å™¨ä¸­çš„æ•°æ®</li>
<li>I/OçŠ¶æ€ä¿¡æ¯ï¼šåŒ…æ‹¬æ˜¾ç¤ºçš„I/0è¯·æ±‚ï¼Œåˆ†é…ç»™è¿›ç¨‹çš„I/0è®¾å¤‡å’Œè¢«è¿›ç¨‹ä½¿ç”¨çš„æ–‡ä»¶åˆ—è¡¨</li>
<li>è®°è´¦ä¿¡æ¯ï¼šå¯èƒ½åŒ…æ‹¬å¤„ç†å™¨æ—¶é—´æ€»å’Œï¼Œä½¿ç”¨çš„æ—¶é’Ÿæ•°æ€»å’Œï¼Œæ—¶é—´é™åˆ¶ï¼Œè®°è´¦å·ç­‰</li>
<li>å…¶ä»–ä¿¡æ¯</li>
</ul>
<p><strong>ç»„ç»‡è¿›ç¨‹</strong></p>
<blockquote>
<p>å¯ä»¥åœ¨å†…æ ¸æºä»£ç é‡Œæ‰¾åˆ°å®ƒã€‚æ‰€æœ‰è¿è¡Œåœ¨ç³»ç»Ÿé‡Œçš„è¿›ç¨‹éƒ½ä»¥task_structé“¾è¡¨çš„å½¢å¼å­˜åœ¨å†…æ ¸é‡Œ</p>
</blockquote>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250914161445126.png"
	width="1018"
	height="523"
	
	loading="lazy"
	
		alt="image-20250914161445126"
	
	
		class="gallery-image" 
		data-flex-grow="194"
		data-flex-basis="467px"
	
></p>
<h3 id="623-æŸ¥çœ‹è¿›ç¨‹">6.2.3 æŸ¥çœ‹è¿›ç¨‹
</h3><p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/1736925104339.png"
	width="233"
	height="89"
	
	loading="lazy"
	
		alt="73692510433"
	
	
		class="gallery-image" 
		data-flex-grow="261"
		data-flex-basis="628px"
	
></p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/1736925083748.png"
	width="419"
	height="233"
	
	loading="lazy"
	
		alt="73692508374"
	
	
		class="gallery-image" 
		data-flex-grow="179"
		data-flex-basis="431px"
	
></p>
<p>sleepéœ€è¦åŒ…å«å¤´æ–‡ä»¶unistd</p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/1736925040146.png"
	width="586"
	height="539"
	
	loading="lazy"
	
		alt="73692504014"
	
	
		class="gallery-image" 
		data-flex-grow="108"
		data-flex-basis="260px"
	
></p>
<p>æˆ‘ä»¬å†å²ä¸Šæ‰§è¡Œçš„æ‰€æœ‰<mark>æŒ‡ä»¤ï¼Œå·¥å…·ï¼Œè‡ªå·±çš„ç¨‹åº</mark>ï¼Œ<strong>è¿è¡Œèµ·æ¥ï¼Œå…¨éƒ¨éƒ½æ˜¯è¿›ç¨‹</strong></p>
<h4 id="getpidæŸ¥çœ‹è¿›ç¨‹id">getpid()æŸ¥çœ‹è¿›ç¨‹id
</h4><p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/1736925739600.png"
	width="753"
	height="238"
	
	loading="lazy"
	
		alt="73692573960"
	
	
		class="gallery-image" 
		data-flex-grow="316"
		data-flex-basis="759px"
	
></p>
<p><strong>getpidè·å¾—æ ‡å¿—ç¬¦ï¼Œè°è°ƒç”¨è¿™ä¸ªå‡½æ•°å°±è·å¾—è°çš„è¿›ç¨‹ID</strong></p>
<p>è°ƒgetpidæœ¬è´¨æ˜¯è®©æ“ä½œç³»ç»Ÿä»PCBé‡ŒæŠŠæˆ‘çš„pidæ‹·è´å‡ºæ¥ï¼Œè®©ç”¨æˆ·çœ‹åˆ°æˆ‘çš„IDæ˜¯ä»€ä¹ˆ</p>
<blockquote>
<ul>
<li>man 3å·æ‰‹å†Œæ˜¯åº“è°ƒç”¨ï¼Œ2å·æ‰‹å†Œæ˜¯ç³»ç»Ÿè°ƒç”¨</li>
<li>task_stuctç»“æ„ä½“é‡Œæœ‰ä¸ªå±æ€§å«pid</li>
<li><mark>getpidæ˜¯ç³»ç»Ÿè°ƒç”¨ï¼Œä¸ºäº†è·å¾—è¿›ç¨‹è‡ªå·±çš„pid</mark>ï¼Œpidåœ¨å½“å‰è¿›ç¨‹task_structé‡Œå¯¹åº”çš„æ ‡å¿—ç¬¦é‡Œ</li>
</ul>
</blockquote>
<p><strong>åªè¦æ˜¯ä¸€ä¸ªè¿›ç¨‹ï¼Œå°±æœ‰è‡ªå·±çš„IDä¿¡æ¯</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;unistd.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;sys/types.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>      
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>               
</span></span><span class="line"><span class="cl"><span class="p">{</span>                     
</span></span><span class="line"><span class="cl">    <span class="k">while</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>                 
</span></span><span class="line"><span class="cl">        <span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>      
</span></span><span class="line"><span class="cl">        <span class="n">printf</span><span class="p">(</span><span class="s">&#34;æˆ‘æ˜¯ä¸€ä¸ªè¿›ç¨‹!, æˆ‘çš„pid:%d</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">getpid</span><span class="p">());</span>                    
</span></span><span class="line"><span class="cl">    <span class="p">}</span>  
</span></span><span class="line"><span class="cl">                                                               
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>                                                 
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250914162920848.png"
	width="930"
	height="373"
	
	loading="lazy"
	
		alt="image-20250914162920848"
	
	
		class="gallery-image" 
		data-flex-grow="249"
		data-flex-basis="598px"
	
></p>
<p><code>ps axj</code>æŸ¥çœ‹ä»¥ç‰¹å®šå½¢å¼æ˜¾ç¤ºçš„æ‰€æœ‰è¿›ç¨‹ï¼ˆaè¡¨ç¤ºæ‰€æœ‰ï¼‰</p>
<ol>
<li><code>ps axj | head -l</code>å…ˆå°†ç¬¬ä¸€è¡Œæ˜¾ç¤ºï¼ˆå±æ€§åˆ—çš„åå­—ï¼‰</li>
</ol>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/1736926676916.png"
	width="1124"
	height="87"
	
	loading="lazy"
	
		alt="73692667691"
	
	
		class="gallery-image" 
		data-flex-grow="1291"
		data-flex-basis="3100px"
	
></p>
<ol start="2">
<li><code>ps axj | grep myprocess</code>å†æŸ¥æˆ‘ä»¬çš„è¿›ç¨‹</li>
</ol>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/1736926613428.png"
	width="1236"
	height="163"
	
	loading="lazy"
	
		alt="73692661342"
	
	
		class="gallery-image" 
		data-flex-grow="758"
		data-flex-basis="1819px"
	
></p>
<p>åœ¨Linuxä¸­ï¼Œå¦‚æœæƒ³<mark>åŒæ—¶æ‰§è¡Œä¸¤æ¡å‘½ä»¤</mark>ï¼Œ<mark>å¯ä»¥ä½¿ç”¨åˆ†å·æˆ–è€…&amp;&amp;è¿æ¥</mark></p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/1736926804631.png"
	width="1187"
	height="190"
	
	loading="lazy"
	
		alt="73692680463"
	
	
		class="gallery-image" 
		data-flex-grow="624"
		data-flex-basis="1499px"
	
></p>
<blockquote>
<p>å› ä¸ºgrepå‘½ä»¤å®ƒè‡ªå·±è·‘èµ·æ¥ä¹Ÿæ˜¯ä¸€ä¸ªè¿›ç¨‹ï¼Œå®ƒè¿‡æ»¤çš„å…³é”®å­—ä¸­ä¹ŸåŒ…å«myprocessï¼Œæ‰€ä»¥å®ƒè‡ªå·±ä¹Ÿä¼šè¢«æŸ¥å‡ºæ¥ï¼Œå¦‚æœä¸æƒ³æŠŠgrepä¹ŸæŸ¥å‡ºæ¥ï¼Œå¯ä»¥å¸¦-v åå‘åŒ¹é…ï¼Œä¹Ÿå°±æ˜¯åŒ…å«grepçš„ä¸æŸ¥å‡ºæ¥</p>
<p><code>ps ajx | head -1;ps axj | grep myprocess | grep -v grep</code></p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/1740057449955.png"
	width="1410"
	height="122"
	
	loading="lazy"
	
		alt="74005744995"
	
	
		class="gallery-image" 
		data-flex-grow="1155"
		data-flex-basis="2773px"
	
></p>
</blockquote>
<p><strong>æ€æ‰è¿›ç¨‹</strong>ï¼š<code>kill -9 å¯¹åº”PID</code></p>
<blockquote>
<p>-9è¡¨ç¤ºä¿¡å·</p>
</blockquote>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/1740057526187.png"
	width="654"
	height="39"
	
	loading="lazy"
	
		alt="74005752618"
	
	
		class="gallery-image" 
		data-flex-grow="1676"
		data-flex-basis="4024px"
	
></p>
<p>ctrl+cä¹Ÿå¯ä»¥æ€æ‰è¿›ç¨‹</p>
<h4 id="é€šè¿‡æ–‡ä»¶å»æŸ¥çœ‹è¿›ç¨‹">é€šè¿‡æ–‡ä»¶å»æŸ¥çœ‹è¿›ç¨‹
</h4><p>å¯ä»¥é€šè¿‡æ–‡ä»¶çš„æ–¹å¼å»æŸ¥çœ‹è¿›ç¨‹</p>
<blockquote>
<p>procç›®å½•ï¼ˆprocessçš„ç®€å†™ï¼‰</p>
</blockquote>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/1736927704025.png"
	width="1120"
	height="502"
	
	loading="lazy"
	
		alt="73692770402"
	
	
		class="gallery-image" 
		data-flex-grow="223"
		data-flex-basis="535px"
	
></p>
<p>è¿›ç¨‹è¿è¡Œæ—¶ï¼Œprocé‡Œçš„æ•°æ®å·²ç»æ‹·è´åˆ°å†…å­˜äº†</p>
<p>ä¾‹å¦‚ï¼š</p>
<ol>
<li>å…ˆå°†ç¨‹åºè¿è¡Œèµ·æ¥</li>
</ol>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/1736928299460.png"
	width="719"
	height="76"
	
	loading="lazy"
	
		alt="73692829946"
	
	
		class="gallery-image" 
		data-flex-grow="946"
		data-flex-basis="2270px"
	
></p>
<ol start="2">
<li>æŸ¥procç›®å½•é‡Œçš„pidæ–‡ä»¶</li>
</ol>
<p><code>ls /proc/è¿›ç¨‹id -l</code></p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/1736928340654.png"
	width="816"
	height="82"
	
	loading="lazy"
	
		alt="73692834065"
	
	
		class="gallery-image" 
		data-flex-grow="995"
		data-flex-basis="2388px"
	
></p>
<ol start="3">
<li>å½“æˆ‘ä»¬æ€æ‰è¿™ä¸ªè¿›ç¨‹åå†æŸ¥ï¼Œå°±å‘ç°æ‰¾ä¸åˆ°ç›®å½•äº†</li>
</ol>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/1740058006381.png"
	width="1005"
	height="82"
	
	loading="lazy"
	
		alt="74005800638"
	
	
		class="gallery-image" 
		data-flex-grow="1225"
		data-flex-basis="2941px"
	
></p>
<p><strong>çœ‹ä¸€çœ‹è¿›ç¨‹ç›®å½•ä¸‹éƒ½æœ‰å“ªäº›æ–‡ä»¶</strong></p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/1736928717526.png"
	width="1647"
	height="378"
	
	loading="lazy"
	
		alt="73692871752"
	
	
		class="gallery-image" 
		data-flex-grow="435"
		data-flex-basis="1045px"
	
></p>
<ul>
<li>
<p>exeï¼šè¿›ç¨‹å¯¹åº”çš„å¯æ‰§è¡Œæ–‡ä»¶</p>
</li>
<li>
<p>cwdï¼šcurrent work dir è¿›ç¨‹ä¼šè®°å½•ä¸‹æ¥è‡ªå·±çš„å½“å‰è·¯å¾„</p>
</li>
</ul>
<p><strong>æ›´æ”¹ä¸€ä¸ªè¿›ç¨‹çš„å½“å‰è·¯å¾„<code>chdir</code></strong></p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/1736928992426.png"
	width="836"
	height="311"
	
	loading="lazy"
	
		alt="73692899242"
	
	
		class="gallery-image" 
		data-flex-grow="268"
		data-flex-basis="645px"
	
></p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/1736929101055.png"
	width="932"
	height="601"
	
	loading="lazy"
	
		alt="73692910105"
	
	
		class="gallery-image" 
		data-flex-grow="155"
		data-flex-basis="372px"
	
></p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/1736929275552.png"
	width="948"
	height="576"
	
	loading="lazy"
	
		alt="73692927555"
	
	
		class="gallery-image" 
		data-flex-grow="164"
		data-flex-basis="395px"
	
></p>
<h4 id="getppidæŸ¥çœ‹çˆ¶è¿›ç¨‹">getppid()æŸ¥çœ‹çˆ¶è¿›ç¨‹
</h4><p>getppid()</p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/1736929537072.png"
	width="1427"
	height="645"
	
	loading="lazy"
	
		alt="73692953707"
	
	
		class="gallery-image" 
		data-flex-grow="221"
		data-flex-basis="530px"
	
></p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250914170727248.png"
	width="995"
	height="483"
	
	loading="lazy"
	
		alt="image-20250914170727248"
	
	
		class="gallery-image" 
		data-flex-grow="206"
		data-flex-basis="494px"
	
></p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250914171033193.png"
	width="1440"
	height="119"
	
	loading="lazy"
	
		alt="image-20250914171033193"
	
	
		class="gallery-image" 
		data-flex-grow="1210"
		data-flex-basis="2904px"
	
></p>
<p>1.å‘½ä»¤è¡Œè§£é‡Šå™¨ï¼ˆç‹å©†ï¼‰ï¼šæœ¬è´¨æ˜¯ä¸€ä¸ªè¿›ç¨‹</p>
<p>2.ç‹å©†å’Œå®ä¹ ç”Ÿ</p>
<p><span style="color: #8080FF;">æ“ä½œç³»ç»Ÿä¼šç»™æ¯ä¸€ä¸ªç™»å½•ç”¨æˆ·ï¼Œåˆ†é…ä¸€ä¸ªbash</span><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250914171704134.png"
	width="1930"
	height="268"
	
	loading="lazy"
	
		alt="image-20250914171704134"
	
	
		class="gallery-image" 
		data-flex-grow="720"
		data-flex-basis="1728px"
	
></p>
<h4 id="forkå‡½æ•°åˆ›å»ºå­è¿›ç¨‹">forkå‡½æ•°åˆ›å»ºå­è¿›ç¨‹
</h4><p>forkå‡½æ•°ï¼Œä»å·²å­˜åœ¨è¿›ç¨‹ä¸­åˆ›å»ºä¸€ä¸ªæ–°è¿›ç¨‹ã€‚æ–°è¿›ç¨‹ä¸ºå­è¿›ç¨‹ï¼Œè€ŒåŸè¿›ç¨‹ä¸ºçˆ¶è¿›ç¨‹ã€‚</p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250914172129942.png"
	width="661"
	height="349"
	
	loading="lazy"
	
		alt="image-20250914172129942"
	
	
		class="gallery-image" 
		data-flex-grow="189"
		data-flex-basis="454px"
	
></p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250914172713326.png"
	width="995"
	height="566"
	
	loading="lazy"
	
		alt="image-20250914172713326"
	
	
		class="gallery-image" 
		data-flex-grow="175"
		data-flex-basis="421px"
	
></p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250914172825066.png"
	width="916"
	height="154"
	
	loading="lazy"
	
		alt="image-20250914172825066"
	
	
		class="gallery-image" 
		data-flex-grow="594"
		data-flex-basis="1427px"
	
></p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250914173025725.png"
	width="781"
	height="267"
	
	loading="lazy"
	
		alt="image-20250914173025725"
	
	
		class="gallery-image" 
		data-flex-grow="292"
		data-flex-basis="702px"
	
></p>
<p><strong>forkçš„è¿”å›å€¼</strong></p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250914173839780.png"
	width="1724"
	height="197"
	
	loading="lazy"
	
		alt="image-20250914173839780"
	
	
		class="gallery-image" 
		data-flex-grow="875"
		data-flex-basis="2100px"
	
></p>
<ul>
<li>
<p>å¦‚æœåˆ›å»ºå­è¿›ç¨‹æˆåŠŸäº†ï¼Œé‚£ä¹ˆçˆ¶è¿›ç¨‹å’Œæ–°åˆ›å»ºçš„å­è¿›ç¨‹éƒ½è¦æ‰§è¡Œè¿™ä¸ªå‡½æ•°çš„returnè¯­å¥ï¼Œæ­¤æ—¶</p>
<ul>
<li>å¦‚æœæ˜¯çˆ¶è¿›ç¨‹ï¼Œé‚£ä¹ˆè¿”å›å€¼å°±æ˜¯å­è¿›ç¨‹çš„pid</li>
<li>å¦‚æœæ˜¯å­è¿›ç¨‹ï¼Œé‚£ä¹ˆè¿”å›å€¼æ˜¯0</li>
</ul>
</li>
<li>
<p>å¦‚æœåˆ›å»ºå­è¿›ç¨‹å¤±è´¥äº†ï¼Œé‚£ä¹ˆè¿”å›å€¼å°±æ˜¯-1</p>
</li>
</ul>
<p><strong>ç°åœ¨æˆ‘ä»¬æƒ³è®©çˆ¶å­æœªæ¥æ‰§è¡Œä¸åŒçš„ä»£ç é€»è¾‘</strong></p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250914174436507.png"
	width="1636"
	height="1720"
	
	loading="lazy"
	
		alt="image-20250914174436507"
	
	
		class="gallery-image" 
		data-flex-grow="95"
		data-flex-basis="228px"
	
></p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250914174952332.png"
	width="912"
	height="299"
	
	loading="lazy"
	
		alt="image-20250914174952332"
	
	
		class="gallery-image" 
		data-flex-grow="305"
		data-flex-basis="732px"
	
></p>
<ol>
<li>
<p><strong>ä¸ºä»€ä¹ˆforkç»™çˆ¶å­è¿”å›å„è‡ªçš„ä¸åŒè¿”å›å€¼ï¼Ÿ</strong></p>
<p>çˆ¶ï¼šå­ = 1ï¼šn</p>
<p>ä»»ä½•ä¸€ä¸ªçˆ¶è¿›ç¨‹éƒ½å¯ä»¥æœ‰å¤šä¸ªå­è¿›ç¨‹ï¼Œä»»ä½•ä¸€ä¸ªå­è¿›ç¨‹éƒ½åªä¼šæœ‰ä¸€ä¸ªçˆ¶è¿›ç¨‹</p>
<p>æ‰€ä»¥æœªæ¥åˆ›å»ºå­è¿›ç¨‹çš„æ—¶å€™ï¼Œä¸€å®šè¦æŠŠå­è¿›ç¨‹çš„pidè¿”å›ç»™çˆ¶è¿›ç¨‹ï¼Œå› ä¸º<strong>çˆ¶è¿›ç¨‹è¦é€šè¿‡ä¸åŒçš„pidæ¥åŒºåˆ†ä¸åŒçš„å­è¿›ç¨‹</strong>ï¼Œè€Œå­è¿›ç¨‹ä¸éœ€è¦è·å¾—çˆ¶è¿›ç¨‹çš„pidï¼Œå› ä¸ºå®ƒè‡ªå·±èƒ½getpid()</p>
</li>
<li>
<p><strong>ä¸ºä»€ä¹ˆä¸€ä¸ªå‡½æ•°ä¼šè¿”å›ä¸¤æ¬¡ï¼Ÿ</strong></p>
<p>å½“ä¸€ä¸ªå‡½æ•°å·²ç»åˆ°return xxäº†ï¼Œæ ¸å¿ƒå·¥ä½œå·²ç»åšå®Œäº†ã€‚</p>
<p>forkå‡½æ•°å½“æ‰§è¡Œåˆ°returnè¯­å¥çš„æ—¶å€™ï¼Œå­è¿›ç¨‹å·²ç»è¢«åˆ›å»ºï¼Œç”šè‡³è¢«è°ƒåº¦äº†ï¼</p>
<p>ç”±äºreturn ä¹Ÿæ˜¯è¯­å¥ï¼Œæ‰€ä»¥çˆ¶å­è¿›ç¨‹å„æ‰§è¡Œä¸€æ¬¡</p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250914180037050.png"
	width="1704"
	height="676"
	
	loading="lazy"
	
		alt="image-20250914180037050"
	
	
		class="gallery-image" 
		data-flex-grow="252"
		data-flex-basis="604px"
	
></p>
<p>è¿”å›çš„æœ¬è´¨æ˜¯åœ¨å†™å…¥å˜é‡</p>
<blockquote>
<p>è¿›ç¨‹è°ƒç”¨forkï¼Œå½“æ§åˆ¶è½¬ç§»åˆ°å†…æ ¸ä¸­çš„forkä»£ç åï¼Œå†…æ ¸åšï¼š</p>
<ul>
<li>åˆ†é…æ–°çš„å†…å­˜å—å’Œå†…æ ¸æ•°æ®ç»“æ„ç»™å­è¿›ç¨‹</li>
<li>å°†çˆ¶è¿›ç¨‹éƒ¨åˆ†æ•°æ®ç»“æ„å†…å®¹æ‹·è´è‡³å­è¿›ç¨‹</li>
<li>æ·»åŠ å­è¿›ç¨‹åˆ°ç³»ç»Ÿè¿›ç¨‹åˆ—è¡¨å½“ä¸­</li>
<li>forkè¿”å›ï¼Œå¼€å§‹è°ƒåº¦å™¨è°ƒåº¦</li>
</ul>
</blockquote>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20251029112419978.png"
	width="1006"
	height="428"
	
	loading="lazy"
	
		alt="image-20251029112419978"
	
	
		class="gallery-image" 
		data-flex-grow="235"
		data-flex-basis="564px"
	
></p>
</li>
<li>
<p><strong>ä¸ºä»€ä¹ˆä¸€ä¸ªå˜é‡ï¼Œæ—¢==0ï¼Œåˆå¤§äº0ï¼Ÿå¯¼è‡´if else åŒæ—¶æˆç«‹</strong>?</p>
<p>å­è¿›ç¨‹ä¿®æ”¹å˜é‡æ—¶ï¼Œä¼šé‡æ–°å¼€ä¸€å—ç©ºé—´ã€‚çˆ¶å­è¿›ç¨‹è®¿é—®åŒä¸€ä¸ªå˜é‡æ—¶ï¼Œæ‹¿çš„éƒ½æ˜¯è™šæ‹Ÿåœ°å€ï¼Œä½†åº•å±‚æ˜ å°„åˆ°äº†ä¸åŒçš„ç‰©ç†åœ°å€</p>
</li>
</ol>
<p><strong>è¿›ç¨‹å…·æœ‰ç‹¬ç«‹æ€§</strong></p>
<ol>
<li>
<p>æ•°æ®ç»“æ„ç‹¬ç«‹ï¼Œè¿›ç¨‹=å†…æ ¸æ•°æ®ç»“æ„å¯¹è±¡ + è‡ªå·±çš„ä»£ç å’Œæ•°æ®</p>
</li>
<li>
<p>ä»£ç å…±äº«ï¼Œä½†æ˜¯ä»£ç æ˜¯åªè¯»çš„</p>
</li>
<li>
<p>æ•°æ®ä»¥å†™æ—¶æ‹·è´çš„æ–¹å¼ï¼Œå„è‡ªç§æœ‰ä¸€ä»½</p>
</li>
</ol>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/1736934233629.png"
	width="1152"
	height="249"
	
	loading="lazy"
	
		alt="73693423362"
	
	
		class="gallery-image" 
		data-flex-grow="462"
		data-flex-basis="1110px"
	
></p>
<blockquote>
<p><strong>å†™æ—¶æ‹·è´</strong></p>
<p>é€šå¸¸ï¼Œçˆ¶å­ä»£ç å…±äº«ï¼Œçˆ¶å­å†ä¸å†™å…¥æ—¶ï¼Œæ•°æ®ä¹Ÿæ˜¯å…±äº«çš„ï¼Œå½“ä»»æ„ä¸€æ–¹è¯•å›¾å†™å…¥ï¼Œä¾¿ä»¥å†™æ—¶æ‹·è´çš„æ–¹å¼å„è‡ªä¸€ä»½å‰¯æœ¬</p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20251029105929375.png"
	width="989"
	height="369"
	
	loading="lazy"
	
		alt="image-20251029105929375"
	
	
		class="gallery-image" 
		data-flex-grow="268"
		data-flex-basis="643px"
	
></p>
<p>å› ä¸ºæœ‰å†™æ—¶æ‹·è´æŠ€æœ¯çš„å­˜åœ¨ï¼Œæ‰€ä»¥çˆ¶å­è¿›ç¨‹å¾—ä»¥å½»åº•åˆ†ç¦»ç¦»ï¼å®Œæˆäº†è¿›ç¨‹ç‹¬ç«‹æ€§çš„æŠ€æœ¯ä¿è¯ï¼
å†™æ—¶æ‹·è´ï¼Œæ˜¯ä¸€ç§å»¶æ—¶ç”³è¯·æŠ€æœ¯ï¼Œå¯ä»¥æé«˜æ•´æœºå†…å­˜çš„ä½¿ç”¨ç‡</p>
</blockquote>
<h2 id="13è¿›ç¨‹çš„çŠ¶æ€"><strong>1.3</strong>è¿›ç¨‹çš„çŠ¶æ€
</h2><h3 id="631è¿›ç¨‹çŠ¶æ€åŸºæœ¬ä»‹ç»">6.3.1è¿›ç¨‹çŠ¶æ€åŸºæœ¬ä»‹ç»
</h3><p>ä¸€ä¸ªè¿›ç¨‹å¯ä»¥æœ‰å‡ ä¸ªçŠ¶æ€ï¼ˆåœ¨Linuxå†…æ ¸é‡Œï¼Œè¿›ç¨‹æœ‰æ—¶å€™ä¹Ÿå«åšä»»åŠ¡ï¼‰</p>
<p>è¿›ç¨‹çŠ¶æ€å°±æ˜¯task_structå†…çš„ä¸€ä¸ªæ•´æ•°</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">*The task state array is a strange &#34;bitmap&#34; of
</span></span></span><span class="line"><span class="cl"><span class="cm">*reasons to sleep. Thus &#34;running&#34; is zero, and
</span></span></span><span class="line"><span class="cl"><span class="cm">*you can test for combinations of others with
</span></span></span><span class="line"><span class="cl"><span class="cm">*simple bit tests.
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span><span class="line"><span class="cl"><span class="k">static</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="k">const</span> <span class="n">task_state_array</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;R (running)&#34;</span><span class="p">,</span> <span class="cm">/*0 */</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;S (sleeping)&#34;</span><span class="p">,</span> <span class="cm">/*1 */</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;D (disk sleep)&#34;</span><span class="p">,</span> <span class="cm">/*2 */</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;T (stopped)&#34;</span><span class="p">,</span> <span class="cm">/*4 */</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;t (tracing stop)&#34;</span><span class="p">,</span> <span class="cm">/*8 */</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;X (dead)&#34;</span><span class="p">,</span> <span class="cm">/*16 */</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;Z (zombie)&#34;</span><span class="p">,</span> <span class="cm">/*32 */</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿›ç¨‹çŠ¶æ€å¾ˆå¤šï¼Œè¿™äº›çŠ¶æ€é—´å¯ä»¥ç›¸äº’è¿›è¡Œè½¬æ¢</p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250918103847327.png"
	width="1274"
	height="795"
	
	loading="lazy"
	
		alt="image-20250918103847327"
	
	
		class="gallery-image" 
		data-flex-grow="160"
		data-flex-basis="384px"
	
></p>
<h4 id="è¿è¡Œé˜»å¡æŒ‚èµ·">è¿è¡Œ&amp;&amp;é˜»å¡&amp;&amp;æŒ‚èµ·
</h4><p>ä¸€ä¸ªCPUï¼Œä¸€ä¸ªè°ƒåº¦é˜Ÿåˆ—ã€‚è¿™ä¸ªé˜Ÿåˆ—åœ¨Linuxå†…æ ¸é‡Œå«runqueue</p>
<p>CPUè°ƒåº¦å°±æ˜¯åœ¨è¿™ä¸ªé˜Ÿåˆ—ä¸­ï¼ŒæŒ‰ç…§é¡ºåºï¼Œä¾æ¬¡é€‰æ‹©ä¸€ä¸ªtask_structæ¥é€‰æ‹©æ‰§è¡Œ</p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250918104655266.png"
	width="1372"
	height="418"
	
	loading="lazy"
	
		alt="image-20250918104655266"
	
	
		class="gallery-image" 
		data-flex-grow="328"
		data-flex-basis="787px"
	
></p>
<p>**è¿è¡Œï¼š**è¿›ç¨‹åœ¨è°ƒåº¦é˜Ÿåˆ—ä¸­ï¼Œè¿›ç¨‹çš„çŠ¶æ€éƒ½æ˜¯running</p>
<p>**é˜»å¡ï¼š**ç­‰å¾…æŸç§è®¾å¤‡æˆ–è€…èµ„æºå°±ç»ªï¼ˆé”®ç›˜ï¼Œæ˜¾ç¤ºå™¨ï¼Œç½‘å¡ï¼Œç£ç›˜ï¼Œæ‘„åƒå¤´ï¼Œè¯ç­’&hellip;.ï¼‰</p>
<blockquote>
<p>æ“ä½œç³»ç»Ÿè¦ç®¡ç†ç³»ç»Ÿä¸­çš„å„ç§ç¡¬ä»¶èµ„æºï¼Œå…ˆæè¿°ï¼Œå†ç»„ç»‡</p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250918105818682.png"
	width="1349"
	height="760"
	
	loading="lazy"
	
		alt="image-20250918105818682"
	
	
		class="gallery-image" 
		data-flex-grow="177"
		data-flex-basis="426px"
	
></p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250918152009319.png"
	width="323"
	height="325"
	
	loading="lazy"
	
		alt="image-20250918152009319"
	
	
		class="gallery-image" 
		data-flex-grow="99"
		data-flex-basis="238px"
	
></p>
<p>ä¾‹å­ï¼š</p>
<p>CPUæ­£åœ¨è¿è¡Œä¸€ä¸ªè¿›ç¨‹ï¼Œè¿è¡Œçš„è¿‡ç¨‹ä¸­æ“ä½œç³»ç»Ÿå‘ç°è¿™ä¸ªè¿›ç¨‹è¦scanfè¿›è¡Œè¯»å–ï¼Œæ“ä½œç³»ç»Ÿå°±å»æ£€æŸ¥é”®ç›˜çš„çŠ¶æ€ï¼Œå‘ç°é”®ç›˜å¹¶æ²¡æœ‰è¢«æŒ‰ä¸‹ï¼Œæ“ä½œç³»ç»Ÿå°±è®¤ä¸ºè¿™ä¸ªè¿›ç¨‹å°±æ— æ³•ç»§ç»­å¾€ä¸‹è¿è¡Œï¼Œå°±æŠŠè¿™ä¸ªè¿›ç¨‹ä»CPUä¸Šæ‹¿ä¸‹æ¥ï¼Œå¹¶æŠŠå®ƒä»è¿è¡Œé˜Ÿåˆ—ä¸­ç§»èµ°å¹¶é“¾å…¥åˆ°<span style="color: #8080FF;">ç‰¹å®šè®¾å¤‡çš„ç­‰å¾…é˜Ÿåˆ—</span>ä¸­ï¼Œè¿™ä¸ªè¿›ç¨‹å°±<span style="color: #8080FF;">æ²¡æœ‰åœ¨è¿è¡Œé˜Ÿåˆ—</span>ä¸­ï¼Œä¸ä¼šè¢«è°ƒåº¦ï¼Œè¿™ä¸ªè¿›ç¨‹å°±å¤„äº<span style="color: #8080FF;">é˜»å¡</span>çŠ¶æ€äº†ï¼ˆ<span style="color: #8080FF;">åªæœ‰åœ¨è¿è¡Œé˜Ÿåˆ—é‡Œçš„è¿›ç¨‹æ‰ä¼šè¢«CPUè°ƒåº¦</span>ï¼‰</p>
<p>å½“é”®ç›˜è¢«æŒ‰ä¸‹äº†å³ç¡¬ä»¶å°±ç»ªäº†ï¼Œç”±äºæ“ä½œç³»ç»Ÿæ˜¯ç¡¬ä»¶çš„ç®¡ç†è€…ï¼Œæ“ä½œç³»ç»ŸçŸ¥é“äº†ï¼Œäºæ˜¯ç›´æ¥å»æŸ¥çœ‹å¯¹åº”å°±ç»ªè®¾å¤‡çš„èŠ‚ç‚¹ï¼Œå°†å…¶çŠ¶æ€è®¾ç½®ä¸ºæ´»è·ƒçš„ï¼Œå¹¶æ£€æŸ¥ç­‰å¾…é˜Ÿåˆ—ï¼Œå‘ç°ä¸ä¸ºç©ºï¼Œå°±å°†ç­‰å¾…é˜Ÿåˆ—ä¸­çš„è¿›ç¨‹è®¾ç½®ä¸ºè¿è¡ŒçŠ¶æ€ï¼Œç„¶åå°†è¯¥è¿›ç¨‹é‡æ–°é“¾å›è¿è¡Œé˜Ÿåˆ—</p>
</blockquote>
<ul>
<li>
<p>ä»è¿è¡Œé˜Ÿåˆ—åˆ°å˜æˆé˜»å¡çš„æœ¬è´¨å…¶å®æ˜¯æŠŠPCBé“¾å…¥åˆ°ä¸åŒçš„é˜Ÿåˆ—ç»“æ„ä¸­</p>
</li>
<li>
<p>ä»é˜»å¡å›åˆ°è¿è¡ŒçŠ¶æ€ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯æ‰¾åˆ°PCBï¼Œå†æŠŠPCBé“¾å›åˆ°è¿è¡Œé˜Ÿåˆ—ï¼Œå°±å˜æˆè¿è¡ŒçŠ¶æ€äº†</p>
</li>
<li>
<p>è¿›ç¨‹çŠ¶æ€çš„å˜åŒ–ï¼Œè¡¨ç°ä¹‹ä¸€å°±æ˜¯è¦åœ¨ä¸åŒçš„é˜Ÿåˆ—ä¸­è¿›è¡ŒæµåŠ¨ï¼Œæœ¬è´¨éƒ½æ˜¯æ•°æ®ç»“æ„çš„å¢åˆ æ”¹æŸ¥</p>
</li>
</ul>
<p>**æŒ‚èµ·ï¼š**æœ¬è´¨æ˜¯æŠŠè¿›ç¨‹æ¢å…¥æ¢å‡ºåˆ°ç£ç›˜çš„swapäº¤æ¢åˆ†åŒº</p>
<blockquote>
<p>åœ¨<code>ç­‰å¾…é˜Ÿåˆ—</code>ä¸­ï¼Œå¯èƒ½ä¸æ­¢ä¸€ä¸ªè¿›ç¨‹ï¼Œè¿™äº›è¿›ç¨‹æ²¡æœ‰è¢«æ‰§è¡Œä½†æ˜¯éƒ½éœ€è¦å ç”¨å†…å­˜ç©ºé—´ï¼Œå½“å†…å­˜ç©ºé—´ä¸¥é‡ä¸è¶³æ—¶ï¼Œæ“ä½œç³»ç»Ÿå°±ä¼šå°†è¿™äº›åœ¨ç­‰å¾…é˜Ÿåˆ—çš„è¿›ç¨‹ç½®æ¢åˆ°ç£ç›˜ä¸­çš„swapåˆ†åŒºä¸­ï¼ˆåœ¨ç­‰å¾…é˜Ÿåˆ—ä¸­åªå­˜PCBï¼Œè€Œå°†å¯¹åº”çš„ä»£ç å’Œæ•°æ®å”¤å‡ºåˆ°swapåˆ†åŒºä¸­ï¼Œç­‰è¿™äº›è¿›ç¨‹è¦è¿è¡Œäº†ï¼Œå†æŠŠä»£ç å’Œæ•°æ®è¿˜å›å»ï¼‰ï¼Œè¿™äº›è¿›ç¨‹çš„çŠ¶æ€å°±å«é˜»å¡æŒ‚èµ·</p>
<p>å¦‚æœå†…å­˜ç‰¹åˆ«ç´§å¼ ï¼Œæ“ä½œç³»ç»Ÿå¯èƒ½æŠŠåœ¨<code>è¿è¡Œé˜Ÿåˆ—ä¸­æœ«ç«¯çš„ä¸€äº›è¿›ç¨‹</code>ç½®æ¢åˆ°ç£ç›˜ä¸­â€”â€”&gt;è¿è¡ŒæŒ‚èµ·çŠ¶æ€</p>
</blockquote>
<h4 id="ç†è§£å†…æ ¸é“¾è¡¨">ç†è§£å†…æ ¸é“¾è¡¨
</h4><p>æˆ‘ä»¬ä»¥å‰å­¦çš„é“¾è¡¨ï¼ŒnextæŒ‡é’ˆä¼šæŒ‡å‘æ•´ä¸ªNodeç»“ç‚¹ï¼š</p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250918155832158.png"
	width="939"
	height="182"
	
	loading="lazy"
	
		alt="image-20250918155832158"
	
	
		class="gallery-image" 
		data-flex-grow="515"
		data-flex-basis="1238px"
	
></p>
<p>Linuxå†…æ ¸ä¸­çš„é“¾è¡¨ï¼ŒnextæŒ‡é’ˆåªä¼šæŒ‡å‘ç›®æ ‡ç»“æ„ä½“å†…éƒ¨çš„æŸä¸€ä¸ªæˆå‘˜å¯¹è±¡ï¼š</p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250918161314320.png"
	width="1566"
	height="739"
	
	loading="lazy"
	
		alt="image-20250918161314320"
	
	
		class="gallery-image" 
		data-flex-grow="211"
		data-flex-basis="508px"
	
></p>
<p>==ä¸€ä¸ªPCBåœ¨å†…æ ¸é‡Œåªå­˜åœ¨ä¸€ä»½ï¼Œä¸€ä¸ªPCBå¯ä»¥åŒæ—¶éš¶å±äºå¤šä¸ªç»“æ„==</p>
<blockquote>
<p>æˆ‘ä»¬å†…æ ¸ä¸­çš„æ•°æ®ç»“æ„ä¸æ˜¯å•ä¸€çš„æ•°æ®ç»“æ„</p>
</blockquote>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250918161537954.png"
	width="1251"
	height="658"
	
	loading="lazy"
	
		alt="image-20250918161537954"
	
	
		class="gallery-image" 
		data-flex-grow="190"
		data-flex-basis="456px"
	
></p>
<h4 id="è¿›ç¨‹çŠ¶æ€æŸ¥çœ‹çš„å‘½ä»¤">è¿›ç¨‹çŠ¶æ€æŸ¥çœ‹çš„å‘½ä»¤
</h4><blockquote>
<p>ps aux å’Œ ps axj</p>
<ul>
<li>aï¼šæ˜¾ç¤ºä¸€ä¸ªç»ˆç«¯æ‰€æœ‰çš„è¿›ç¨‹ï¼ŒåŒ…æ‹¬å…¶ä»–ç”¨æˆ·çš„è¿›ç¨‹ã€‚</li>
<li>xï¼šæ˜¾ç¤ºæ²¡æœ‰æ§åˆ¶ç»ˆç«¯çš„è¿›ç¨‹ï¼Œä¾‹å¦‚åå°è¿è¡Œçš„å®ˆæŠ¤è¿›ç¨‹ã€‚</li>
<li>jï¼šæ˜¾ç¤ºè¿›ç¨‹å½’å±çš„è¿›ç¨‹ç»„IDã€ä¼šè¯IDã€çˆ¶è¿›ç¨‹IDï¼Œä»¥åŠä¸ä½œä¸šæ§åˆ¶ç›¸å…³çš„ä¿¡æ¯</li>
<li>uï¼šä»¥ç”¨æˆ·ä¸ºä¸­å¿ƒçš„æ ¼å¼æ˜¾ç¤ºè¿›ç¨‹ä¿¡æ¯ï¼Œæä¾›è¿›ç¨‹çš„è¯¦ç»†ä¿¡æ¯ï¼Œå¦‚ç”¨æˆ·ã€CPUå’Œå†…å­˜ä½¿ç”¨æƒ…å†µç­‰</li>
</ul>
</blockquote>
<h4 id="linuxçš„è¿›ç¨‹çŠ¶æ€">Linuxçš„è¿›ç¨‹çŠ¶æ€
</h4><p><img src="/p/linux-process-basic/index.assets/image-20251106171043386.png"
	width="1039"
	height="702"
	
	loading="lazy"
	
		alt="image-20251106171043386"
	
	
		class="gallery-image" 
		data-flex-grow="148"
		data-flex-basis="355px"
	
></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="k">static</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="k">const</span> <span class="n">task_state_array</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;R (running)&#34;</span><span class="p">,</span><span class="cm">/*0 */</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;S (sleeping)&#34;</span><span class="err">ï¼Œ</span><span class="cm">/*l */</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;Dï¼‰(disk sleep)&#34;</span><span class="err">ï¼Œ</span><span class="cm">/*2 */</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;T(stopped)&#34;</span><span class="err">ï¼Œ</span><span class="cm">/*4 */</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;t(tracing stop)&#34;</span><span class="err">ï¼Œ</span><span class="cm">/*8 */</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;X (dead)&#34;</span><span class="err">ï¼Œ</span><span class="cm">/*16 */</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;Z (zombie)&#34;</span><span class="err">ï¼Œ</span><span class="cm">/*32 */</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span> 
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>
<p>**Rè¿è¡ŒçŠ¶æ€ï¼ˆrunning  ï¼‰ï¼š**å¹¶ä¸æ„å‘³ç€è¿›ç¨‹ä¸€å®šåœ¨è¿è¡Œä¸­ï¼Œå®ƒè¡¨æ˜è¿›ç¨‹è¦ä¹ˆæ˜¯åœ¨è¿è¡Œä¸­è¦ä¹ˆåœ¨è¿è¡Œé˜Ÿåˆ—é‡Œ</p>
<p>å½“æˆ‘ä»¬ä¸åšIOç›¸å…³çš„æ“ä½œæ—¶ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;                                        </span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">while</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250918163503693.png"
	width="1092"
	height="72"
	
	loading="lazy"
	
		alt="image-20250918163503693"
	
	
		class="gallery-image" 
		data-flex-grow="1516"
		data-flex-basis="3640px"
	
></p>
<blockquote>
<p>æœ‰åŠ å·çš„åŸå› æ˜¯å› ä¸ºè¿›ç¨‹æ˜¯åœ¨å‰å°å¯åŠ¨çš„ï¼ŒæŠŠ<code>&amp;</code>æ”¾åˆ°è¿è¡Œè¿›ç¨‹å‘½ä»¤çš„åé¢å°±å¯ä»¥è®©è¿›ç¨‹åœ¨åå°è¿è¡Œ</p>
<p>ä¾‹å¦‚  <code>./myprocess &amp;</code> è¡¨ç¤ºå°†myprocessè¿›ç¨‹æ”¾åœ¨åå°å»è¿è¡Œ<img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250918163817637.png"
	width="1107"
	height="79"
	
	loading="lazy"
	
		alt="image-20250918163817637"
	
	
		class="gallery-image" 
		data-flex-grow="1401"
		data-flex-basis="3363px"
	
></p>
</blockquote>
</li>
<li>
<p><strong>Sç¡çœ çŠ¶æ€ï¼ˆsleeping)</strong>ï¼šæ„å‘³ç€è¿›ç¨‹åœ¨ç­‰å¾…äº‹ä»¶å®Œæˆï¼ˆè¿™é‡Œçš„ç¡çœ æœ‰æ—¶å€™ä¹Ÿå«åšå¯ä¸­æ–­ç¡çœ 
(interruptible sleep)ï¼Œæµ…ç¡çœ ï¼‰</p>
<blockquote>
<p>å¯ä¸­æ–­ä¼‘çœ çŠ¶æ€ï¼šå¦‚æœä¸€ä¸ªè¿›ç¨‹è‡ªå·±å¤„äºSçŠ¶æ€ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥æ€æ‰è¿™ä¸ªè¿›ç¨‹ï¼Œè¿™ä¸ªè¿›ç¨‹ä¼šå“åº”æˆ‘ä»¬æ€æ‰å®ƒçš„åŠ¨ä½œ</p>
</blockquote>
<p>å½“æˆ‘ä»¬é”®ç›˜ä¸€ç›´æ²¡æœ‰è¾“å…¥æ—¶ï¼Œè¿›ç¨‹çŠ¶æ€å°±æ˜¯Sï¼ˆé˜»å¡çŠ¶æ€ï¼‰ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;  </span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;sys/types.h&gt;  </span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;unistd.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>                                        
</span></span><span class="line"><span class="cl"><span class="p">{</span>                                                 
</span></span><span class="line"><span class="cl">    <span class="nf">printf</span><span class="p">(</span><span class="s">&#34;æˆ‘æ˜¯ä¸€ä¸ªè¿›ç¨‹ï¼Œpidï¼š%d</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="nf">getpid</span><span class="p">());</span>  
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">x</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="nf">scanf</span><span class="p">(</span><span class="s">&#34;%d&#34;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">x</span><span class="p">);</span>                                                     
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250918165113210.png"
	width="1094"
	height="75"
	
	loading="lazy"
	
		alt="image-20250918165113210"
	
	
		class="gallery-image" 
		data-flex-grow="1458"
		data-flex-basis="3500px"
	
></p>
<p>å½“ä»£ç ä¸­æœ‰printfï¼ˆæœ‰IOæ“ä½œï¼‰æ—¶ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;                                        </span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">while</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nf">printf</span><span class="p">(</span><span class="s">&#34;hello</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250918162923794.png"
	width="1107"
	height="80"
	
	loading="lazy"
	
		alt="image-20250918162923794"
	
	
		class="gallery-image" 
		data-flex-grow="1383"
		data-flex-basis="3321px"
	
></p>
</li>
<li>
<p><strong>tå’ŒT æš‚åœçŠ¶æ€</strong></p>
<p><strong>tçŠ¶æ€</strong></p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250918165800223.png"
	width="1272"
	height="1236"
	
	loading="lazy"
	
		alt="image-20250918165800223"
	
	
		class="gallery-image" 
		data-flex-grow="102"
		data-flex-basis="246px"
	
></p>
<p>å½“æˆ‘ä»¬è°ƒè¯•ç¨‹åºæ—¶ï¼Œç»™è¿™ä¸ªç¨‹åºæ‰“ä¸Šæ–­ç‚¹å†è¿è¡Œï¼Œé‚£ä¹ˆè¿™ä¸ªç¨‹åºçš„è¿›ç¨‹çŠ¶æ€å°±æ˜¯ tï¼Œå³è¿›ç¨‹è¢«æš‚åœäº†</p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250918165644447.png"
	width="1599"
	height="111"
	
	loading="lazy"
	
		alt="image-20250918165644447"
	
	
		class="gallery-image" 
		data-flex-grow="1440"
		data-flex-basis="3457px"
	
></p>
<p><strong>Tåœæ­¢çŠ¶æ€ï¼ˆstoppedï¼‰</strong>ï¼šå¯ä»¥é€šè¿‡å‘é€ SIGSTOPä¿¡å·ç»™è¿›ç¨‹æ¥åœæ­¢ï¼ˆTï¼‰è¿›ç¨‹ã€‚è¿™ä¸ªè¢«æš‚åœçš„
è¿›ç¨‹å¯ä»¥é€šè¿‡å‘é€SIGCONTä¿¡å·è®©è¿›ç¨‹ç»§ç»­è¿è¡Œ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;                                        </span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">while</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nf">printf</span><span class="p">(</span><span class="s">&#34;hello</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å½“æˆ‘ä»¬æŒ‰ctrl+Z å°†å½“å‰è¿›ç¨‹æš‚åœï¼Œæ˜¯é€šè¿‡ç”¨æˆ·è¿›è¡Œæ“ä½œå°†è¿›ç¨‹æš‚åœäº†ï¼Œè¿™æ—¶çš„çŠ¶æ€å°±æ˜¯ T</p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250918170803795.png"
	width="768"
	height="117"
	
	loading="lazy"
	
		alt="image-20250918170803795"
	
	
		class="gallery-image" 
		data-flex-grow="656"
		data-flex-basis="1575px"
	
></p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250918170549871-17581863759721.png"
	width="1088"
	height="80"
	
	loading="lazy"
	
		alt="image-20250918170549871"
	
	
		class="gallery-image" 
		data-flex-grow="1360"
		data-flex-basis="3264px"
	
></p>
<blockquote>
<p>æš‚åœè¿›ç¨‹çš„æ–¹å¼äºŒï¼šå‘é€ä¿¡å·</p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250918173727937.png"
	width="1290"
	height="609"
	
	loading="lazy"
	
		alt="image-20250918173727937"
	
	
		class="gallery-image" 
		data-flex-grow="211"
		data-flex-basis="508px"
	
></p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250918173900743.png"
	width="1091"
	height="75"
	
	loading="lazy"
	
		alt="image-20250918173900743"
	
	
		class="gallery-image" 
		data-flex-grow="1454"
		data-flex-basis="3491px"
	
></p>
<p>å¦‚æœæƒ³è¦è¿›ç¨‹å†æ¬¡è¿è¡Œ</p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250918174009739.png"
	width="992"
	height="87"
	
	loading="lazy"
	
		alt="image-20250918174009739"
	
	
		class="gallery-image" 
		data-flex-grow="1140"
		data-flex-basis="2736px"
	
></p>
</blockquote>
</li>
<li>
<p><strong>Dç£ç›˜ä¼‘çœ çŠ¶æ€ï¼ˆDisk sleepï¼‰</strong>ï¼šæ·±ç¡çœ ï¼Œä¹Ÿå¯ä»¥å«ä¸å¯ä¸­æ–­ç¡çœ çŠ¶æ€ï¼ˆuninterruptible sleepï¼‰ï¼Œé€šå¸¸å‘ç”Ÿåœ¨åŒæ­¥I/Oæ“ä½œæˆ–æŸäº›å†…æ ¸æ“ä½œï¼ˆå¦‚å†…å­˜æ¢é¡µï¼‰æ—¶ã€‚åœ¨è¿™ä¸ªçŠ¶æ€çš„è¿›ç¨‹é€šå¸¸ä¼šç­‰å¾…IOçš„ç»“æŸã€‚</p>
<p>å¤„äºDçŠ¶æ€çš„è¿›ç¨‹æœ‰æƒä¸å¯¹ä»»ä½•æ€æ‰çš„åŠ¨ä½œåšå‡ºå“åº”ï¼Œä¹Ÿå°±æ˜¯æ“ä½œç³»ç»Ÿæˆ–è€…ç”¨æˆ·ä¸ç®¡ä»€ä¹ˆæƒ…å†µä¸‹éƒ½æ€ä¸æ­»è¯¥è¿›ç¨‹ï¼Œåªèƒ½ç­‰è¯¥è¿›ç¨‹è‡ªå·±â€é†’æ¥â€œ</p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250918172134624.png"
	width="724"
	height="516"
	
	loading="lazy"
	
		alt="image-20250918172134624"
	
	
		class="gallery-image" 
		data-flex-grow="140"
		data-flex-basis="336px"
	
></p>
<blockquote>
<p>æ³¨æ„ï¼š</p>
<p>1.æ­£å¸¸çš„ç”¨æˆ·ç¨‹åºï¼ˆå¦‚å¤åˆ¶æ–‡ä»¶ï¼‰é€šå¸¸ä¸ä¼šé•¿æ—¶é—´å¤„äºDçŠ¶æ€ï¼Œå› ä¸ºæ“ä½œç³»ç»Ÿä½¿ç”¨äº†ç¼“å­˜ã€‚</p>
<p>2.å¦‚æœç³»ç»Ÿä¸­æœ‰è¿›ç¨‹é•¿æ—¶é—´å¤„äºDçŠ¶æ€ï¼Œè¿™å¾ˆå¯èƒ½æ„å‘³ç€ç¡¬ä»¶ï¼ˆå¦‚ç£ç›˜ï¼‰å‡ºç°äº†æ•…éšœï¼Œæˆ–è€…ç³»ç»Ÿè´Ÿè½½è¿‡é«˜å¯¼è‡´I/Oå“åº”æå…¶ç¼“æ…¢ï¼ˆæ¯”å¦‚åœ¨å†…å­˜ä¸è¶³æ—¶å¤§é‡æ¢é¡µï¼‰ï¼Œä»è€Œä½¿å¾—è¿›ç¨‹æ— æ³•åœ¨çŸ­æ—¶é—´å†…å®Œæˆl/Oæ“ä½œã€‚</p>
</blockquote>
<p>æ¨¡æ‹ŸDçŠ¶æ€ï¼šddå‘½ä»¤</p>
<p>dd if=/dev/zero of=~/test.txt bs=4096 count=100000</p>
</li>
<li>
<p><strong>xæ­»äº¡çŠ¶æ€ï¼ˆdeadï¼‰</strong>ï¼šè¿™ä¸ªçŠ¶æ€åªæ˜¯ä¸€ä¸ªè¿”å›çŠ¶æ€ï¼Œä½ ä¸ä¼šåœ¨ä»»åŠ¡åˆ—è¡¨é‡Œçœ‹åˆ°è¿™ä¸ªçŠ¶æ€</p>
</li>
<li>
<p><a class="link" href="###6.3.3%e5%83%b5%e5%b0%b8%e8%bf%9b%e7%a8%8b" >Zåƒµå°¸çŠ¶æ€ï¼ˆzombieï¼‰</a>ï¼šå­è¿›ç¨‹é€€å‡ºåï¼Œçˆ¶è¿›ç¨‹è¿˜åœ¨è¿è¡Œï¼Œä½†çˆ¶è¿›ç¨‹æ²¡æœ‰è¯»å–å­è¿›ç¨‹é€€å‡ºä¿¡æ¯ï¼Œæ­¤æ—¶å­è¿›ç¨‹å°±è¿›å…¥ZçŠ¶æ€</p>
</li>
</ul>
<h4 id="æ€»ç»“">æ€»ç»“
</h4><ul>
<li>
<p><strong>è¿è¡Œ</strong></p>
<ul>
<li>Rï¼šè¿è¡ŒçŠ¶æ€ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠ è¿è¡ŒçŠ¶æ€ã€å°±ç»ªçŠ¶æ€ã€åˆ›å»ºçŠ¶æ€ éƒ½å½“æˆè¿è¡ŒçŠ¶æ€</li>
</ul>
</li>
<li>
<p><strong>é˜»å¡</strong>ï¼š</p>
<ul>
<li>Sï¼šå¯ä¸­æ–­ç¡çœ ï¼Œæµ…ç¡çœ ã€‚æ„å‘³ç€è¿›ç¨‹åœ¨ç­‰å¾…äº‹ä»¶å®Œæˆ</li>
<li>Dï¼šä¸å¯ä¸­æ–­ç¡çœ ï¼Œæ·±åº¦ç¡çœ ã€‚å’Œç£ç›˜çš„è¯»å–å†™å…¥ç›¸å…³ï¼ˆå¦‚æœè¢«ä¸­æ–­ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ•°æ®ä¸¢å¤±ï¼‰</li>
</ul>
</li>
<li>
<p><strong>æš‚åœçŠ¶æ€ t / T</strong></p>
<ul>
<li>tï¼šè¢«debugï¼Œæ–­ç‚¹ï¼šè¿›ç¨‹è¢«æš‚åœäº†</li>
<li>Tï¼šé€šè¿‡ç”¨æˆ·è¿›è¡Œæ“ä½œå°†è¿›ç¨‹æš‚åœï¼Œæ¯”å¦‚é€šè¿‡å‘é€ä¿¡å· kill -19</li>
</ul>
</li>
<li>
<p><strong>ç»“æŸçŠ¶æ€</strong></p>
<ul>
<li>Xï¼šæ­»äº¡çŠ¶æ€</li>
<li>Zï¼šåƒµå°¸çŠ¶æ€ï¼Œå­è¿›ç¨‹é€€å‡ºåï¼Œçˆ¶è¿›ç¨‹è¿˜åœ¨è¿è¡Œï¼Œä½†çˆ¶è¿›ç¨‹æ²¡æœ‰è¯»å–å­è¿›ç¨‹é€€å‡ºä¿¡æ¯</li>
</ul>
</li>
</ul>
<p>é˜»å¡çŠ¶æ€æ˜¯è¿›ç¨‹è‡ªå·±ç­‰å¾…æŸç§è®¾å¤‡æˆ–è€…èµ„æºå°±ç»ªï¼Œæ¯”å¦‚è¿›ç¨‹ç­‰å¾… I/O å®Œæˆ</p>
<p>æš‚åœçŠ¶æ€æ˜¯å¤–éƒ¨å¼ºåˆ¶è®©è¿›ç¨‹åœä¸‹æ¥ï¼Œæ¯”å¦‚è°ƒè¯•è¿‡ç¨‹ä¸­ä¸‹æ–­ç‚¹å’Œç”¨æˆ·å‘é€æš‚åœä¿¡å·</p>
<p>æŒ‚èµ·çŠ¶æ€æœ¬è´¨æ˜¯ç³»ç»Ÿå†…èµ„æºä¸¥é‡ä¸è¶³ï¼Œæ“ä½œç³»ç»Ÿä¸ºäº†èŠ‚çœå†…å­˜ï¼ŒæŠŠä¸€ä¸ªè¿›ç¨‹çš„ä»£ç å’Œæ•°æ®æ¢å‡ºåˆ°äº¤æ¢åˆ†åŒºä¸Šï¼Œç­‰éœ€è¦è°ƒåº¦/è¿è¡Œçš„æ—¶å€™å†æ¢å…¥è¿›æ¥</p>
<h3 id="632åƒµå°¸è¿›ç¨‹">6.3.2åƒµå°¸è¿›ç¨‹
</h3><p><strong>Zåƒµå°¸çŠ¶æ€ï¼ˆzombieï¼‰</strong>ï¼šä¸ºäº†è·å–é€€å‡ºä¿¡æ¯</p>
<blockquote>
<p>åœ¨Linuxç³»ç»Ÿé‡Œï¼Œæˆ‘ä»¬ç›®å‰æ‰€å­¦çš„æ‰€æœ‰è¿›ç¨‹éƒ½æ˜¯æŸä¸ªè¿›ç¨‹çš„å­è¿›ç¨‹ï¼Œæˆ‘ä»¬åˆ›å»ºå­è¿›ç¨‹çš„ç›®çš„æ˜¯ä¸ºäº†è®©å­è¿›ç¨‹å®ŒæˆæŸç§äº‹æƒ…ã€‚æ‰€ä»¥å½“ä¸€ä¸ªå­è¿›ç¨‹é€€å‡ºï¼Œä¸èƒ½ç›´æ¥é€€å‡ºï¼Œå­è¿›ç¨‹é€€å‡ºçš„ç»“æœä¿¡æ¯å¾—è®©çˆ¶è¿›ç¨‹çŸ¥é“</p>
<p>å½“ä¸€ä¸ªè¿›ç¨‹é€€å‡ºæ—¶ï¼Œå®ƒçš„ä»£ç å’Œæ•°æ®ç›´æ¥å°±è¢«é‡Šæ”¾æ‰äº†ï¼Œä½†æ˜¯å®ƒçš„PCBå¿…é¡»ä¸€ç›´ç»´æŒï¼ˆPCBå°±æ˜¯æ“ä½œç³»ç»Ÿå†…éƒ¨çš„ä¸€ä¸ªæ•°æ®ç»“æ„ï¼Œçˆ¶è¿›ç¨‹å¯ä»¥è¿›è¡Œç³»ç»Ÿè°ƒç”¨ï¼Œè·å¾—å­è¿›ç¨‹çš„ä¿¡æ¯ï¼‰ï¼Œç›´åˆ°çˆ¶è¿›ç¨‹è¯»å–åˆ°å­è¿›ç¨‹çš„é€€å‡ºä¿¡æ¯</p>
</blockquote>
<p><strong>å¦‚ä½•æ¨¡æ‹ŸZçŠ¶æ€ï¼Ÿ</strong></p>
<p>1.éœ€è¦æœ‰çˆ¶å­è¿›ç¨‹</p>
<p>2.éœ€è¦è®©å­è¿›ç¨‹é€€å‡º</p>
<p>3.å­è¿›ç¨‹åœ¨é€€å‡ºçš„æ—¶å€™ï¼Œçˆ¶è¿›ç¨‹ä»€ä¹ˆéƒ½ä¸å¹²ï¼Œè®©å­è¿›ç¨‹ä¸€ç›´ç»´æŒåœ¨ZçŠ¶æ€</p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250918180152504.png"
	width="1437"
	height="1519"
	
	loading="lazy"
	
		alt="image-20250918180152504"
	
	
		class="gallery-image" 
		data-flex-grow="94"
		data-flex-basis="227px"
	
></p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250918180437148.png"
	width="1272"
	height="114"
	
	loading="lazy"
	
		alt="image-20250918180437148"
	
	
		class="gallery-image" 
		data-flex-grow="1115"
		data-flex-basis="2677px"
	
></p>
<p>å¦‚æœçˆ¶è¿›ç¨‹ä¸€ç›´ä¸ç®¡ï¼Œä¸å›æ”¶ï¼Œä¸è·å–å­è¿›ç¨‹çš„é€€å‡ºä¿¡æ¯ï¼Œé‚£ä¹ˆZçŠ¶æ€ä¼šä¸€ç›´å­˜åœ¨</p>
<blockquote>
<p>å¦‚æœçˆ¶è¿›ç¨‹ä¸ç®¡ï¼Œå­è¿›ç¨‹çš„ZçŠ¶æ€ä¸€ç›´å­˜åœ¨ï¼Œé‚£ä¹ˆPCBå°±è¦ä¸€ç›´ç»´æŠ¤ï¼Œå°±è¦ä¸€ç›´å ç”¨å†…å­˜ï¼Œå°±ä¼šå¼•å‘å†…å­˜æ³„æ¼é—®é¢˜</p>
<p>æ‰€ä»¥çˆ¶è¿›ç¨‹æœªæ¥è·å–å­è¿›ç¨‹é€€å‡ºä¿¡æ¯çš„æ—¶å€™ï¼Œé™¤äº†è·å–å­è¿›ç¨‹çš„é€€å‡ºä¿¡æ¯ï¼Œè¿˜è¦æŠŠPCBé‡Šæ”¾æ‰ï¼ˆè§£å†³å†…å­˜æ³„æ¼ï¼‰</p>
</blockquote>
<p><strong>çŸ¥è¯†ç‚¹1ï¼š</strong></p>
<p>è¿›ç¨‹é€€å‡ºäº†ï¼Œå†…å­˜æ³„æ¼é—®é¢˜è¿˜åœ¨ä¸åœ¨ï¼Ÿä¸åœ¨</p>
<p>ä»€ä¹ˆæ ·çš„è¿›ç¨‹å…·æœ‰å†…å­˜æ³„æ¼é—®é¢˜ï¼Œæ˜¯æ¯”è¾ƒéº»çƒ¦çš„ï¼Ÿå¸¸é©»å†…å­˜è¿›ç¨‹ï¼ˆä¸€æ—¦å¯åŠ¨å°±ä¸ä¼šé€€å‡ºï¼‰</p>
<p>æ“ä½œç³»ç»Ÿä¸€æ—¦å¯åŠ¨åï¼Œå°±æ˜¯å¸¸é©»å†…å­˜è½¯ä»¶</p>
<p><strong>çŸ¥è¯†ç‚¹2ï¼šå…³äºå†…æ ¸ç»“æ„çš„ç”³è¯·</strong></p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250918182005433.png"
	width="857"
	height="511"
	
	loading="lazy"
	
		alt="image-20250918182005433"
	
	
		class="gallery-image" 
		data-flex-grow="167"
		data-flex-basis="402px"
	
></p>
<h3 id="633å­¤å„¿è¿›ç¨‹">6.3.3å­¤å„¿è¿›ç¨‹
</h3><p>çˆ¶è¿›ç¨‹å…ˆé€€å‡ºï¼Œå­è¿›ç¨‹å°±ç§°ä¸ºâ€œå­¤å„¿è¿›ç¨‹â€</p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250921192800700.png"
	width="1431"
	height="1158"
	
	loading="lazy"
	
		alt="image-20250921192800700"
	
	
		class="gallery-image" 
		data-flex-grow="123"
		data-flex-basis="296px"
	
></p>
<p>çˆ¶å­è¿›ç¨‹å…³ç³»ä¸­ï¼Œå¦‚æœçˆ¶è¿›ç¨‹å…ˆé€€å‡ºï¼Œå­è¿›ç¨‹è¦è¢«init / systemd è¿›ç¨‹é¢†å…»ï¼Œç”±init / systemdè¿›ç¨‹å›æ”¶ï¼Œè¿™ä¸ªè¢«é¢†å…»çš„è¿›ç¨‹ï¼ˆå­è¿›ç¨‹ï¼‰ï¼Œå«åšå­¤å„¿è¿›ç¨‹</p>
<p><code>while :; do ps ajx | head -1 &amp;&amp; ps ajx | grep myprocess;sleep 1; done</code></p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250921193128329.png"
	width="1102"
	height="216"
	
	loading="lazy"
	
		alt="image-20250921193128329"
	
	
		class="gallery-image" 
		data-flex-grow="510"
		data-flex-basis="1224px"
	
></p>
<p>1å· systemd/init è¿›ç¨‹â€”â€”&gt;æ“ä½œç³»ç»Ÿ</p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250921193719843.png"
	width="1362"
	height="248"
	
	loading="lazy"
	
		alt="image-20250921193719843"
	
	
		class="gallery-image" 
		data-flex-grow="549"
		data-flex-basis="1318px"
	
></p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250921193945164.png"
	width="1741"
	height="303"
	
	loading="lazy"
	
		alt="image-20250921193945164"
	
	
		class="gallery-image" 
		data-flex-grow="574"
		data-flex-basis="1379px"
	
></p>
<p><strong>ä¸ºä»€ä¹ˆè¦é¢†å…»ï¼Ÿ</strong></p>
<p>å¦‚æœä¸é¢†å…»ï¼Œå­è¿›ç¨‹è¿›å…¥åƒµå°¸ä¹‹åï¼Œå°±ä¸€å®šä¼šé€ æˆå†…å­˜æ³„æ¼è€Œæ— æ³•è§£å†³</p>
<p>å­¤å„¿è¿›ç¨‹ä¼šå˜æˆåå°è¿›ç¨‹</p>
<blockquote>
<p>./cmd &amp; ä¹Ÿä¼šå˜æˆåå°è¿›ç¨‹</p>
<p>ctrl+cä¸èƒ½æ€æ‰åå°è¿›ç¨‹</p>
</blockquote>
<h2 id="14è¿›ç¨‹çš„ä¼˜å…ˆçº§">1.4è¿›ç¨‹çš„ä¼˜å…ˆçº§
</h2><h3 id="641åŸºæœ¬æ¦‚å¿µ">6.4.1åŸºæœ¬æ¦‚å¿µ
</h3><p><strong>è¿›ç¨‹çš„ä¼˜å…ˆçº§æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p>
<p>æ˜¯è¿›ç¨‹å¾—åˆ°CPUèµ„æºçš„å…ˆåé¡ºåº</p>
<p><strong>ä¸ºä»€ä¹ˆè¦æœ‰ä¼˜å…ˆçº§ï¼Ÿ</strong></p>
<p>ç›®æ ‡èµ„æºç¨€ç¼ºï¼Œå¯¼è‡´è¦é€šè¿‡ä¼˜å…ˆçº§ç¡®è®¤è°å…ˆè°åçš„é—®é¢˜</p>
<p><strong>ä¼˜å…ˆçº§vsæƒé™</strong></p>
<p>ä¼˜å…ˆçº§ï¼šèƒ½å¾—åˆ°èµ„æºï¼Œå…ˆåé—®é¢˜</p>
<p>æƒé™ï¼šæ˜¯å¦èƒ½å¾—åˆ°èµ„æº</p>
<p><strong>æ“ä½œç³»ç»Ÿå†…ä¼˜å…ˆçº§æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ</strong></p>
<p>ä¼˜å…ˆçº§ä¹Ÿæ˜¯ä¸€ç§æ•°å­—ï¼Œtask_structä¸­çš„ä¸€ç§å±æ€§</p>
<p>å€¼è¶Šä½ï¼Œä¼˜å…ˆçº§è¶Šé«˜ï¼Œåä¹‹ï¼Œä¼˜å…ˆçº§è¶Šä½</p>
<p>å½“ä»£å¤§éƒ¨åˆ†æ“ä½œç³»ç»Ÿéƒ½æ˜¯åŸºäºæ—¶é—´ç‰‡çš„åˆ†æ—¶æ“ä½œç³»ç»Ÿï¼Œè¦è€ƒè™‘å…¬å¹³æ€§ï¼Œä¼˜å…ˆçº§å¯èƒ½å˜åŒ–ï¼Œä½†æ˜¯å˜åŒ–å¹…åº¦ä¸èƒ½å¤ªå¤§</p>
<h3 id="642æŸ¥çœ‹ç³»ç»Ÿè¿›ç¨‹">6.4.2æŸ¥çœ‹ç³»ç»Ÿè¿›ç¨‹
</h3><p><code>ps -l</code></p>
<p><img src="/p/linux-process-basic/index.assets/image-20251107101007169.png"
	width="1130"
	height="152"
	
	loading="lazy"
	
		alt="image-20251107101007169"
	
	
		class="gallery-image" 
		data-flex-grow="743"
		data-flex-basis="1784px"
	
></p>
<ul>
<li>UIDï¼šuser id</li>
<li>PRIï¼šä»£è¡¨è¿™ä¸ªè¿›ç¨‹å¯è¢«æ‰§è¡Œçš„ä¼˜å…ˆçº§ï¼Œå…¶å€¼è¶Šå°è¶Šæ—©è¢«æ‰§è¡Œ</li>
</ul>
<ul>
<li>NIï¼šä»£è¡¨è¿™ä¸ªè¿›ç¨‹çš„niceå€¼</li>
</ul>
<p><code>ps -al | head -1 &amp;&amp; ps -al | grep myprocess</code></p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250926183023700.png"
	width="1319"
	height="163"
	
	loading="lazy"
	
		alt="image-20250926183023700"
	
	
		class="gallery-image" 
		data-flex-grow="809"
		data-flex-basis="1942px"
	
></p>
<p><strong>å°çŸ¥è¯†</strong></p>
<p>Linuxæ˜¯é€šè¿‡ç”¨æˆ·idæ¥è¯†åˆ«ç”¨æˆ·çš„</p>
<p>æ–‡ä»¶åœ¨åˆ›å»ºçš„æ—¶å€™å°±å†™å…¥äº†UIDï¼Œå³è¿™ä¸ªæ–‡ä»¶æ˜¯è°åˆ›å»ºçš„</p>
<p>è¿›ç¨‹åœ¨å¯åŠ¨çš„æ—¶å€™ä¹Ÿä¼šæŠŠUIDä¿å­˜èµ·æ¥ï¼Œè¡¨æ˜è¿™ä¸ªè¿›ç¨‹æ˜¯è°å¯åŠ¨çš„</p>
<blockquote>
<p>å¦‚ä½•æŸ¥çœ‹ç”¨æˆ·idï¼Ÿls -ln</p>
<p>nè¡¨ç¤ºæ˜¾ç¤ºæ•°å­—</p>
<p><img src="/p/linux-process-basic/index.assets/image-20251107105743703.png"
	width="997"
	height="385"
	
	loading="lazy"
	
		alt="image-20251107105743703"
	
	
		class="gallery-image" 
		data-flex-grow="258"
		data-flex-basis="621px"
	
></p>
</blockquote>
<p>ç³»ç»Ÿæ€ä¹ˆçŸ¥é“æˆ‘è®¿é—®æ–‡ä»¶çš„æ—¶å€™ï¼Œæ˜¯æ‹¥æœ‰è€…ï¼Œæ‰€å±ç»„ï¼Œè¿˜æ˜¯other</p>
<p>å½“æˆ‘ä»¬ touch ï¼Œcatï¼Œvim &hellip;è®¿é—®æ–‡ä»¶çš„æ—¶å€™ï¼Œ<span style="color: #8080FF;">æœ¬è´¨æ˜¯è¿›ç¨‹åœ¨è®¿é—®æ–‡ä»¶</span></p>
<p>è¿›ç¨‹åœ¨å¯åŠ¨çš„æ—¶å€™ä¼šä¿å­˜å¯åŠ¨å®ƒçš„UID</p>
<p><strong>Linuxç³»ç»Ÿä¸­ï¼Œè®¿é—®ä»»ä½•èµ„æºï¼Œéƒ½æ˜¯è¿›ç¨‹è®¿é—®</strong>ï¼Œè¿›ç¨‹å°±ä»£è¡¨ç”¨æˆ·</p>
<p>è¯†åˆ«æƒé™ä¸æ˜¯è¯†åˆ«ç”¨æˆ·ï¼Œæ˜¯<strong>è¯†åˆ«è¿›ç¨‹å’Œæ–‡ä»¶ä¹‹é—´çš„æƒé™</strong>çš„</p>
<h3 id="643priå’Œni">6.4.3PRIå’ŒNI
</h3><p><strong><span style="color: #8080FF;">PRIï¼šè¿›ç¨‹çš„ä¼˜å…ˆçº§ï¼Œé»˜è®¤ï¼š80</span></strong></p>
<p><strong><span style="color: #8080FF;">NIï¼šè¿›ç¨‹ä¼˜å…ˆçº§çš„ä¿®æ­£æ•°æ®ï¼Œniceå€¼ï¼Œé»˜è®¤ä¸º0</span></strong></p>
<blockquote>
<p>åœ¨Linuxç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬çš„è¿›ç¨‹ä¼˜å…ˆçº§æ˜¯å¯ä»¥è¢«åŠ¨æ€è°ƒæ•´çš„ï¼Œä¸ç®¡æ˜¯è¿›ç¨‹å¯åŠ¨å‰è¿˜æ˜¯è¿›ç¨‹è¿è¡Œè¿‡ç¨‹ä¸­</p>
</blockquote>
<p><strong><span style="color: #8080FF;">è¿›ç¨‹çœŸå®çš„ä¼˜å…ˆçº§=PRI(é»˜è®¤80) + NI</span></strong></p>
<p><strong>æ”¹è¿›ç¨‹çš„ä¼˜å…ˆçº§ï¼Œ<code>top</code>ï¼Œå†è¾“å…¥ <code>r</code></strong></p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250926184346539.png"
	width="1420"
	height="768"
	
	loading="lazy"
	
		alt="image-20250926184346539"
	
	
		class="gallery-image" 
		data-flex-grow="184"
		data-flex-basis="443px"
	
></p>
<p>ä¿®æ”¹Niceå€¼</p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250926184511004.png"
	width="719"
	height="269"
	
	loading="lazy"
	
		alt="image-20250926184511004"
	
	
		class="gallery-image" 
		data-flex-grow="267"
		data-flex-basis="641px"
	
></p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250926184656459.png"
	width="1348"
	height="174"
	
	loading="lazy"
	
		alt="image-20250926184656459"
	
	
		class="gallery-image" 
		data-flex-grow="774"
		data-flex-basis="1859px"
	
></p>
<blockquote>
<p>è¿˜æœ‰ä¸€äº›æ–¹æ³•å¯ä»¥æ”¹è¿›ç¨‹çš„ä¼˜å…ˆçº§ï¼šniceï¼Œreniceå‘½ä»¤</p>
</blockquote>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250926185531250.png"
	width="928"
	height="59"
	
	loading="lazy"
	
		alt="image-20250926185531250"
	
	
		class="gallery-image" 
		data-flex-grow="1572"
		data-flex-basis="3774px"
	
></p>
<p><strong>ä¼˜å…ˆçº§çš„æå€¼é—®é¢˜ï¼š</strong></p>
<p><code>renice -n -100 -p 3092</code></p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250926190322281.png"
	width="1152"
	height="104"
	
	loading="lazy"
	
		alt="image-20250926190322281"
	
	
		class="gallery-image" 
		data-flex-grow="1107"
		data-flex-basis="2658px"
	
></p>
<p><code>renice -n 100 -p 3092</code></p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250926190443658.png"
	width="1256"
	height="117"
	
	loading="lazy"
	
		alt="image-20250926190443658"
	
	
		class="gallery-image" 
		data-flex-grow="1073"
		data-flex-basis="2576px"
	
></p>
<p><span style="color: #8080FF;">niceå€¼çš„èŒƒå›´æ˜¯[-10, 19]</span></p>
<p><span style="color: #FFA8FF;">è¿›ç¨‹ä¼˜å…ˆçº§PRIé»˜è®¤æ˜¯ï¼š80</span></p>
<p><span style="color: #FF8000;">Linuxè¿›ç¨‹çš„ä¼˜å…ˆçº§èŒƒå›´ [60, 99]</span></p>
<blockquote>
<p>å› ä¸ºè¿›ç¨‹è°ƒåº¦è¦è€ƒè™‘å…¬å¹³æ€§</p>
</blockquote>
<p>è¿›ç¨‹ä¼˜å…ˆçº§è®¾ç«‹ä¸åˆç†ï¼Œä¼šå¯¼è‡´ä¼˜å…ˆçº§ä½çš„è¿›ç¨‹ï¼Œé•¿æ—¶é—´å¾—ä¸åˆ°CPUèµ„æºï¼Œè¿›è€Œå¯¼è‡´ï¼šè¿›ç¨‹é¥¥é¥¿</p>
<h3 id="644è¡¥å……-è¿›ç¨‹å››ä¸ªç‰¹å¾">6.4.4è¡¥å……: è¿›ç¨‹å››ä¸ªç‰¹å¾
</h3><ul>
<li>
<p>ç”±äºCPUèµ„æºæ˜¯æœ‰é™çš„ï¼Œæ‰€ä»¥å„ä¸ªè¿›ç¨‹ä¹‹é—´æ˜¯å…·æœ‰<strong>ç«äº‰</strong>å±æ€§çš„</p>
</li>
<li>
<p>è¿›ç¨‹ä¹‹é—´å…·æœ‰<strong>ç‹¬ç«‹æ€§</strong></p>
<p><code>è¿›ç¨‹=å†…æ ¸æ•°æ®ç»“æ„(task_struct)+ä»£ç å’Œæ•°æ®</code></p>
<p>æ¯ä¸ªè¿›ç¨‹éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„ task_structï¼Œæ¯ä¸ªè¿›ç¨‹éƒ½æœ‰è‡ªå·±çš„ä»£ç å’Œæ•°æ®</p>
</li>
<li>
<p><strong>å¹¶è¡Œ</strong>ï¼šå¤šä¸ªè¿›ç¨‹åœ¨<span style="color: #8080FF;">å¤šä¸ªCPU</span>ä¸‹åˆ†åˆ«ï¼ŒåŒæ—¶è¿›è¡Œè¿è¡Œ</p>
</li>
<li>
<p><strong>å¹¶å‘</strong>ï¼šå¤šä¸ªè¿›ç¨‹åœ¨<span style="color: #8080FF;">ä¸€ä¸ªCPU</span>ä¸‹é‡‡ç”¨<span style="color: #FF8000;">è¿›ç¨‹åˆ‡æ¢</span>çš„æ–¹å¼ï¼Œåœ¨ä¸€æ®µæ—¶é—´ä¹‹å†…ï¼Œè®©å¤šä¸ªè¿›ç¨‹éƒ½å¾—ä»¥æ¨è¿›</p>
</li>
</ul>
<blockquote>
<p>cat /proc/cpuinfo</p>
</blockquote>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250926192734748.png"
	width="999"
	height="664"
	
	loading="lazy"
	
		alt="image-20250926192734748"
	
	
		class="gallery-image" 
		data-flex-grow="150"
		data-flex-basis="361px"
	
></p>
<h2 id="15è¿›ç¨‹åˆ‡æ¢">1.5è¿›ç¨‹åˆ‡æ¢
</h2><h3 id="651æ­»å¾ªç¯è¿›ç¨‹å¦‚ä½•è¿è¡Œ">6.5.1æ­»å¾ªç¯è¿›ç¨‹å¦‚ä½•è¿è¡Œ
</h3><p>a. ä¸€æ—¦ä¸€ä¸ªè¿›ç¨‹å æœ‰CPUï¼Œä¼šæŠŠè‡ªå·±çš„ä»£ç è·‘å®Œå—ï¼Ÿ</p>
<p>â€‹	ä¸ä¼šï¼Œå¯¹äºæ¯ä¸€ä¸ªè¿›ç¨‹ï¼Œç³»ç»Ÿéƒ½ä¼šç»™å®ƒåˆ†é…ä¸€ä¸ªå«æ—¶é—´ç‰‡çš„ä¸œè¥¿</p>
<p>b. æ­»å¾ªç¯è¿›ç¨‹ï¼Œä¸ä¼šæ‰“æ­»ç³»ç»Ÿï¼Œä¸ä¼šä¸€ç›´å æœ‰CPU</p>
<h3 id="652cpuå¯„å­˜å™¨">6.5.2CPUï¼Œå¯„å­˜å™¨
</h3><p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250926194032755.png"
	width="788"
	height="547"
	
	loading="lazy"
	
		alt="image-20250926194032755"
	
	
		class="gallery-image" 
		data-flex-grow="144"
		data-flex-basis="345px"
	
></p>
<p><strong>ç»“è®ºï¼š</strong></p>
<ol>
<li>
<p>å¯„å­˜å™¨å°±æ˜¯CPUå†…éƒ¨çš„ä¸´æ—¶ç©ºé—´</p>
</li>
<li>
<p>å¯„å­˜å™¨ != å¯„å­˜å™¨é‡Œé¢çš„æ•°æ®</p>
</li>
</ol>
<p>â€‹		å¯„å­˜å™¨æ˜¯ç©ºé—´ï¼Œå¯„å­˜å™¨é‡Œé¢çš„æ•°æ®æ˜¯å†…å®¹ï¼</p>
<p>â€‹		<span style="color: #8080FF;">ç©ºé—´åªæœ‰1ä»½ï¼Œå†…å®¹æ˜¯å˜åŒ–çš„ï¼Œå¤šä»½çš„</span></p>
<h3 id="653è¿›ç¨‹æ˜¯å¦‚ä½•åˆ‡æ¢çš„">6.5.3è¿›ç¨‹æ˜¯å¦‚ä½•åˆ‡æ¢çš„ï¼Ÿ
</h3><p><strong>a. æ•…äº‹</strong></p>
<ol>
<li>
<p>å½“å…µï¼Ÿä¿ç•™å­¦ç±â€”&gt;å½“å…µâ€”&gt;æ¢å¤å­¦ç±</p>
<p>ä¿ç•™å­¦ç±çš„ç›®çš„å°±æ˜¯ä¸ºäº†æ¢å¤å­¦ç±</p>
</li>
</ol>
<p>â€‹	<img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250926195258392.png"
	width="981"
	height="208"
	
	loading="lazy"
	
		alt="image-20250926195258392"
	
	
		class="gallery-image" 
		data-flex-grow="471"
		data-flex-basis="1131px"
	
></p>
<p><strong>b. å…·ä½“</strong></p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250926195757264.png"
	width="1218"
	height="536"
	
	loading="lazy"
	
		alt="image-20250926195757264"
	
	
		class="gallery-image" 
		data-flex-grow="227"
		data-flex-basis="545px"
	
></p>
<p>è¿›ç¨‹åˆ‡æ¢ï¼Œæœ€æ ¸å¿ƒçš„å°±æ˜¯ä¿å­˜å’Œæ¢å¤å½“å‰è¿›ç¨‹çš„ç¡¬ä»¶ä¸Šä¸‹æ–‡çš„æ•°æ®ï¼Œå³CPUå†…å¯„å­˜å™¨çš„å†…å®¹ï¼</p>
<p><strong>1.å½“å‰è¿›ç¨‹è¦æŠŠè‡ªå·±çš„è¿›ç¨‹ç¡¬ä»¶ä¸Šä¸‹æ–‡æ•°æ®ï¼Œä¿å­˜èµ·æ¥ã€‚ä¿å­˜åˆ°å“ªé‡Œäº†å‘¢ï¼Ÿ</strong></p>
<p>ä¿å­˜åˆ°è¿›ç¨‹çš„task_strucé‡Œé¢</p>
<p>å½“ä»£è®¡ç®—æœºç»™æ¯ä¸ªè¿›ç¨‹ä¸€ä¸ª TSSï¼šä»»åŠ¡çŠ¶æ€æ®µï¼Œèƒ½ç›´æ¥é€šè¿‡task_structæ‰¾åˆ°TSS</p>
<p>â€‹	<img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250926201513761.png"
	width="1351"
	height="579"
	
	loading="lazy"
	
		alt="image-20250926201513761"
	
	
		class="gallery-image" 
		data-flex-grow="233"
		data-flex-basis="560px"
	
></p>
<p><strong>2.å…¨æ–°çš„è¿›ç¨‹vså·²ç»è°ƒåº¦è¿‡çš„è¿›ç¨‹</strong></p>
<p>å¯ä»¥ç†è§£æˆåœ¨task_structé‡Œé¢å†æ–°å¢ä¸€ä¸ªæ ‡è®°ä½ï¼Œæ¯”å¦‚int isRunning ï¼Œè¿›ç¨‹æ²¡æœ‰è¿è¡Œå°±æ˜¯0ï¼Œåªè¦ä¸€å¼€å§‹è°ƒåº¦å°±ç›´æ¥ç½®ä¸º1</p>
<blockquote>
<p>æ—¶é—´ç‰‡ï¼šå½“ä»£è®¡ç®—æœºéƒ½æ˜¯åˆ†æ—¶æ“ä½œç³»ç»Ÿï¼Œæ²¡æœ‰è¿›ç¨‹éƒ½æœ‰å®ƒåˆé€‚çš„æ—¶é—´ç‰‡ï¼ˆå…¶å®å°±æ˜¯ä¸€ä¸ªè®¡æ•°å™¨)ã€‚æ—¶é—´ç‰‡åˆ°è¾¾ï¼Œè¿›ç¨‹å°±è¢«æ“ä½œç³»ç»Ÿä»CPUä¸­å‰¥ç¦»ä¸‹æ¥ã€‚</p>
<p>struct task_struct* current è®°å½•å½“å‰è¿›ç¨‹ç»“æ„æŒ‡é’ˆå˜é‡</p>
</blockquote>
<h2 id="16linux26å†…æ ¸è¿›ç¨‹oè°ƒåº¦é˜Ÿåˆ—">1.6Linux2.6å†…æ ¸è¿›ç¨‹O(1)è°ƒåº¦é˜Ÿåˆ—
</h2><p><span style="color: #FF8000;">è°ƒåº¦</span>å’Œ<span style="color: #FF8000;">åˆ‡æ¢</span>å…±åŒæ„æˆäº†<span style="color: #8080FF;">è°ƒåº¦å™¨</span>ï¼Œè°ƒåº¦å™¨çš„ä½œç”¨ï¼š1.åˆ‡æ¢ 2.é€‰æ‹©è¿›ç¨‹</p>
<blockquote>
<p>ä¹Ÿå°±æ˜¯å…ˆæŠŠå½“å‰è¿›ç¨‹ä¿å­˜ä¸‹æ¥ï¼Œå†åœ¨ç³»ç»Ÿä¸­é€‰æ‹©ä¸€ä¸ªè¿›ç¨‹ï¼ŒæŠŠè¿™ä¸ªè¿›ç¨‹æ”¾ä¸Šæ¥</p>
</blockquote>
<p><strong>LinuxçœŸå®è°ƒåº¦ç®—æ³•ï¼š</strong></p>
<p>ä¸€ä¸ªCPUï¼Œä¸€ä¸ªè¿è¡Œé˜Ÿåˆ—ï¼ˆä¸¤ä¸ªCPUï¼Œä¸¤ä¸ªè¿è¡Œé˜Ÿåˆ—&hellip;ï¼‰</p>
<p><strong>Linuxçš„ä¼˜å…ˆçº§æœ‰140ä¸ªï¼š</strong></p>
<ul>
<li>[0,99] 100ä¸ªæ˜¯å®æ—¶ä¼˜å…ˆçº§ï¼Œæˆ‘ä»¬ä¸è€ƒè™‘</li>
</ul>
<blockquote>
<p><strong>æ“ä½œç³»ç»Ÿåˆ†ä¸ºä¸¤å¤§ç±»ï¼š</strong></p>
<ol>
<li>
<p>åˆ†æ—¶æ“ä½œç³»ç»Ÿï¼šæŒ‰ç…§æ—¶é—´ç‰‡å…¬å¹³è°ƒåº¦</p>
<p>ç°åœ¨å¾ˆå¤šæ“ä½œç³»ç»Ÿéƒ½æ”¯æŒå†…æ ¸ä¼˜å…ˆçº§æŠ¢å </p>
</li>
<li>
<p>å®æ—¶æ“ä½œç³»ç»Ÿï¼šä¸€æ—¦æ¥äº†ä¸€ä¸ªè¿›ç¨‹ï¼Œå°±å¿…é¡»å®æ—¶å“åº”ï¼Œå¤„ç†å®Œæ‰èƒ½å¤„ç†ä¸‹ä¸€ä¸ªè¿›ç¨‹</p>
<p>å®æ—¶æ“ä½œç³»ç»Ÿä¸€èˆ¬åº”ç”¨åœ¨å·¥ä¸šã€åˆ¶é€ &hellip;ç­‰é¢†åŸŸï¼Œä¾‹å­ï¼šè½¦è½½æ“ä½œç³»ç»Ÿ</p>
</li>
</ol>
</blockquote>
<ul>
<li>æ™®é€šä¼˜å…ˆçº§ï¼š[100,139]</li>
</ul>
<h3 id="æ´»åŠ¨é˜Ÿåˆ—">æ´»åŠ¨é˜Ÿåˆ—
</h3><p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20250930211016217.png"
	width="1814"
	height="778"
	
	loading="lazy"
	
		alt="image-20250930211016217"
	
	
		class="gallery-image" 
		data-flex-grow="233"
		data-flex-basis="559px"
	
></p>
<p>Linuxè¿›ç¨‹çš„ä¼˜å…ˆçº§èŒƒå›´ [60, 99]ï¼Œåœ¨é˜Ÿåˆ—ä¸­çš„ä½ç½®ï¼šx-60+(140-40)</p>
<p>å®è§‚ä¸Šçœ‹ä¼˜å…ˆçº§ï¼Œä¼˜å…ˆçº§ç›¸åŒçš„ï¼Œå…ˆè¿›å…ˆå‡º</p>
<p><strong>è°ƒåº¦å™¨å¦‚ä½•å¿«é€Ÿåœ°æŒ‘é€‰ä¸€ä¸ªè¿›ç¨‹ï¼Ÿ</strong></p>
<p>unsigned int bitmap[5] ä½å›¾ â€”â€”&gt; 32 * 5 = 160</p>
<p>æ¯”ç‰¹ä½çš„ä½ç½®å’Œqueue[140]çš„ä½ç½®æ˜¯ä¸€ä¸€å¯¹åº”çš„</p>
<p>æ¯”ç‰¹ä½çš„å†…å®¹ï¼š1æˆ–0ï¼Œè¡¨ç¤ºæ˜¯å¦å­˜åœ¨è¿›ç¨‹</p>
<p><strong>è°ƒåº¦å™¨æŒ‘é€‰ä¸€ä¸ªè¿›ç¨‹ï¼š1.æŒ‘é˜Ÿåˆ— 2.æŒ‘è¿›ç¨‹</strong></p>
<p>è°ƒåº¦å™¨æŒ‘é˜Ÿåˆ—åªéœ€è¦æŸ¥çœ‹å¯¹åº”çš„ä½å›¾</p>
<p>nr_active: æ€»å…±æœ‰å¤šå°‘ä¸ªè¿è¡ŒçŠ¶æ€çš„è¿›ç¨‹</p>
<p>æ‰€ä»¥è°ƒåº¦çš„æ—¶å€™å…ˆæŸ¥nr_activeï¼Œå¤§äº0ï¼Œå†æŸ¥bitmapï¼Œç¡®è®¤ä¸‹æ ‡ç›´æ¥ç´¢å¼•æ‰¾åˆ°ç›®æ ‡é˜Ÿåˆ—ï¼Œä»é˜Ÿåˆ—å¤´éƒ¨æå–å†…å®¹ï¼Œpop_frontï¼ŒæŠŠå¯¹åº”èŠ‚ç‚¹æ‹¿å‡ºæ¥ï¼ŒæŠŠPCBæ”¾å…¥åˆ°currentæŒ‡é’ˆé‡Œï¼Œç„¶åæ‰§è¡Œåˆ‡æ¢ç®—æ³•ï¼Œç„¶åè®©currentæŒ‡å‘çš„è¿›ç¨‹æ”¾åˆ°CPUä¸Šå°±å¯ä»¥è¿è¡Œäº†</p>
<h3 id="è¿‡æœŸé˜Ÿåˆ—">è¿‡æœŸé˜Ÿåˆ—
</h3><p><strong>activeæŒ‡é’ˆå’ŒexpiredæŒ‡é’ˆ</strong></p>
<ul>
<li>activeæŒ‡é’ˆæ°¸è¿œæŒ‡å‘æ´»åŠ¨é˜Ÿåˆ—</li>
<li>expiredæŒ‡é’ˆæ°¸è¿œæŒ‡å‘è¿‡æœŸé˜Ÿåˆ—</li>
<li>æ´»åŠ¨é˜Ÿåˆ—ä¸Šçš„è¿›ç¨‹è°ƒç”¨å®Œä¹‹åï¼Œäº¤æ¢activeæŒ‡é’ˆå’ŒexpiredæŒ‡é’ˆçš„å†…å®¹</li>
</ul>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20251002100314694.png"
	width="758"
	height="163"
	
	loading="lazy"
	
		alt="image-20251002100314694"
	
	
		class="gallery-image" 
		data-flex-grow="465"
		data-flex-basis="1116px"
	
></p>
<h3 id="æ€»ç»“-1">æ€»ç»“
</h3><p>åœ¨ç³»ç»Ÿå½“ä¸­æŸ¥æ‰¾ä¸€ä¸ªæœ€åˆé€‚è°ƒåº¦çš„è¿›ç¨‹çš„æ—¶é—´å¤æ‚åº¦æ˜¯ä¸€ä¸ªå¸¸æ•°ï¼Œä¸éšç€è¿›ç¨‹å¢å¤šè€Œå¯¼è‡´æ—¶é—´æˆ
æœ¬å¢åŠ ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºè¿›ç¨‹è°ƒåº¦0(1)ç®—æ³•</p>
<h1 id="äºŒç¯å¢ƒå˜é‡">äºŒã€ç¯å¢ƒå˜é‡
</h1><h2 id="1-å¼•å‡ºç¯å¢ƒå˜é‡">1. å¼•å‡ºç¯å¢ƒå˜é‡
</h2><blockquote>
<p>ç¯å¢ƒå˜é‡çš„æ¦‚å¿µ</p>
<ul>
<li>
<p>ç¯å¢ƒå˜é‡ä¸€èˆ¬æ˜¯æŒ‡åœ¨æ“ä½œç³»ç»Ÿä¸­ç”¨æ¥<span style="color: #8080FF;">æŒ‡å®šæ“ä½œç³»ç»Ÿè¿è¡Œç¯å¢ƒçš„ä¸€äº›å‚æ•°</span></p>
<p>è¿™äº›å‚æ•°æœªæ¥è¢«bashç”¨ï¼Œbashç”¨äº†å°±æ˜¯ç”¨æˆ·é—´æ¥ç”¨äº†</p>
</li>
<li>
<p>å¦‚ï¼šæˆ‘ä»¬åœ¨ç¼–å†™C/C++ä»£ç çš„æ—¶å€™ï¼Œåœ¨é“¾æ¥çš„æ—¶å€™ï¼Œä»æ¥ä¸çŸ¥é“æˆ‘ä»¬çš„æ‰€é“¾æ¥çš„åŠ¨æ€é™æ€åº“åœ¨å“ªé‡Œï¼Œä½†æ˜¯ç…§æ ·å¯ä»¥é“¾æ¥æˆåŠŸï¼Œç”Ÿæˆå¯æ‰§è¡Œç¨‹åºï¼ŒåŸå› å°±æ˜¯æœ‰ç›¸å…³ç¯å¢ƒå˜é‡å¸®åŠ©ç¼–è¯‘å™¨è¿›è¡ŒæŸ¥æ‰¾ã€‚</p>
</li>
<li>
<p>ç¯å¢ƒå˜é‡é€šå¸¸å…·æœ‰æŸäº›ç‰¹æ®Šç”¨é€”ï¼Œè¿˜æœ‰åœ¨ç³»ç»Ÿå½“ä¸­é€šå¸¸å…·æœ‰å…¨å±€ç‰¹æ€§</p>
</li>
</ul>
</blockquote>
<h3 id="11å‘½ä»¤è¡Œå‚æ•°">1.1å‘½ä»¤è¡Œå‚æ•°
</h3><p>mainå‡½æ•°æ˜¯æœ‰å‚æ•°çš„ï¼Œargvæ˜¯ä¸€ä¸ªæŒ‡é’ˆæ•°ç»„ï¼Œargcä»£è¡¨æ•°ç»„ä¸­çš„å…ƒç´ ä¸ªæ•°</p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20251002103755642.png"
	width="772"
	height="410"
	
	loading="lazy"
	
		alt="image-20251002103755642"
	
	
		class="gallery-image" 
		data-flex-grow="188"
		data-flex-basis="451px"
	
></p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/1732168789744.png"
	width="750"
	height="189"
	
	loading="lazy"
	
		alt="73216878974"
	
	
		class="gallery-image" 
		data-flex-grow="396"
		data-flex-basis="952px"
	
></p>
<p>å½“æˆ‘ä»¬åœ¨å‘½ä»¤è¡Œè¾“å…¥ä¸€ä¸ª./code æˆ–ä»¥ç©ºæ ¼ä½œä¸ºåˆ†éš”ç¬¦ï¼Œå…¶å®è¾“å…¥çš„å°±æ˜¯ä¸€ä¸ªé•¿å­—ç¬¦ä¸²ã€‚è€Œå½“æˆ‘ä»¬åœ¨æ‰§è¡ŒæŸä¸€ä¸ªCè¯­è¨€ç¨‹åºæ—¶ï¼Œè¿™äº›å­—ç¬¦ä¸²ä¼šä»¥ç©ºæ ¼ä¸ºåˆ†éš”ç¬¦åˆ‡åˆ†</p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20251002104416560.png"
	width="445"
	height="360"
	
	loading="lazy"
	
		alt="image-20251002104416560"
	
	
		class="gallery-image" 
		data-flex-grow="123"
		data-flex-basis="296px"
	
></p>
<p>æˆ‘ä»¬å¹³æ—¶ç”¨çš„å‘½ä»¤æœ¬è´¨ä¸Šå°±æ˜¯å¯æ‰§è¡Œç¨‹åºï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯ç”¨Cè¯­è¨€å†™çš„ï¼Œæˆ‘ä»¬å¯ä»¥ç»™å‘½ä»¤åé¢å¸¦å¾ˆå¤šé€‰é¡¹</p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/1732168971833.png"
	width="1330"
	height="232"
	
	loading="lazy"
	
		alt="73216897183"
	
	
		class="gallery-image" 
		data-flex-grow="573"
		data-flex-basis="1375px"
	
></p>
<p><strong><mark>mainå‡½æ•°çš„å‘½ä»¤è¡Œå‚æ•°ï¼Œæ˜¯å®ç°ç¨‹åºä¸åŒå­åŠŸèƒ½çš„æ–¹æ³•ï¼ˆæŒ‡ä»¤å¸¦é€‰é¡¹ï¼‰</mark></strong></p>
<blockquote>
<p>æˆ‘ä»¬åœ¨å‘½ä»¤è¡Œè¾“å…¥å¸¦é€‰é¡¹çš„å‘½ä»¤ï¼Œæœ¬è´¨ä¸Šæ˜¯å­—ç¬¦ä¸²ï¼Œè¢«bashåˆ‡åˆ†</p>
</blockquote>
<p>è¿›ç¨‹æ‹¥æœ‰ä¸€å¼ è¡¨ï¼Œargvè¡¨ï¼Œç”¨æ¥æ”¯æŒå®ç°é€‰é¡¹åŠŸèƒ½</p>
<h3 id="12ç¯å¢ƒå˜é‡ä¸å‘½ä»¤æŸ¥æ‰¾">1.2ç¯å¢ƒå˜é‡ä¸å‘½ä»¤æŸ¥æ‰¾
</h3><ul>
<li><strong>è¦æ‰§è¡Œä¸€ä¸ªç¨‹åºï¼Œå¿…é¡»å…ˆæ‰¾åˆ°å®ƒï¼Œè°æ‰¾ï¼Ÿbashæ‰¾ï¼Œé€šè¿‡PATH(ç¯å¢ƒå˜é‡)æ‰¾</strong></li>
<li>æ‰§è¡Œæˆ‘ä»¬è‡ªå·±å†™çš„ç¨‹åºï¼Œéœ€è¦å¸¦./ è¡¨ç¤ºåœ¨å½“å‰è·¯å¾„ä¸‹ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆæ‰§è¡Œç³»ç»ŸæŒ‡ä»¤ä¸éœ€è¦å¸¦<code>./</code>å‘¢ï¼Ÿ
<ul>
<li>ç³»ç»Ÿä¸­å­˜åœ¨ç¯å¢ƒå˜é‡<code>PATH</code>ï¼Œæ¥å¸®åŠ©ç³»ç»Ÿæ‰¾åˆ°ç›®æ ‡äºŒè¿›åˆ¶æ–‡ä»¶</li>
</ul>
</li>
</ul>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20251002110747633.png"
	width="1156"
	height="536"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="215"
		data-flex-basis="517px"
	
></p>
<blockquote>
<p>æˆ‘ä»¬æŠŠè‡ªå·±å†™çš„äºŒè¿›åˆ¶æ–‡ä»¶æ‹·è´åˆ° /usr/bin è·¯å¾„ä¸‹ä¹‹åï¼Œä¹Ÿå¯ä»¥ä¸å¸¦è·¯å¾„ï¼Œç›´æ¥æ‰§è¡Œ<img src="/p/linux-process-basic/index.assets/image-20251110085644158.png"
	width="1059"
	height="149"
	
	loading="lazy"
	
		alt="image-20251110085644158"
	
	
		class="gallery-image" 
		data-flex-grow="710"
		data-flex-basis="1705px"
	
></p>
<p>ä½†æ˜¯ä¸å»ºè®®è¿™æ ·åšï¼Œå› ä¸ºæˆ‘ä»¬è‡ªå·±å†™çš„äºŒè¿›åˆ¶æ–‡ä»¶å¯èƒ½æœ‰bugï¼Œä¼šæ±¡æŸ“ç³»ç»Ÿæœ¬æ¥çš„æŒ‡ä»¤æ± </p>
<p>ç§»é™¤æˆ‘ä»¬æ‹·è´åˆ°/usr/binè·¯å¾„ä¸‹çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼š</p>
<p><img src="/p/linux-process-basic/index.assets/image-20251110090107289.png"
	width="1015"
	height="79"
	
	loading="lazy"
	
		alt="image-20251110090107289"
	
	
		class="gallery-image" 
		data-flex-grow="1284"
		data-flex-basis="3083px"
	
></p>
</blockquote>
<h2 id="2æŸ¥çœ‹æ–°å¢ç¯å¢ƒå˜é‡">2.æŸ¥çœ‹ã€æ–°å¢ç¯å¢ƒå˜é‡
</h2><h3 id="21æ˜¾ç¤ºç³»ç»Ÿä¸­æ‰€æœ‰ç¯å¢ƒå˜é‡">2.1æ˜¾ç¤ºç³»ç»Ÿä¸­æ‰€æœ‰ç¯å¢ƒå˜é‡
</h3><p><code>env</code></p>
<p><img src="/p/linux-process-basic/index.assets/image-20251110095002756.png"
	width="1095"
	height="408"
	
	loading="lazy"
	
		alt="image-20251110095002756"
	
	
		class="gallery-image" 
		data-flex-grow="268"
		data-flex-basis="644px"
	
></p>
<h3 id="22æŸ¥çœ‹æŸä¸€ä¸ªç¯å¢ƒå˜é‡çš„å†…å®¹">2.2æŸ¥çœ‹æŸä¸€ä¸ªç¯å¢ƒå˜é‡çš„å†…å®¹
</h3><p><code>echo $æŸä¸€ä¸ªç¯å¢ƒå˜é‡çš„åå­—</code></p>
<p>ä¾‹å¦‚æŸ¥çœ‹ç¯å¢ƒå˜é‡PATHçš„å†…å®¹ï¼šecho $PATH</p>
<p><img src="/p/linux-process-basic/index.assets/1732017140374.png"
	width="1489"
	height="87"
	
	loading="lazy"
	
		alt="73201714037"
	
	
		class="gallery-image" 
		data-flex-grow="1711"
		data-flex-basis="4107px"
	
></p>
<h3 id="23pathç¯å¢ƒå˜é‡">2.3PATHç¯å¢ƒå˜é‡
</h3><p>PATHç¯å¢ƒå˜é‡é‡Œè®°å½•äº†å¤šä¸ªè·¯å¾„ï¼Œè¿™äº›è·¯å¾„ä¹‹é—´ä»¥å†’å·ä½œä¸ºåˆ†éš”ç¬¦</p>
<p>å½“ç³»ç»Ÿåœ¨æœç´¢æŸäº›å‘½ä»¤/äºŒè¿›åˆ¶æ–‡ä»¶æ—¶ï¼Œé»˜è®¤ä¼šæŒ‰é¡ºåºä¾æ¬¡åœ¨è¿™äº›è·¯å¾„ä¸‹æŸ¥æ‰¾ï¼š</p>
<ol>
<li>å…ˆåœ¨ç¬¬ä¸€ä¸ªè·¯å¾„ä¸‹æ‰¾ï¼Œå¦‚æœæ‰¾åˆ°å°±æ‰§è¡Œ</li>
<li>å¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œå°±åˆ°ä¸‹ä¸€ä¸ªè·¯å¾„æ‰¾</li>
<li>å¦‚æœæ‰€æœ‰è·¯å¾„éƒ½æ²¡æ‰¾åˆ°ï¼Œå°±æŠ¥Command not found</li>
</ol>
<blockquote>
<p>æ¯”å¦‚å½“æˆ‘ä»¬è¦æ‰§è¡Œ ls å‘½ä»¤æ—¶ï¼Œç³»ç»Ÿé»˜è®¤ä¼šå»æŸ¥ç¯å¢ƒå˜é‡PATHï¼Œä»ç¯å¢ƒå˜é‡PATHä¸­çš„ç¬¬ä¸€ä¸ªè·¯å¾„<code>/usr/local/bin</code>ä¸‹å¼€å§‹æ‰¾ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œå°±åˆ°ç¬¬äºŒä¸ªè·¯å¾„ <code>/usr/bin</code>è·¯å¾„ä¸‹å»æ‰¾ï¼Œä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°éå†å®Œæ‰€æœ‰è·¯å¾„ã€‚å¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œå°±æŠ¥ Command not foundï¼›å¦‚æœæ‰¾åˆ°äº†ï¼Œå°±æ‰§è¡Œè¯¥å‘½ä»¤</p>
<p><img src="/p/linux-process-basic/index.assets/image-20251110101617053.png"
	width="1519"
	height="125"
	
	loading="lazy"
	
		alt="image-20251110101617053"
	
	
		class="gallery-image" 
		data-flex-grow="1215"
		data-flex-basis="2916px"
	
></p>
</blockquote>
<p>æ‰€ä»¥ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦<strong>ä¸å¸¦è·¯å¾„ï¼Œç›´æ¥è¿è¡Œè‡ªå·±å†™çš„äºŒè¿›åˆ¶æ–‡ä»¶</strong>ï¼Œå°±æœ‰ä¸¤ç§æ–¹æ³•äº†</p>
<p><strong>æ–¹æ³•1ï¼š</strong> å°†æˆ‘ä»¬çš„äºŒè¿›åˆ¶æ–‡ä»¶æ‹·è´åˆ°PATHç¯å¢ƒå˜é‡é‡Œçš„è·¯å¾„ä¸‹</p>
<blockquote>
<p>æ¯”å¦‚æˆ‘ä»¬æŠŠè‡ªå·±å†™çš„äºŒè¿›åˆ¶æ–‡ä»¶æ‹·è´åˆ° /usr/bin è·¯å¾„ä¸‹ä¹‹åï¼Œå¯ä»¥ä¸å¸¦è·¯å¾„ï¼Œç›´æ¥æ‰§è¡Œ</p>
</blockquote>
<p><strong>æ–¹æ³•2ï¼š</strong> æŠŠæˆ‘ä»¬è‡ªå·±äºŒè¿›åˆ¶æ–‡ä»¶æ‰€åœ¨çš„è·¯å¾„æ·»åŠ åˆ°ç¯å¢ƒå˜é‡PATH</p>
<ul>
<li>
<p>ç›´æ¥è¦†ç›–æ·»åŠ ç¯å¢ƒå˜é‡ï¼š<code>PATH=è·¯å¾„</code><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/1732408110926.png"
	width="1131"
	height="123"
	
	loading="lazy"
	
		alt="73240811092"
	
	
		class="gallery-image" 
		data-flex-grow="919"
		data-flex-basis="2206px"
	
></p>
<p>è¿™ç§æ–¹å¼ä¼šè¦†ç›–åŸæœ‰çš„PATHï¼Œå¯¼è‡´ç³»ç»Ÿå‘½ä»¤æ— æ³•ä½¿ç”¨ï¼Œä¸æ¨è</p>
</li>
<li>
<p>ä¸è¦†ç›–æ·»åŠ ç¯å¢ƒå˜é‡ï¼š<code>PATH=$PATH:è¦æ·»åŠ çš„è·¯å¾„</code></p>
<p><img src="/p/linux-process-basic/index.assets/image-20251110105122981.png"
	width="2098"
	height="346"
	
	loading="lazy"
	
		alt="image-20251110105122981"
	
	
		class="gallery-image" 
		data-flex-grow="606"
		data-flex-basis="1455px"
	
></p>
<p>è¿™ç§æ–¹å¼ä¼šå°†æ–°è·¯å¾„è¿½åŠ åˆ°åŸPATHæœ«å°¾ï¼Œä¸å½±å“ç³»ç»ŸåŸæœ‰å‘½ä»¤</p>
</li>
</ul>
<p>æ³¨æ„ï¼šä»¥ä¸Šä¸¤ç§æ–¹å¼åªæ˜¯ä¸´æ—¶ç”Ÿæ•ˆï¼Œå…³é—­ç»ˆç«¯é‡æ–°ç™»å½•åä¼šå¤±æ•ˆã€‚</p>
<h3 id="24è®¾ç½®ä¸€ä¸ªæ–°çš„ç¯å¢ƒå˜é‡">2.4è®¾ç½®ä¸€ä¸ªæ–°çš„ç¯å¢ƒå˜é‡
</h3><p>è®¾ç½®ä¸€ä¸ªæ–°çš„ç¯å¢ƒå˜é‡</p>
<ul>
<li><strong>export ç¯å¢ƒå˜é‡å=å€¼</strong></li>
<li><strong>export ç¯å¢ƒå˜é‡å</strong></li>
</ul>
<p>å–æ¶ˆä¸€ä¸ªç¯å¢ƒå˜é‡</p>
<ul>
<li><strong>unset ç¯å¢ƒå˜é‡å</strong></li>
</ul>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20251008193603976.png"
	width="1076"
	height="156"
	
	loading="lazy"
	
		alt="image-20251008193603976"
	
	
		class="gallery-image" 
		data-flex-grow="689"
		data-flex-basis="1655px"
	
></p>
<h2 id="2ç¯å¢ƒå˜é‡çš„ç†è§£">2.ç¯å¢ƒå˜é‡çš„ç†è§£
</h2><h3 id="21å¦‚ä½•ç†è§£ç¯å¢ƒå˜é‡">2.1å¦‚ä½•ç†è§£ç¯å¢ƒå˜é‡
</h3><p><strong>å¦‚ä½•ç†è§£ç¯å¢ƒå˜é‡(å­˜å‚¨çš„è§’åº¦)ï¼Ÿç¯å¢ƒå˜é‡çš„å€¼æ˜¯è¢«bashä¿å­˜èµ·æ¥çš„ï¼Œç”±bashæ¥æ‰§è¡Œè¿™äº›å‘½ä»¤</strong></p>
<p>å½“æˆ‘ä»¬ç™»å½•ç³»ç»Ÿæ—¶ï¼Œç³»ç»Ÿä¼šåˆ›å»ºä¸€ä¸ªbashè¿›ç¨‹ï¼Œbashä¼šä»é…ç½®æ–‡ä»¶ä¸­è¯»å–æ‰€æœ‰ç¯å¢ƒå˜é‡ä¿¡æ¯ï¼Œå¹¶åœ¨å…¶å†…éƒ¨æ„å»ºä¸€å¼ ç¯å¢ƒå˜é‡è¡¨</p>
<p>ç¯å¢ƒå˜é‡è¡¨å…¶å®å°±æ˜¯ä¸€ä¸ª<strong>æŒ‡é’ˆæ•°ç»„</strong>ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æŒ‡å‘ä¸€ä¸ª<strong>key-valueå½¢å¼çš„é•¿å­—ç¬¦ä¸²</strong>ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>env</code> å‘½ä»¤çœ‹åˆ°çš„æ‰€æœ‰ç¯å¢ƒå˜é‡ï¼Œéƒ½å­˜å‚¨åœ¨è¿™å¼ è¡¨ä¸­</p>
<p><img src="/p/linux-process-basic/index.assets/1732016086077.png"
	width="912"
	height="396"
	
	loading="lazy"
	
		alt="73201608607"
	
	
		class="gallery-image" 
		data-flex-grow="230"
		data-flex-basis="552px"
	
></p>
<p><strong>bashè¿›ç¨‹åœ¨è¿è¡Œæ—¶ï¼Œå†…éƒ¨ç»´æŠ¤ç€ä¸¤å¼ è¡¨ï¼šå‘½ä»¤è¡Œå‚æ•°è¡¨å’Œç¯å¢ƒå˜é‡è¡¨</strong></p>
<ul>
<li>ç¯å¢ƒå˜é‡è¡¨ï¼šå¯åŠ¨æ—¶ä»é…ç½®æ–‡ä»¶è¯»å–æ„å»ºï¼Œå­˜å‚¨æ‰€æœ‰ç¯å¢ƒå˜é‡ï¼ˆå¦‚PATHã€HOMEç­‰</li>
<li>å‘½ä»¤è¡Œå‚æ•°è¡¨ï¼šæ¯æ¬¡æ‰§è¡Œå‘½ä»¤æ—¶åŠ¨æ€æ„å»ºï¼Œå­˜å‚¨å½“å‰å‘½ä»¤çš„ç¨‹åºåå’Œå‚æ•°</li>
</ul>
<p><strong>bashæ‰§è¡Œå‘½ä»¤çš„æµç¨‹</strong></p>
<blockquote>
<p>bashè¿›ç¨‹åœ¨å¯åŠ¨æ—¶ï¼Œä¼šä»é…ç½®æ–‡ä»¶ä¸­è¯»å–ç¯å¢ƒå˜é‡ä¿¡æ¯ï¼Œå¹¶åœ¨å†…éƒ¨æ„å»ºç¯å¢ƒå˜é‡è¡¨ã€‚</p>
<p>å½“ç”¨æˆ·è¾“å…¥å‘½ä»¤ï¼ˆå¦‚ ls -aï¼‰æ—¶</p>
<ol>
<li>
<p>bashé¦–å…ˆæ¥æ”¶è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œç„¶åæŒ‰ç©ºæ ¼å°†å…¶æ‹†åˆ†æˆç¨‹åºåå’Œå‚æ•°ï¼Œæ„å»ºå‡ºå‘½ä»¤è¡Œå‚æ•°è¡¨ã€‚</p>
</li>
<li>
<p>æ¥ä¸‹æ¥ï¼Œbashä»ç¯å¢ƒå˜é‡è¡¨ä¸­å–å‡ºPATHï¼ŒæŒ‰ç…§PATHä¸­çš„è·¯å¾„é¡ºåºä¾æ¬¡æŸ¥æ‰¾ï¼š</p>
<ol>
<li>å°†æ¯ä¸ªè·¯å¾„ä¸ç¨‹åºåæ‹¼æ¥ï¼ˆå¦‚ /usr/bin/lsï¼‰ï¼Œæ£€æŸ¥è¯¥ä½ç½®æ˜¯å¦å­˜åœ¨å¯æ‰§è¡Œæ–‡ä»¶</li>
<li>å¦‚æœæ‰¾åˆ°äº†ï¼Œbashå°±ä½¿ç”¨ fork() åˆ›å»ºå­è¿›ç¨‹æ¥æ‰§è¡Œè¯¥ç¨‹åºï¼Œå¹¶å°†å‘½ä»¤è¡Œå‚æ•°è¡¨ä¼ é€’ç»™å­è¿›ç¨‹</li>
<li>å¦‚æœæ‰€æœ‰è·¯å¾„éƒ½æŸ¥æ‰¾å®Œè¿˜æ²¡æ‰¾åˆ°ï¼Œå°±æŠ¥é”™ Command not found</li>
</ol>
</li>
</ol>
</blockquote>
<h3 id="22ç¯å¢ƒå˜é‡ä»å“ªæ¥">2.2ç¯å¢ƒå˜é‡ä»å“ªæ¥ï¼Ÿ
</h3><p><strong>ç¯å¢ƒå˜é‡æœ€å¼€å§‹ä»å“ªé‡Œæ¥çš„å‘¢ï¼Ÿæ˜¯ä»ç³»ç»Ÿçš„ç›¸å…³é…ç½®æ–‡ä»¶ä¸­æ¥çš„</strong></p>
<p>ç³»ç»Ÿç»™æ¯ä¸€ä¸ªç”¨æˆ·çš„å®¶ç›®å½•é‡Œå­˜åœ¨ä¸¤ä¸ªéšè—æ–‡ä»¶ï¼Œä¸€ä¸ªæ˜¯.bash_profileï¼Œä¸€ä¸ªæ˜¯.bashrc</p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20251002113547303.png"
	width="1329"
	height="1088"
	
	loading="lazy"
	
		alt="image-20251002113547303"
	
	
		class="gallery-image" 
		data-flex-grow="122"
		data-flex-basis="293px"
	
></p>
<blockquote>
<p>.bash_profileè¦æ±‚ç”¨æˆ·å»åŠ è½½.bashrcï¼Œè€Œ.bashrc ä¼šè¦æ±‚ç”¨æˆ·å»åŠ è½½ /etc/bashrc</p>
</blockquote>
<p>å½“æˆ‘ä»¬ç™»å½•ç³»ç»Ÿæ—¶ï¼Œç³»ç»Ÿä¼šåˆ›å»ºä¸€ä¸ªbashè¿›ç¨‹ï¼Œbashä¼šä»é…ç½®æ–‡ä»¶ï¼ˆ.bashrc å’Œ .bash_profileï¼‰ä¸­è¯»å–æ‰€æœ‰ç¯å¢ƒå˜é‡ä¿¡æ¯ï¼Œå¹¶åœ¨å…¶å†…éƒ¨æ„å»ºä¸€å¼ ç¯å¢ƒå˜é‡è¡¨ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬æŠŠè‡ªå·±äºŒè¿›åˆ¶æ–‡ä»¶çš„è·¯å¾„æ·»åŠ åˆ°é…ç½®æ–‡ä»¶ä¸­ï¼Œé‚£ä¹ˆæ¯æ¬¡ç™»å½•ï¼Œæˆ‘ä»¬çš„äºŒè¿›åˆ¶æ–‡ä»¶éƒ½å¯ä»¥ç›´æ¥è¿è¡Œï¼Œè¿™æ ·å°±æ°¸ä¹…æœ‰æ•ˆäº†</p>
<p><img src="/p/linux-process-basic/index.assets/image-20251110182338580.png"
	width="1253"
	height="544"
	
	loading="lazy"
	
		alt="image-20251110182338580"
	
	
		class="gallery-image" 
		data-flex-grow="230"
		data-flex-basis="552px"
	
></p>
<p>å¦‚æœLinuxç³»ç»Ÿä¸­æœ‰10ä¸ªç”¨æˆ·ç™»å½•ï¼Œå°±æœ‰10ä¸ªbashï¼Œè¿™10ä¸ªbashè¿›ç¨‹éƒ½è¦ä»å¯¹åº”çš„é…ç½®æ–‡ä»¶ä¸­è¯»åˆ°bashè‡ªå·±çš„ä¸Šä¸‹æ–‡é‡Œï¼Œæ‰€ä»¥æ¯ä¸€ä¸ªbashéƒ½æœ‰å­˜åœ¨ä¸¤å¼ è¡¨ï¼Œå‘½ä»¤è¡Œå‚æ•°è¡¨å’Œç¯å¢ƒå˜é‡è¡¨</p>
<h2 id="3å¸¸è§ç¯å¢ƒå˜é‡">3.å¸¸è§ç¯å¢ƒå˜é‡
</h2><p><img src="/p/linux-process-basic/index.assets/image-20251110191545964.png"
	width="1239"
	height="1219"
	
	loading="lazy"
	
		alt="image-20251110191545964"
	
	
		class="gallery-image" 
		data-flex-grow="101"
		data-flex-basis="243px"
	
></p>
<ul>
<li>
<p><strong><code>HOME</code> ç¯å¢ƒå˜é‡è¡¨ç¤ºå½“å‰ç”¨æˆ·æ‰€å¯¹åº”çš„å®¶ç›®å½•</strong></p>
<blockquote>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬è¾“å…¥ <code>cd ~</code> å°±èƒ½åˆ‡æ¢åˆ°å½“å‰ç”¨æˆ·çš„å®¶ç›®å½•çš„åŸå› </p>
</blockquote>
</li>
<li>
<p><strong><code>SHELL</code> ç¯å¢ƒå˜é‡è¡¨ç¤ºç”¨æˆ·åœ¨ç™»å½•æ—¶ç”¨çš„æ˜¯å“ªä¸€ä¸ªç‰ˆæœ¬çš„shellï¼Œå®ƒçš„å€¼é€šå¸¸æ˜¯/bin/bash</strong></p>
</li>
<li>
<p><strong><code>LOGNAME</code> ç¯å¢ƒå˜é‡è¡¨ç¤ºå½“å‰ç™»å½•ç”¨æˆ·æ˜¯è°</strong></p>
<blockquote>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬è¾“å…¥ <code>whoami</code> å°±èƒ½çŸ¥é“æ­£åœ¨ç™»å½•çš„ç”¨æˆ·æ˜¯è°çš„åŸå› </p>
</blockquote>
</li>
<li>
<p><strong><code>USER</code> ç¯å¢ƒå˜é‡è¡¨ç¤ºå½“å‰ç”¨æˆ·æ˜¯è°</strong></p>
<p><code>su</code> åˆ‡æ¢ç”¨æˆ·ï¼Œä¸ä¼šæ”¹å˜ LOGNAME å’Œ USER çš„å€¼</p>
<p><code>su ç”¨æˆ·å</code> åˆ‡æ¢æˆæ™®é€šç”¨æˆ·ï¼Œä¼šæ”¹å˜ LOGNAME å’Œ USER çš„å€¼ï¼Œåˆ‡æ¢æˆrootä¸ä¼šæ”¹</p>
<p><code>su -</code>  æ‰èƒ½è®©LOGNAME å’Œ USER çš„å€¼ æ”¹æˆrootï¼Œ<code>su -</code>æ˜¯è®©rootç”¨æˆ·é‡æ–°ç™»å½•</p>
</li>
<li>
<p><strong>Linuxä¼šè®°å½•æœ€æ–°çš„ <code>HISTSIZE</code> æ¡å†å²å‘½ä»¤</strong></p>
<blockquote>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬<code>ctrl+r</code>å¯ä»¥æŸ¥åˆ°å†å²è¾“å…¥çš„å‘½ä»¤çš„åŸå› </p>
</blockquote>
</li>
<li>
<p><strong><code>PWD</code>è®°å½•å½“å‰çš„å·¥ä½œè·¯å¾„</strong></p>
</li>
<li>
<p><strong><code>OLDPWD</code> ç¯å¢ƒå˜é‡è®°å½•äº†ä¸Šä¸€æ¬¡çš„è·¯å¾„</strong></p>
<blockquote>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬<code>cd -</code> çš„æ—¶å€™å¯ä»¥å›åˆ°ä¸Šä¸€æ¬¡çš„è·¯å¾„ä¸‹çš„åŸå› </p>
</blockquote>
</li>
<li>
<p><strong><code>HOSTNAME</code>ç¯å¢ƒå˜é‡è¡¨ç¤ºå½“å‰ä¸»æœºçš„ä¸»æœºå</strong></p>
</li>
<li>
<p><strong><code>SSH_CONNECTION</code>è¡¨ç¤ºå½“å‰æ˜¯ä»å“ªä¸ªå®¢æˆ·ç«¯ç™»å½•çš„</strong></p>
</li>
<li>
<p><strong><code>SSH_TTY</code>è¡¨ç¤ºå½“å‰æ˜¯å“ªä¸€ä¸ªè®¾å¤‡</strong></p>
</li>
</ul>
<h2 id="4è·å–ç¯å¢ƒå˜é‡">4.è·å–ç¯å¢ƒå˜é‡
</h2><h4 id="æ–¹æ³•1mainå‡½æ•°å‚æ•°">æ–¹æ³•1ï¼šmainå‡½æ•°å‚æ•°
</h4><p><strong>mainå‡½æ•°æœ€å¤šæœ‰3ä¸ªå‚æ•°ï¼Œå‘½ä»¤è¡Œå‚æ•°è¡¨argvå’Œç¯å¢ƒå˜é‡è¡¨envéƒ½æ˜¯çˆ¶è¿›ç¨‹ä¼ é€’ç»™æˆ‘ä»¬çš„</strong></p>
<p><img src="/p/linux-process-basic/index.assets/image-20251110194012735.png"
	width="975"
	height="675"
	
	loading="lazy"
	
		alt="image-20251110194012735"
	
	
		class="gallery-image" 
		data-flex-grow="144"
		data-flex-basis="346px"
	
></p>
<blockquote>
<p>æˆ‘ä»¬è‡ªå·±çš„å¯æ‰§è¡Œç¨‹åºçš„å…¥å£ä¸æ˜¯mainå‡½æ•°ï¼ŒLinuxä¸­çš„å…¥å£å‡½æ•°æ˜¯startå‡½æ•°</p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20251008195652093.png"
	width="325"
	height="390"
	
	loading="lazy"
	
		alt="image-20251008195652093"
	
	
		class="gallery-image" 
		data-flex-grow="83"
		data-flex-basis="200px"
	
></p>
</blockquote>
<p>æˆ‘ä»¬è‡ªå·±exportè®¾ç½®çš„ç¯å¢ƒå˜é‡æ˜¯å¯ä»¥è¢«å­è¿›ç¨‹æ‹¿åˆ°çš„â€”â€”&gt;</p>
<ul>
<li>
<p><strong>ç¯å¢ƒå˜é‡å¯ä»¥è¢«å­è¿›ç¨‹ç»§æ‰¿</strong></p>
</li>
<li>
<p><strong>ç¯å¢ƒå˜é‡åœ¨ç³»ç»Ÿä¸­é€šå¸¸å…·æœ‰å…¨å±€ç‰¹æ€§</strong></p>
</li>
</ul>
<h4 id="æ–¹æ³•2getenv">æ–¹æ³•2(æ¨è)ï¼šgetenv
</h4><p><code>getenv</code> ä¼šæ ¹æ®ç¯å¢ƒå˜é‡çš„åå­—è·å–ç¯å¢ƒå˜é‡çš„å†…å®¹</p>
<p>å¦‚æœè·å–æˆåŠŸäº†ï¼Œå°±è¿”å›ç¯å¢ƒå˜é‡å†…å®¹å­—ç¬¦ä¸²çš„èµ·å§‹åœ°å€ï¼Œå¦åˆ™å°±è¿”å›NULL</p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/1732020219265.png"
	width="1376"
	height="669"
	
	loading="lazy"
	
		alt="73202021926"
	
	
		class="gallery-image" 
		data-flex-grow="205"
		data-flex-basis="493px"
	
></p>
<p><strong>ä¾‹å­1ï¼šé€šè¿‡getenvè·å–ç¯å¢ƒå˜é‡PATHé‡Œçš„å†…å®¹</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;stdlib.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;string.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="c1">//mainæœ€å¤šå¯ä»¥æœ‰3ä¸ªå‚æ•°ï¼Œæ˜¯çˆ¶è¿›ç¨‹ä¼ é€’ç»™æˆ‘ä»¬çš„
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[],</span> <span class="kt">char</span><span class="o">*</span> <span class="n">env</span><span class="p">[])</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">argc</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">argv</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">env</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">char</span><span class="o">*</span> <span class="n">value</span> <span class="o">=</span> <span class="nf">getenv</span><span class="p">(</span><span class="s">&#34;PATH&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span><span class="p">(</span><span class="n">value</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span> <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="nf">printf</span><span class="p">(</span><span class="s">&#34;PATH-&gt;%s</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">value</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/linux-process-basic/index.assets/image-20251110195536569.png"
	width="1453"
	height="119"
	
	loading="lazy"
	
		alt="image-20251110195536569"
	
	
		class="gallery-image" 
		data-flex-grow="1221"
		data-flex-basis="2930px"
	
></p>
<p><strong>ä¾‹å­2ï¼šå†™ä¸€ä¸ªç¨‹åºï¼Œåªæœ‰æˆ‘è‡ªå·±å¯ä»¥ç”¨</strong></p>
<blockquote>
<p>æ•´ä¸ªç³»ç»Ÿä¸­ï¼Œåªæœ‰bashçŸ¥é“ç™»å½•ç”¨æˆ·æ˜¯è°</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;stdlib.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;string.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="c1">//mainæœ‰å‚æ•°å—ï¼Ÿæœ‰
</span></span></span><span class="line"><span class="cl"><span class="c1">//æœ€å¤šå¯ä»¥æœ‰å‡ ä¸ªï¼Ÿ3ä¸ª
</span></span></span><span class="line"><span class="cl"><span class="c1">//æ˜¯çˆ¶è¿›ç¨‹ä¼ é€’ç»™æˆ‘ä»¬çš„
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[],</span> <span class="kt">char</span><span class="o">*</span> <span class="n">env</span><span class="p">[])</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">argc</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">argv</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">env</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">who</span> <span class="o">=</span> <span class="nf">getenv</span><span class="p">(</span><span class="s">&#34;USER&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span><span class="p">(</span><span class="n">who</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span> <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="k">if</span><span class="p">(</span><span class="nf">strcmp</span><span class="p">(</span><span class="n">who</span><span class="p">,</span> <span class="s">&#34;zhangsan&#34;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">     	<span class="nf">printf</span><span class="p">(</span><span class="s">&#34;è¿™æ˜¯ç¨‹åºçš„æ­£å¸¸æ‰§è¡Œé€»è¾‘</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">else</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">    	<span class="nf">printf</span><span class="p">(</span><span class="s">&#34;åªæœ‰zhangsanå¯ä»¥æ‰§è¡Œ</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="æ–¹æ³•3environ">æ–¹æ³•3ï¼šenviron
</h4><p>å…¨å±€å˜é‡ environ</p>
<p><img src="/p/linux-process-basic/index.assets/image-20251110200508365.png"
	width="1249"
	height="386"
	
	loading="lazy"
	
		alt="image-20251110200508365"
	
	
		class="gallery-image" 
		data-flex-grow="323"
		data-flex-basis="776px"
	
></p>
<blockquote>
<p>ä¸ºä»€ä¹ˆenvironçš„ç±»å‹æ˜¯char**çš„ï¼Ÿå› ä¸ºç¯å¢ƒå˜é‡è¡¨æ˜¯ char* []ç±»å‹çš„</p>
</blockquote>
<p><img src="/p/linux-process-basic/index.assets/image-20251008210301372.png"
	width="984"
	height="261"
	
	loading="lazy"
	
		alt="image-20251008210301372"
	
	
		class="gallery-image" 
		data-flex-grow="377"
		data-flex-basis="904px"
	
></p>
<p>ä¾‹å­ï¼šä½¿ç”¨environæŸ¥çœ‹ç¯å¢ƒå˜é‡</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"> <span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span> <span class="cp">#include</span> <span class="cpf">&lt;stdlib.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span> <span class="cp">#include</span> <span class="cpf">&lt;unistd.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span> <span class="cp">#include</span> <span class="cpf">&lt;string.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span> 
</span></span><span class="line"><span class="cl"> <span class="k">extern</span> <span class="kt">char</span><span class="o">**</span> <span class="n">environ</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"> <span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
</span></span><span class="line"><span class="cl"> <span class="p">{</span>
</span></span><span class="line"><span class="cl">     <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">argc</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">     <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">argv</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">     
</span></span><span class="line"><span class="cl">     <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="err">Î¸</span><span class="p">;</span> <span class="n">environ</span><span class="p">[</span><span class="n">i</span><span class="p">];</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">     <span class="p">{</span>
</span></span><span class="line"><span class="cl">         <span class="nf">printf</span><span class="p">(</span><span class="s">&#34;env[%d]-&gt; %s</span><span class="se">\n</span><span class="s">&#34;</span><span class="err">ï¼Œ</span> <span class="n">i</span><span class="p">,</span> <span class="n">environ</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">     <span class="p">}</span>
</span></span><span class="line"><span class="cl">     
</span></span><span class="line"><span class="cl">     <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"> <span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="5æœ¬åœ°å˜é‡ä¸ç¯å¢ƒå˜é‡">5.æœ¬åœ°å˜é‡ä¸ç¯å¢ƒå˜é‡
</h2><p><strong>ç¯å¢ƒå˜é‡å…·æœ‰å…¨å±€ç‰¹æ€§</strong></p>
<p><strong>æœ¬åœ°å˜é‡</strong></p>
<p>åœ¨å‘½ä»¤è¡Œå®šä¹‰æœ¬åœ°å˜é‡</p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/1732021018651.png"
	width="672"
	height="110"
	
	loading="lazy"
	
		alt="73202101865"
	
	
		class="gallery-image" 
		data-flex-grow="610"
		data-flex-basis="1466px"
	
></p>
<blockquote>
<p>å–æ¶ˆæœ¬åœ°å˜é‡ä¹Ÿæ˜¯ unset å˜é‡å</p>
</blockquote>
<ul>
<li>
<p>æ˜¾ç¤ºæœ¬åœ°å®šä¹‰çš„shellå˜é‡å’Œç¯å¢ƒå˜é‡ï¼š<code>set</code></p>
</li>
<li>
<p><strong>bashä¼šè®°å½•ä¸¤å¥—å˜é‡ï¼š1.ç¯å¢ƒå˜é‡ 2.æœ¬åœ°å˜é‡</strong></p>
</li>
</ul>
<ul>
<li><strong>æœ¬åœ°å˜é‡ä¸ä¼šè¢«å­è¿›ç¨‹ç»§æ‰¿ï¼Œåªåœ¨bashå†…éƒ¨è¢«ä½¿ç”¨</strong></li>
</ul>
<p><img src="/p/linux-process-basic/index.assets/image-20251112143458089.png"
	width="1534"
	height="449"
	
	loading="lazy"
	
		alt="image-20251112143458089"
	
	
		class="gallery-image" 
		data-flex-grow="341"
		data-flex-basis="819px"
	
></p>
<blockquote>
<p>ä¸ºä»€ä¹ˆè¦æœ‰æœ¬åœ°å˜é‡ï¼Ÿbashå†…éƒ¨è‡ªå·±è¦ç”¨</p>
<p>æ¯”å¦‚bashè¦è®°å½•ä¸‹å‘½ä»¤è¡Œæç¤ºç¬¦çš„æ ¼å¼</p>
<p><img src="/p/linux-process-basic/index.assets/image-20251112143753496.png"
	width="317"
	height="113"
	
	loading="lazy"
	
		alt="image-20251112143753496"
	
	
		class="gallery-image" 
		data-flex-grow="280"
		data-flex-basis="673px"
	
></p>
</blockquote>
<p><strong>æˆ‘ä»¬çš„ç¯å¢ƒå˜é‡åœ¨è°é‡Œé¢ï¼Ÿbash</strong></p>
<p>åƒexportè¿™ç§å‘½ä»¤ï¼Œæˆ‘ä»¬å«åš <code>å†…å»ºå‘½ä»¤</code>ï¼Œå†…å»ºå‘½ä»¤åœ¨æ‰§è¡Œæ—¶ä¸éœ€è¦åˆ›å»ºå­è¿›ç¨‹ï¼Œè€Œæ˜¯bashè‡ªå·±äº²è‡ªæ‰§è¡Œ</p>
<blockquote>
<p>bashè‡ªå·±è°ƒå‡½æ•°ï¼Œæˆ–è€…ç³»ç»Ÿè°ƒç”¨å®Œæˆ</p>
</blockquote>
<h2 id="6-è¿›ç¨‹åœ°å€ç©ºé—´åˆè¯†">6. è¿›ç¨‹åœ°å€ç©ºé—´åˆè¯†
</h2><p><strong>ç¨‹åºåœ°å€ç©ºé—´</strong></p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20251012162604220.png"
	width="2236"
	height="787"
	
	loading="lazy"
	
		alt="image-20251012162604220"
	
	
		class="gallery-image" 
		data-flex-grow="284"
		data-flex-basis="681px"
	
></p>
<blockquote>
<p>æˆ‘ä»¬å¹³æ—¶å®šä¹‰çš„å­—ç¬¦ä¸²å…¶å®æ˜¯è¢«ç¡¬ç¼–ç åˆ°ä»£ç çš„ã€‚å› ä¸ºä»£ç æ˜¯åªè¯»çš„ï¼Œæ‰€ä»¥stringå¸¸é‡ä¹Ÿæ˜¯åªè¯»çš„</p>
</blockquote>
<p>ç¨‹åºåœ°å€ç©ºé—´ä¸æ˜¯å†…å­˜ã€‚</p>
<p>ç¨‹åºåœ°å€ç©ºé—´åº”è¯¥å«è¿›ç¨‹åœ°å€ç©ºé—´ï¼ˆè™šæ‹Ÿåœ°å€ç©ºé—´ï¼‰ï¼Œæ˜¯ä¸€ä¸ªç³»ç»Ÿæ¦‚å¿µï¼Œä¸æ˜¯è¯­è¨€å±‚çš„æ¦‚å¿µ</p>
<p><strong>è™šæ‹Ÿåœ°å€</strong></p>
<p>å­è¿›ç¨‹å’Œçˆ¶è¿›ç¨‹éƒ½ä¼šè¯»å–å…¨å±€å˜é‡ï¼Œä½†æ˜¯åªæœ‰å­è¿›ç¨‹ä¿®æ”¹äº†è¿™ä¸ªå˜é‡ï¼Œå­è¿›ç¨‹ä¿®æ”¹äº†è¿™ä¸ªå˜é‡ï¼Œçˆ¶è¿›ç¨‹èƒ½çœ‹åˆ°å—ï¼Ÿ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;unistd.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span><span class="kt">int</span> <span class="n">gval</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">pid_t</span> <span class="n">id</span> <span class="o">=</span> <span class="nf">fork</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span><span class="p">(</span><span class="n">id</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">while</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nf">printf</span><span class="p">(</span><span class="s">&#34;å­: gaval:%d, &amp;gval: %p, pid:%d, ppid: %d</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">gval</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">gval</span><span class="p">,</span> <span class="nf">getpid</span><span class="p">(),</span> <span class="nf">getppid</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">            <span class="nf">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="n">gval</span><span class="o">++</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">else</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">while</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nf">printf</span><span class="p">(</span><span class="s">&#34;çˆ¶gaval: %d, &amp;gval: %p, pid: %d, ppid: %d</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">gval</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">gval</span><span class="p">,</span> <span class="n">getpidC</span><span class="p">),</span> <span class="nf">getppid</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">				<span class="nf">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20251012164134701.png"
	width="906"
	height="422"
	
	loading="lazy"
	
		alt="image-20251012164134701"
	
	
		class="gallery-image" 
		data-flex-grow="214"
		data-flex-basis="515px"
	
></p>
<p>çˆ¶å­è¿›ç¨‹ä¸­å…¨å±€å˜é‡gvalçš„åœ°å€ä¸€æ ·ï¼Œä½†æ˜¯çˆ¶å­è¿›ç¨‹è¯»å‡ºçš„å€¼ä¸åŒï¼</p>
<blockquote>
<ul>
<li>çˆ¶å­è¿›ç¨‹è¾“å‡ºçš„å˜é‡ä¸æ˜¯åŒä¸€ä¸ªå˜é‡</li>
<li>è¯¥åœ°å€ä¸æ˜¯ç‰©ç†åœ°å€</li>
<li>åœ¨Linuxåœ°å€ä¸‹ï¼Œè¿™ç§åœ°å€å«åš è™šæ‹Ÿåœ°å€</li>
</ul>
</blockquote>
<p><strong>C/C++æŒ‡é’ˆç”¨åˆ°çš„åœ°å€ï¼Œå…¨éƒ¨éƒ½æ˜¯è™šæ‹Ÿåœ°å€</strong></p>
<h1 id="ä¸‰è¿›ç¨‹åœ°å€ç©ºé—´">ä¸‰ã€è¿›ç¨‹åœ°å€ç©ºé—´
</h1><h2 id="1å¼•å…¥æ–°æ¦‚å¿µ">1.å¼•å…¥æ–°æ¦‚å¿µ
</h2><p>è™šæ‹Ÿåœ°å€ç©ºé—´ä¸æ˜¯ç‰©ç†å†…å­˜</p>
<h3 id="11-ä¸€ä¸ªè¿›ç¨‹ä¸€ä¸ªè™šæ‹Ÿåœ°å€ç©ºé—´">1.1 ä¸€ä¸ªè¿›ç¨‹ï¼Œä¸€ä¸ªè™šæ‹Ÿåœ°å€ç©ºé—´
</h3><p>åˆ›å»ºè¿›ç¨‹æ—¶ï¼Œè¦æœ‰å¯¹åº”çš„task_structæ¥æè¿°è¿›ç¨‹ï¼Œè€Œæ¯ä¸€ä¸ªtask_structæœ€ç»ˆéƒ½è¦å¯¹åº”ä¸€ä¸ªè™šæ‹Ÿåœ°å€ç©ºé—´</p>
<ul>
<li>
<p>è™šæ‹Ÿåœ°å€</p>
<ul>
<li>è™šæ‹Ÿåœ°å€ç©ºé—´å¯¹åº”çš„å®½åº¦å•ä½æ˜¯1å­—èŠ‚</li>
<li>åœ¨32ä½æœºå™¨ä¸‹ï¼Œè™šæ‹Ÿåœ°å€ç©ºé—´çš„èŒƒå›´æ˜¯2^32^ä¸ªåœ°å€ * 1å­—èŠ‚ = èƒ½è¡¨ç¤ºçš„æ€»çš„åœ°å€ç©ºé—´çš„å®¹é‡æ˜¯4GB
<ul>
<li>0<del>3GB å«ç”¨æˆ·ç©ºé—´ï¼Œ3</del>4GB å«å†…æ ¸ç©ºé—´</li>
</ul>
</li>
<li>åœ¨64ä½æœºå™¨ä¸‹ï¼Œè™šæ‹Ÿåœ°å€ç©ºé—´çš„èŒƒå›´æ˜¯2^64^ä¸ªåœ°å€</li>
</ul>
</li>
<li>
<p>ç”¨æˆ·ç©ºé—´å’Œå†…æ ¸ç©ºé—´</p>
<ul>
<li>ç”¨æˆ·ç©ºé—´ï¼Œç”¨æˆ·æ‹¿åˆ°åœ°å€å°±å¯ä»¥ç›´æ¥è®¿é—®è¯¥ç©ºé—´</li>
</ul>
</li>
</ul>
<h3 id="12ä¸€ä¸ªè¿›ç¨‹ä¸€å¥—é¡µè¡¨">1.2ä¸€ä¸ªè¿›ç¨‹ï¼Œä¸€å¥—é¡µè¡¨
</h3><p>æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªå˜é‡ï¼Œè¯¥å˜é‡ä¸€å®šå­˜æ”¾åœ¨å†…å­˜ä¸­ï¼ŒåŒæ—¶ï¼Œåœ¨è™šæ‹Ÿåœ°å€ç©ºé—´ä¸Šä¹Ÿè¦æœ‰å¯¹åº”çš„è¿™ä¸ªå˜é‡</p>
<p>ä¹Ÿå°±æ˜¯ä»»ä½•ä¸€ä¸ªå˜é‡ï¼Œåœ¨å†…å­˜ä¸­å­˜åœ¨ä¸€ä¸ª<span style="color: #8080FF;">ç‰©ç†åœ°å€</span>ï¼Œåœ¨è™šæ‹Ÿåœ°å€ç©ºé—´ä¸Šå­˜åœ¨ä¸€ä¸ª<span style="color: #8080FF;">è™šæ‹Ÿåœ°å€</span>ï¼Œå¹¶ä¸”æ“ä½œç³»ç»Ÿåœ¨æ¯ä¸€ä¸ªè¿›ç¨‹åˆ›å»ºçš„æ—¶å€™ï¼Œè¦ä¸ºå…¶æ„å»ºä¸€å¼ é¡µè¡¨</p>
<h3 id="13é¡µè¡¨æ˜¯ç”¨æ¥åšè™šæ‹Ÿåœ°å€å’Œç‰©ç†åœ°å€æ˜ å°„çš„">1.3é¡µè¡¨æ˜¯ç”¨æ¥åšè™šæ‹Ÿåœ°å€å’Œç‰©ç†åœ°å€æ˜ å°„çš„
</h3><p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20251012201210602.png"
	width="1310"
	height="539"
	
	loading="lazy"
	
		alt="image-20251012201210602"
	
	
		class="gallery-image" 
		data-flex-grow="243"
		data-flex-basis="583px"
	
></p>
<p>ä¸€ä¸ªè¿›ç¨‹ï¼Œä¸€å¥—é¡µè¡¨  =&gt; å­è¿›ç¨‹ä¹Ÿæœ‰è‡ªå·±çš„è™šæ‹Ÿåœ°å€ç©ºé—´å’Œé¡µè¡¨</p>
<p>å­è¿›ç¨‹çš„task_structæ˜¯æ‹·è´çš„çˆ¶è¿›ç¨‹çš„ï¼Œè™šæ‹Ÿåœ°å€ç©ºé—´ã€é¡µè¡¨ä¹Ÿæ˜¯æ‹·è´çš„çˆ¶è¿›ç¨‹çš„ï¼ˆæµ…æ‹·è´ï¼‰</p>
<blockquote>
<p>çˆ¶å­è¿›ç¨‹é»˜è®¤ä»£ç å…±äº«ï¼Œæ•°æ®å…±äº«</p>
</blockquote>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20251012174051549.png"
	width="1116"
	height="703"
	
	loading="lazy"
	
		alt="image-20251012174051549"
	
	
		class="gallery-image" 
		data-flex-grow="158"
		data-flex-basis="380px"
	
></p>
<p><strong>å­è¿›ç¨‹å¯¹å˜é‡è¦è¿›è¡Œä¿®æ”¹ï¼Ÿå†™æ—¶æ‹·è´</strong></p>
<p>è¿›ç¨‹å…·æœ‰ç‹¬ç«‹æ€§ï¼Œå½“çˆ¶å­è¿›ç¨‹ä¸­ä»»ä½•ä¸€æ–¹è¦å¯¹å˜é‡åšä¿®æ”¹æ—¶ï¼Œéƒ½ä¼šæ–°å¼€ä¸€å—ç©ºé—´åšä¿®æ”¹ï¼Œå¹¶å°†é¡µè¡¨ä¸­è™šæ‹Ÿåœ°å€æ˜ å°„åˆ°çš„ç‰©ç†åœ°å€ä¿®æ”¹æˆæ–°å¼€çš„é‚£å—ç©ºé—´çš„ç‰©ç†åœ°å€ï¼Œè€Œè™šæ‹Ÿåœ°å€ä¸å˜ã€‚</p>
<p>å› æ­¤ï¼Œä¹‹æ‰€ä»¥çˆ¶å­è¿›ç¨‹è®¿é—®åŒä¸€ä¸ªå˜é‡æ—¶åœ°å€ç›¸åŒï¼Œæ˜¯å› ä¸ºæ‹¿åˆ°çš„éƒ½æ˜¯è™šæ‹Ÿåœ°å€ï¼Œå†…å®¹ä¸åŒï¼Œæ˜¯å› ä¸ºè™šæ‹Ÿåœ°å€åº•å±‚æ˜ å°„åˆ°äº†ä¸åŒçš„ç‰©ç†åœ°å€</p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20251012182658120.png"
	width="1897"
	height="751"
	
	loading="lazy"
	
		alt="image-20251012182658120"
	
	
		class="gallery-image" 
		data-flex-grow="252"
		data-flex-basis="606px"
	
></p>
<h2 id="2è™šæ‹Ÿåœ°å€ä¸è¿›ç¨‹åœ°å€ç©ºé—´">2.è™šæ‹Ÿåœ°å€ä¸è¿›ç¨‹åœ°å€ç©ºé—´
</h2><h3 id="21è™šæ‹Ÿåœ°å€ç©ºé—´æ˜¯ä»€ä¹ˆ">2.1è™šæ‹Ÿåœ°å€ç©ºé—´æ˜¯ä»€ä¹ˆï¼Ÿ
</h3><p>æ“ä½œç³»ç»Ÿè®©æ¯ä¸€ä¸ªè¿›ç¨‹éƒ½è®¤ä¸ºè‡ªå·±æœ‰4GBçš„ç‰©ç†å†…å­˜ï¼ˆæ¯ä¸€ä¸ªè¿›ç¨‹éƒ½è®¤ä¸ºè‡ªå·±åœ¨ç‹¬å ç‰©ç†å†…å­˜ï¼‰ï¼Œæ“ä½œç³»ç»Ÿéœ€è¦ç®¡ç†è™šæ‹Ÿåœ°å€ç©ºé—´ã€‚<strong>è™šæ‹Ÿåœ°å€ç©ºé—´æœ¬è´¨æ˜¯ä¸€ä¸ªæ•°æ®ç»“æ„ï¼ˆç»“æ„ä½“ï¼‰</strong></p>
<p>æè¿°Linuxä¸‹è¿›ç¨‹çš„åœ°å€ç©ºé—´çš„æ‰€æœ‰ä¿¡æ¯çš„ç»“æ„ä½“æ˜¯<code>mm_struct</code>(å†…å­˜æè¿°ç¬¦)ã€‚<strong>æ¯ä¸ªè¿›ç¨‹åªæœ‰ä¸€ä¸ªmm_structï¼Œåœ¨æ¯ä¸ªè¿›ç¨‹çš„task_structç»“æ„ä½“ä¸­ï¼Œæœ‰ä¸€ä¸ªæŒ‡å‘è¯¥è¿›ç¨‹çš„ç»“æ„</strong></p>
<blockquote>
<p>å¯ä»¥è¯´ mm_struct ç»“æ„æ˜¯å¯¹æ•´ä¸ªç”¨æˆ·ç©ºé—´çš„æè¿°ã€‚<strong>æ¯ä¸€ä¸ªè¿›ç¨‹éƒ½ä¼šæœ‰è‡ªå·±ç‹¬ç«‹çš„mm_struct</strong>ï¼Œè¿™æ ·æ¯ä¸€ä¸ªè¿›ç¨‹éƒ½ä¼šæœ‰è‡ªå·±ç‹¬ç«‹çš„åœ°å€ç©ºé—´æ‰èƒ½äº’ä¸å¹²æ‰°ã€‚</p>
</blockquote>
<p><img src="/p/linux-process-basic/index.assets/image-20251114230535125.png"
	width="1113"
	height="426"
	
	loading="lazy"
	
		alt="image-20251114230535125"
	
	
		class="gallery-image" 
		data-flex-grow="261"
		data-flex-basis="627px"
	
></p>
<h3 id="22å¦‚ä½•æè¿°è™šæ‹Ÿåœ°å€ç©ºé—´">2.2å¦‚ä½•æè¿°è™šæ‹Ÿåœ°å€ç©ºé—´
</h3><p>åŒºåŸŸåˆ’åˆ†â€”â€”&gt;åªéœ€è¦ç¡®è®¤åŒºåŸŸçš„å¼€å§‹å’Œç»“æŸå³å¯</p>
<blockquote>
<p>æ“ä½œç³»ç»Ÿå¯¹äºè¿›ç¨‹çš„è™šæ‹Ÿåœ°å€ç©ºé—´è¦åšç®¡ç†ï¼Œ<strong>è™šæ‹Ÿåœ°å€ç©ºé—´æ˜¯å†…æ ¸çš„ä¸€ç§ç»“æ„ä½“</strong>ï¼Œ<strong>è¿™ä¸ªç»“æ„ä½“é‡Œçš„å¤§éƒ¨åˆ†å±æ€§éƒ½æ˜¯å„ä¸ªåŒºåŸŸçš„å¼€å§‹ã€ç»“æŸ</strong></p>
</blockquote>
<p>è°ƒæ•´åŒºåŸŸâ€”â€”&gt;åªéœ€è¦å¯¹æ•´æ•°å˜é‡è¿›è¡ŒåŠ æˆ–å‡</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="k">struct</span> <span class="n">mm_struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">total_vm</span><span class="p">,</span> <span class="n">locked_vm</span><span class="p">,</span> <span class="n">shared_vm</span><span class="p">,</span> <span class="n">exec_vm</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">stack_vm</span><span class="p">,</span> <span class="n">reserved_vm</span><span class="p">,</span> <span class="n">def_flags</span><span class="p">,</span> <span class="n">nr_ptes</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">start_code</span><span class="p">,</span> <span class="n">end_code</span><span class="p">,</span> <span class="n">start_data</span><span class="p">,</span> <span class="n">end_data</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">start_brk</span><span class="p">,</span> <span class="n">brk</span><span class="p">,</span> <span class="n">start_stack</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">arg_start</span><span class="p">,</span> <span class="n">arg_end</span><span class="p">,</span> <span class="n">env_start</span><span class="p">,</span> <span class="n">env_end</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/linux-process-basic/index.assets/image-20251012190721903.png"
	width="1586"
	height="550"
	
	loading="lazy"
	
		alt="image-20251012190721903"
	
	
		class="gallery-image" 
		data-flex-grow="288"
		data-flex-basis="692px"
	
></p>
<p>è¦æŠŠä¸€ä¸ªç¨‹åºåŠ è½½åˆ°å†…å­˜éœ€è¦åšä¸‰ä»¶äº‹ï¼š</p>
<ol>
<li>
<p>åœ¨è™šæ‹Ÿåœ°å€ç©ºé—´ä¸­ç”³è¯·æŒ‡å®šå¤§å°çš„ç©ºé—´</p>
</li>
<li>
<p>åŠ è½½ç¨‹åºï¼Œç”³è¯·ç‰©ç†ç©ºé—´</p>
</li>
<li>
<p>é¡µè¡¨æ˜ å°„</p>
</li>
</ol>
<p><img src="/p/linux-process-basic/index.assets/image-20251012192401762.png"
	width="1643"
	height="760"
	
	loading="lazy"
	
		alt="image-20251012192401762"
	
	
		class="gallery-image" 
		data-flex-grow="216"
		data-flex-basis="518px"
	
></p>
<p>ç‰©ç†åœ°å€è½¬åŒ–æˆä¸ºè™šæ‹Ÿåœ°å€ï¼Œè™šæ‹Ÿåœ°å€æä¾›ç»™ä¸Šå±‚ç”¨æˆ·ä½¿ç”¨</p>
<h3 id="23ä¸ºä»€ä¹ˆè¦æœ‰è¿›ç¨‹åœ°å€ç©ºé—´">2.3ä¸ºä»€ä¹ˆè¦æœ‰è¿›ç¨‹åœ°å€ç©ºé—´
</h3><p><strong>1.å°†åœ°å€ä»æ— åºå˜æœ‰åº</strong></p>
<p>å¯æ‰§è¡Œç¨‹åºæœªæ¥å¯ä»¥åŠ è½½åˆ°ç‰©ç†å†…å­˜çš„ä»»æ„ä½ç½®ï¼Œé€šè¿‡é¡µè¡¨çš„æ˜ å°„å…³ç³»æŠŠæ— åºçš„ç‰©ç†åœ°å€å˜æœ‰åºï¼ˆè™šæ‹Ÿåœ°å€ç©ºé—´ï¼‰</p>
<p><strong>2.è½¬åŒ–è¿‡ç¨‹ä¸­ï¼Œä¹Ÿå¯ä»¥å¯¹ä½ çš„åœ°å€å’Œæ“ä½œè¿›è¡Œåˆæ³•æ€§åˆ¤å®šï¼Œè¿›è€Œä¿æŠ¤ç‰©ç†å†…å­˜</strong></p>
<p>é¡µè¡¨é‡Œé¢é™¤äº†ä¿å­˜äº†ç‰©ç†åœ°å€å’Œè™šæ‹Ÿåœ°å€çš„æ˜ å°„å…³ç³»ï¼Œè¿˜æœ‰è¿™ä¸ªåŒºåŸŸçš„æƒé™</p>
<p>a. ä»€ä¹ˆæ˜¯é‡æŒ‡é’ˆ</p>
<p>b. char* str = &ldquo;hello world&rdquo;; str = &ldquo;H&rdquo;</p>
<p><span style="color: #8080FF;">ä¸ºä»€ä¹ˆåœ¨å­—ç¬¦å¸¸é‡åŒºå†™å…¥ï¼Œå°±ä¼šå´©æºƒï¼ŸæŸ¥æ‰¾é¡µè¡¨çš„æ—¶å€™ï¼Œæƒé™æ‹¦æˆªäº†</span></p>
<p><strong>3.è®©è¿›ç¨‹ç®¡ç†å’Œå†…å­˜ç®¡ç†ï¼Œè¿›è¡Œä¸€å®šç¨‹åº¦çš„è§£è€¦åˆ</strong></p>
<p>ç¼ºé¡µä¸­æ–­ï¼ˆè™šæ‹Ÿåœ°å€ç”³è¯·çš„ç©ºé—´ä¸ä¼šä¸€æ¬¡æ€§åˆ†é…ç‰©ç†å†…å­˜ï¼Œä»…åœ¨å®é™…ä½¿ç”¨å¯¹åº”éƒ¨åˆ†æ—¶ï¼Œæ‰åŠ¨æ€å‘ç‰©ç†ç©ºé—´ç”³è¯·ï¼‰</p>
<p>åœ¨åˆ›å»ºä¸€ä¸ªè¿›ç¨‹æ—¶ï¼Œå¯ä»¥åªåˆ›å»ºPCBã€åœ°å€ç©ºé—´å’Œé¡µè¡¨ï¼Œå…ˆæŠŠè™šæ‹Ÿåœ°å€ç©ºé—´åˆå§‹åŒ–ï¼Œä¸åŠ è½½æ•°æ®ï¼Œåªéœ€è¦çŸ¥é“å¯æ‰§è¡Œç¨‹åºä»£ç å¤šå¤§ã€æ•°æ®å¤šå¤§&hellip;</p>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20251012200018226.png"
	width="1662"
	height="879"
	
	loading="lazy"
	
		alt="image-20251012200018226"
	
	
		class="gallery-image" 
		data-flex-grow="189"
		data-flex-basis="453px"
	
></p>
<h3 id="æ€»ç»“-2">æ€»ç»“
</h3><p><strong>1.æˆ‘ä»¬å¯ä»¥ä¸åŠ è½½ä»£ç å’Œæ•°æ®ï¼Œåªæœ‰task_struct, mm_structï¼Œé¡µè¡¨</strong></p>
<p><strong>2.åˆ›å»ºè¿›ç¨‹ï¼Œå…ˆæœ‰task_struct, mm_structç­‰ï¼Œè¿˜æ˜¯å…ˆåŠ è½½ä»£ç å’Œæ•°æ®ï¼Ÿ</strong></p>
<p>å…ˆæœ‰å†…æ ¸æ•°æ®ç»“æ„ï¼Œç„¶åå†åŠ è½½ä»£ç å’Œæ•°æ®</p>
<p><strong>3.å¦‚ä½•ç†è§£è¿›ç¨‹æŒ‚èµ·ï¼Ÿ</strong></p>
<blockquote>
<p>å½“å†…å­˜ç©ºé—´ä¸¥é‡ä¸è¶³æ—¶ï¼Œæ“ä½œç³»ç»Ÿå°±ä¼šå°†è¿™äº›åœ¨ç­‰å¾…é˜Ÿåˆ—çš„è¿›ç¨‹ç½®æ¢åˆ°ç£ç›˜ä¸­çš„swapåˆ†åŒºä¸­ï¼ˆåœ¨ç­‰å¾…é˜Ÿåˆ—ä¸­åªå­˜PCBï¼Œè€Œ<span style="color: #8080FF;">å°†å¯¹åº”çš„ä»£ç å’Œæ•°æ®å”¤å‡ºåˆ°swapåˆ†åŒºä¸­</span>ï¼Œç­‰è¿™äº›è¿›ç¨‹è¦è¿è¡Œäº†ï¼Œå†æŠŠä»£ç å’Œæ•°æ®è¿˜å›å»ï¼‰ï¼Œè¿™äº›è¿›ç¨‹çš„çŠ¶æ€å°±å«é˜»å¡æŒ‚èµ·</p>
</blockquote>
<p>å½“ç³»ç»Ÿå†…å­˜ä¸¥é‡ä¸è¶³æ—¶ï¼Œæ“ä½œç³»ç»Ÿä¼šä¼˜å…ˆé€‰æ‹©å·²å¤„äºé˜»å¡çŠ¶æ€ï¼ˆæš‚æ—¶æ— éœ€å ç”¨CPUå’Œç‰©ç†å†…å­˜è¿è¡Œï¼‰çš„è¿›ç¨‹è¿›è¡Œå¤„ç†ã€‚å®ƒä¼šå…ˆæŸ¥è¯¢è¯¥è¿›ç¨‹çš„é¡µè¡¨ï¼Œç¡®è®¤å…¶è™šæ‹Ÿåœ°å€å·²åˆ†é…ä¸”å¯¹åº”ç€å®é™…çš„ç‰©ç†å†…å­˜ï¼ˆå³è™šæ‹Ÿåœ°å€ä¸ç‰©ç†åœ°å€å­˜åœ¨æœ‰æ•ˆæ˜ å°„ï¼‰ï¼›éšåï¼Œå°†é¡µè¡¨ä¸­è¯¥è™šæ‹Ÿåœ°å€å¯¹åº”çš„ç‰©ç†å†…å­˜é‡Œçš„è¿›ç¨‹ä»£ç ã€æ•°æ®ï¼Œå®Œæ•´æ¢å‡ºåˆ°ç£ç›˜çš„swapåˆ†åŒºæš‚å­˜ï¼Œå¹¶æ¸…ç©ºé¡µè¡¨ä¸­è¯¥è™šæ‹Ÿåœ°å€çš„ç‰©ç†åœ°å€æ˜ å°„ï¼ˆé‡Šæ”¾å¯¹åº”çš„ç‰©ç†å†…å­˜ç©ºé—´ï¼‰ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒæŒ‚èµ·æ“ä½œä»…è¿ç§»äº†è¿›ç¨‹çš„ä»£ç å’Œæ•°æ®ï¼Œè¿›ç¨‹çš„æ ¸å¿ƒæ§åˆ¶ä¿¡æ¯ï¼ˆPCBï¼Œè¿›ç¨‹æ§åˆ¶å—ï¼‰ä¾ç„¶ä¿ç•™åœ¨å†…å­˜ä¸­â€”â€”å› æ­¤ï¼Œè¿™ä¸ªè¿›ç¨‹åœ¨æ“ä½œç³»ç»Ÿä¸­å¹¶æœªæ¶ˆå¤±ï¼Œåªæ˜¯çŠ¶æ€ä»â€œé˜»å¡â€å˜ä¸ºäº†â€œé˜»å¡æŒ‚èµ·ï¼ˆsçŠ¶æ€ï¼‰â€</p>
<h2 id="3åœ°å€ç©ºé—´çš„ç»„ç»‡æ–¹å¼">3.åœ°å€ç©ºé—´çš„ç»„ç»‡æ–¹å¼
</h2><p>å †åŒºå¹¶ä¸æ˜¯åªæœ‰ä¸€ä¸ªèµ·å§‹è™šæ‹Ÿåœ°å€ã€‚è¿›ç¨‹çš„è™šæ‹Ÿåœ°å€ç©ºé—´ä¸­ï¼Œé™¤äº†æœ‰ mm_struct ç»“æ„ï¼Œè¿˜å­˜åœ¨ vm_area_struct ç»“æ„ â€”â€” å®ƒæ˜¯åœ¨ mm_struct ä¸­æ„å»ºçš„é“¾è¡¨ï¼Œä¼šå°†å †åŒºæ‹†åˆ†ä¸ºå¤šä¸ªç‹¬ç«‹éƒ¨åˆ†ï¼Œè€Œæ¯ä¸ªå †åŒºéƒ¨åˆ†éƒ½å¯¹åº”ä¸€ä¸ª vm_area_structã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="k">struct</span> <span class="n">vm_area_struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">struct</span> <span class="n">mm_struct</span> <span class="o">*</span> <span class="n">vm_mm</span><span class="p">;</span>	<span class="cm">/* The address space we belong to. */</span>
</span></span><span class="line"><span class="cl">	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">vm_start</span><span class="p">;</span>		<span class="cm">/* Our start address within vm_mm. */</span>
</span></span><span class="line"><span class="cl">	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">vm_end</span><span class="p">;</span>		<span class="cm">/* The first byte after our end address
</span></span></span><span class="line"><span class="cl"><span class="cm">					   within vm_mm. */</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//...
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20251012201039762.png"
	width="937"
	height="631"
	
	loading="lazy"
	
		alt="image-20251012201039762"
	
	
		class="gallery-image" 
		data-flex-grow="148"
		data-flex-basis="356px"
	
></p>
<blockquote>
<p>è™šæ‹Ÿç©ºé—´çš„ç»„ç»‡æ–¹å¼æœ‰ä¸¤ç§ï¼š</p>
<ol>
<li>å½“è™šæ‹ŸåŒºè¾ƒå°‘æ—¶é‡‡å–å•é“¾è¡¨ï¼Œç”±mmapæŒ‡é’ˆæŒ‡å‘è¿™ä¸ªé“¾è¡¨ï¼›</li>
<li>å½“è™šæ‹ŸåŒºé—´å¤šæ—¶é‡‡å–çº¢é»‘æ ‘è¿›â¾ç®¡ç†ï¼Œç”±mm_rbæŒ‡å‘è¿™æ£µæ ‘ã€‚</li>
</ol>
<p>linuxå†…æ ¸ä½¿ç”¨ vm_area_struct ç»“æ„æ¥è¡¨ç¤ºä¸€ä¸ªç‹¬ç«‹çš„è™šæ‹Ÿå†…å­˜åŒºåŸŸ(VMA)ï¼Œç”±äºæ¯ä¸ªä¸åŒè´¨çš„è™šæ‹Ÿå†…å­˜åŒºåŸŸåŠŸèƒ½å’Œå†…éƒ¨æœºåˆ¶éƒ½ä¸åŒï¼Œå› æ­¤ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨å¤šä¸ªvm_area_structç»“æ„æ¥åˆ†åˆ«è¡¨ç¤ºä¸åŒç±»å‹çš„è™šæ‹Ÿå†…å­˜åŒºåŸŸã€‚ä¸Šé¢æåˆ°çš„ä¸¤ç§ç»„ç»‡æ–¹å¼ä½¿ç”¨çš„å°±æ˜¯vm_area_structç»“æ„æ¥è¿æ¥å„ä¸ªVMAï¼Œæ–¹ä¾¿è¿›ç¨‹å¿«é€Ÿè®¿é—®</p>
</blockquote>
<p><img src="/p/linux-process-basic/03%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5.assets/image-20251012201058852.png"
	width="1140"
	height="770"
	
	loading="lazy"
	
		alt="image-20251012201058852"
	
	
		class="gallery-image" 
		data-flex-grow="148"
		data-flex-basis="355px"
	
></p>
<p>è¿›ç¨‹å…·æœ‰ç‹¬ç«‹æ€§ï¼š</p>
<ol>
<li><span style="color: #8080FF;">å†…æ ¸æ•°æ®ç»“æ„</span>ç‹¬ç«‹</li>
<li>åŠ è½½è¿›å…¥å†…å­˜çš„<span style="color: #8080FF;">ä»£ç å’Œæ•°æ®</span>ç‹¬ç«‹</li>
</ol>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/linux%E8%BF%9B%E9%98%B6/">Linuxè¿›é˜¶</a>
        
            <a href="/tags/%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/">è¿›ç¨‹ç®¡ç†</a>
        
            <a href="/tags/%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/">ç¯å¢ƒå˜é‡</a>
        
            <a href="/tags/%E5%9C%B0%E5%9D%80%E7%A9%BA%E9%97%B4/">åœ°å€ç©ºé—´</a>
        
    </section>


    
</footer>


    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">ç›¸å…³æ–‡ç« </h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="has-image">
    <a href="/p/linux-interprocess-communication/">
        
        
            <div class="article-image">
                <img src="/p/linux-interprocess-communication/%E3%80%90%E5%93%B2%E9%A3%8E%E5%A3%81%E7%BA%B8%E3%80%91%E5%A4%95%E9%98%B3-%E6%8F%92%E7%94%BB-%E6%A2%A6%E5%B9%BB%E5%B0%8F%E5%B1%8B.c9fc95b3b458f211363640c957d64c3b_hu_be2653989c4bea76.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post ã€Linuxç³»ç»Ÿç¼–ç¨‹ã€‘08è¿›ç¨‹é—´é€šä¿¡"
                        data-key="linux-interprocess-communication" 
                        data-hash="md5-yfyVs7RY8hE2NkDJV9ZMOw==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">ã€Linuxç³»ç»Ÿç¼–ç¨‹ã€‘08è¿›ç¨‹é—´é€šä¿¡</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/linux-process-control/">
        
        
            <div class="article-image">
                <img src="/p/linux-process-control/%E3%80%90%E5%93%B2%E9%A3%8E%E5%A3%81%E7%BA%B8%E3%80%91%E5%9F%8E%E5%B8%82-%E5%A4%95%E9%98%B3.425192012b5ffa0b939bfaa25c31245b_hu_d59cb710464abe1b.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post ã€Linuxç³»ç»Ÿç¼–ç¨‹ã€‘04è¿›ç¨‹æ§åˆ¶"
                        data-key="linux-process-control" 
                        data-hash="md5-QlGSAStf&#43;guTm/qiXDEkWw==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">ã€Linuxç³»ç»Ÿç¼–ç¨‹ã€‘04è¿›ç¨‹æ§åˆ¶</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/linux-basic-io/">
        
        
            <div class="article-image">
                <img src="/p/linux-basic-io/%E3%80%90%E5%93%B2%E9%A3%8E%E5%A3%81%E7%BA%B8%E3%80%91%E5%9F%8E%E5%B8%82-%E5%A4%95%E9%98%B3.425192012b5ffa0b939bfaa25c31245b_hu_d59cb710464abe1b.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post ã€Linuxç³»ç»Ÿç¼–ç¨‹ã€‘05åŸºç¡€IO"
                        data-key="linux-basic-io" 
                        data-hash="md5-QlGSAStf&#43;guTm/qiXDEkWw==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">ã€Linuxç³»ç»Ÿç¼–ç¨‹ã€‘05åŸºç¡€IO</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/linux-thread/">
        
        
            <div class="article-image">
                <img src="/p/linux-thread/%E3%80%90%E5%93%B2%E9%A3%8E%E5%A3%81%E7%BA%B8%E3%80%91%E5%A4%95%E9%98%B3-%E6%8F%92%E7%94%BB-%E6%A2%A6%E5%B9%BB%E5%B0%8F%E5%B1%8B.c9fc95b3b458f211363640c957d64c3b_hu_be2653989c4bea76.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post ã€Linuxç³»ç»Ÿç¼–ç¨‹ã€‘10çº¿ç¨‹æ¦‚å¿µä¸æ§åˆ¶"
                        data-key="linux-thread" 
                        data-hash="md5-yfyVs7RY8hE2NkDJV9ZMOw==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">ã€Linuxç³»ç»Ÿç¼–ç¨‹ã€‘10çº¿ç¨‹æ¦‚å¿µä¸æ§åˆ¶</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/linux-basic-instruction/">
        
        
            <div class="article-image">
                <img src="/p/linux-basic-instruction/%E3%80%90%E5%93%B2%E9%A3%8E%E5%A3%81%E7%BA%B8%E3%80%91%E5%9F%8E%E5%B8%82-%E5%A4%95%E9%98%B3.425192012b5ffa0b939bfaa25c31245b_hu_d59cb710464abe1b.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post ã€Linuxç³»ç»Ÿç¼–ç¨‹ã€‘01åˆå§‹Linux&#43;åŸºç¡€æŒ‡ä»¤"
                        data-key="linux-basic-instruction" 
                        data-hash="md5-QlGSAStf&#43;guTm/qiXDEkWw==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">ã€Linuxç³»ç»Ÿç¼–ç¨‹ã€‘01åˆå§‹Linux&#43;åŸºç¡€æŒ‡ä»¤</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
        2025 PursUnre
    </section>
    
    <section class="powerby">
        ä½¿ç”¨ <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> æ„å»º <br />
        ä¸»é¢˜ <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.31.0">Stack</a></b> ç”± <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a> è®¾è®¡
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.9c1a6570230d4822a0bae7b9729a4d803a1d6e81a2ebc4dbb042dd1c2902034a.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>
<script>
  

  const live2d_path = "https://fastly.jsdelivr.net/npm/live2d-widgets@1.0.0-rc.6/dist/";
  const cssPath = "https://Amarantos-Arrebol.github.io/waifu/waifu.css"
  const waifuTipsJsonPath = "https://Amarantos-Arrebol.github.io/waifu/waifu-tips.json"

  function loadExternalResource(url, type) {
    return new Promise((resolve, reject) => {
      let tag;
      if (type === "css") {
        tag = document.createElement("link");
        tag.rel = "stylesheet";
        tag.href = url;
      } else if (type === "js") {
        tag = document.createElement("script");
        tag.type = "module";
        tag.src = url;
      }
      if (tag) {
        tag.onload = () => resolve(url);
        tag.onerror = () => reject(url);
        document.head.appendChild(tag);
      }
    });
  }

  (async () => {
    const OriginalImage = window.Image;
    window.Image = function (...args) {
      const img = new OriginalImage(...args);
      img.crossOrigin = "anonymous";
      return img;
    };
    window.Image.prototype = OriginalImage.prototype;
    await Promise.all([
      loadExternalResource(cssPath, "css"),
      loadExternalResource(live2d_path + "waifu-tips.js", "js"),
    ]);
    initWidget({
      waifuPath: waifuTipsJsonPath,
      cubism2Path: live2d_path + "live2d.min.js",
      cubism5Path: "https://cubism.live2d.com/sdk-web/cubismcore/live2dcubismcore.min.js",
      tools: ["hitokoto", "asteroids", "switch-model", "switch-texture", "photo", "info", "quit"],
      logLevel: "warn",
      drag: false,
    });
  })();

  
  function initTocActiveç²¾å‡†() {
    
    const tocContainer = document.querySelector("#TableOfContents");
    const articleTitles = document.querySelectorAll("article h1, article h2, article h3, article h4, article h5, article h6");
    if (!tocContainer || !articleTitles.length) return;

    
    const titleTocMap = new Map();
    tocContainer.querySelectorAll("a").forEach(tocLink => {
      const href = tocLink.getAttribute("href");
      if (href && href.startsWith("#")) {
        const targetId = href.slice(1); 
        const targetTitle = document.getElementById(targetId);
        if (targetTitle) {
          titleTocMap.set(targetTitle, tocLink.parentElement); 
        }
      }
    });

    
    function handleTocFold() {
      
      let openUl = document.querySelectorAll(".open");
      if (openUl.length > 0) {
        openUl.forEach((ul) => {
          ul.classList.remove("open");
        });
      }
      
      let currentLi = document.querySelector(".active-class");
      if (!currentLi) return;
      
      if (currentLi.children.length > 1) {
        currentLi.children[1].classList.add("open");
      }
      
      let ul = currentLi.parentElement;
      do {
        ul.classList.add("open");
        ul = ul.parentElement?.parentElement;
      } while (ul !== undefined && (ul.localName === 'ul' || ul.localName === 'ol'));
    }

    
    function updateActiveToc() {
      
      tocContainer.querySelectorAll(".active-class").forEach(li => {
        li.classList.remove("active-class");
      });

      let currentActiveTitle = null;
      const scrollTop = window.scrollY + 100; 

      
      articleTitles.forEach(title => {
        const titleTop = title.getBoundingClientRect().top + window.scrollY;
        if (titleTop <= scrollTop) {
          currentActiveTitle = title;
        }
      });

      
      if (currentActiveTitle && titleTocMap.has(currentActiveTitle)) {
        const activeLi = titleTocMap.get(currentActiveTitle);
        activeLi.classList.add("active-class");
      }

      
      handleTocFold();
    }

    
    function throttle(fn, delay = 100) {
      let timer = null;
      return () => {
        if (!timer) {
          timer = setTimeout(() => {
            fn();
            timer = null;
          }, delay);
        }
      };
    }

    
    window.addEventListener("scroll", throttle(updateActiveToc));
    updateActiveToc(); 
  }

  
  document.addEventListener("DOMContentLoaded", initTocActiveç²¾å‡†);
</script>


<style>
   
  #TableOfContents,
  #TableOfContents ul,
  #TableOfContents ol {
    list-style: none !important;  
    padding-left: 0 !important;
    margin: 0 !important;
    box-sizing: border-box;
  }

   
  #TableOfContents > ul ul,
  #TableOfContents > ul ol,
  #TableOfContents > ol ul,
  #TableOfContents > ol ol {
    display: none !important;  
  }
  #TableOfContents .open {
    display: block !important;  
  }

   
  #TableOfContents ul ul,
  #TableOfContents ol ol {
    padding-left: 16px !important;
  }

   
  #TableOfContents * {
    font-weight: normal !important;
    font-weight: 400 !important;
  }

   
  #TableOfContents .active-class > a {
    color: #3ed1c2 !important;
    font-weight: normal !important;
  }

   
  #TableOfContents strong,
  #TableOfContents b,
  #TableOfContents a strong {
    font-weight: normal !important;
  }
</style>






<div id="particles-js"></div>

<script src=https://Amarantos-Arrebol.github.io/background/particles.min.js></script>
<script>
  particlesJS.load('particles-js', "https://Amarantos-Arrebol.github.io/background/particlesjs-config.json", function() {
    console.log('particles.js loaded - callback');
  });
</script>

<style>
  #particles-js {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    z-index: -1;
  }
</style>

    </body>
</html>
