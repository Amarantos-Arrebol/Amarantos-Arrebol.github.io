<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>AVL树 on PursUnre的博客</title>
        <link>https://Amarantos-Arrebol.github.io/tags/avl%E6%A0%91/</link>
        <description>Recent content in AVL树 on PursUnre的博客</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>zh-cn</language>
        <copyright>PursUnre</copyright>
        <lastBuildDate>Mon, 10 Nov 2025 07:05:33 +0000</lastBuildDate><atom:link href="https://Amarantos-Arrebol.github.io/tags/avl%E6%A0%91/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>【C&#43;&#43;进阶】05AVL树实现</title>
        <link>https://Amarantos-Arrebol.github.io/p/avl/</link>
        <pubDate>Sun, 02 Nov 2025 00:00:00 +0000</pubDate>
        
        <guid>https://Amarantos-Arrebol.github.io/p/avl/</guid>
        <description>&lt;img src="https://Amarantos-Arrebol.github.io/p/avl/%E3%80%90%E5%93%B2%E9%A3%8E%E5%A3%81%E7%BA%B8%E3%80%91AI%E7%BE%8E%E5%A5%B3-%E5%8A%A8%E6%BC%AB.png" alt="Featured image of post 【C&#43;&#43;进阶】05AVL树实现" /&gt;&lt;h1 id=&#34;1avl树的基本介绍&#34;&gt;1.AVL树的基本介绍
&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;二叉搜索树(左&lt;根&lt;右) 在有些极端情况下，会退化成单链表，并且各种操作的效率也会下降。因此我们需要一些特别的手段保证这个二叉树的“平衡”，进而保证各种操作的效率，即平衡二叉树&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;平衡二叉树，也称AVL树，它是具有以下性质的二叉搜索树：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;左右子树分别也是平衡二叉树&lt;/li&gt;
&lt;li&gt;左右子树的高度差的绝对值不超过1&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;AVL树高度可以控制在logN，增删查改的效率也可以控制在O(logN)&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;AVL树中引入了一个平衡因子的概念&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;每个结点都有一个平衡因子，平衡因子等于右子树的高度减去左子树的高度&lt;/li&gt;
&lt;li&gt;任何一个结点的平衡因子的值只会是 -1 或 0 或 1 (平衡二叉树要求左右子树的高度差不超过1)&lt;/li&gt;
&lt;li&gt;通过平衡因子，可以更方便我们去观察和控制树是否平衡&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;判断是不是平衡二叉树，只需要看&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;是不是二叉搜索树&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;左右子树的平衡因子是不是取值为 -1 或 0 或 1&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;为什么AVL树是高度平衡搜索二叉树，要求高度差不超过1，而不是高度差是0呢？0不是更好的平衡吗？&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;画画图分析我们发现，不是不想这样设计，而是有些情况是做不到高度差是0的。&lt;/p&gt;
&lt;p&gt;比如一棵树是2个结点，4个结点等情况下，高度差最好就是1，无法做到高度差是0&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&#34;2avl树的实现&#34;&gt;2.AVL树的实现
&lt;/h1&gt;&lt;h2 id=&#34;21-avl树的结构&#34;&gt;2.1 AVL树的结构
&lt;/h2&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;template&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;K&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;V&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;AVLTreeNode&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;n&#34;&gt;pair&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;K&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;V&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;_kv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;n&#34;&gt;AVLTreeNode&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;K&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;V&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;_left&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;n&#34;&gt;AVLTreeNode&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;K&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;V&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;_right&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;n&#34;&gt;AVLTreeNode&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;K&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;V&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;_parent&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;//后续更新平衡因子可以看到
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;	&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;_bf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// 平衡因子
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;n&#34;&gt;AVLTreeNode&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pair&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;K&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;V&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;amp;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;kv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;_kv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;kv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;_left&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;nullptr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;_right&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;nullptr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;_parent&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;nullptr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;_bf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;template&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;K&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;V&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;AVLTree&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;typedef&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;AVLTreeNode&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;K&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;V&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Node&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;public&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;private&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;n&#34;&gt;Node&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;_root&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;nullptr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;22-avl树的插入&#34;&gt;2.2 AVL树的插入
&lt;/h2&gt;&lt;p&gt;按照二叉搜索树的规则插入一个值，新增一个结点后，它根上结点的平衡因子的绝对值可能大于1，所以需要从新增节点开始向上更新路径上的平衡因子&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;更新平衡因子过程中没有出现问题，则插入结束&lt;/li&gt;
&lt;li&gt;更新平衡因子过程中出现不平衡，就对不平衡子树旋转。旋转本质是调平衡的同时，降低了子树的高度，不会再影响上一层，所以插入结束&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;平衡因子=右子树的高度-左子树的高度&lt;/p&gt;
&lt;p&gt;只有高度变化才会影响当前结点平衡因子&lt;/p&gt;
&lt;p&gt;插入结点，会增加高度，所以&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;新增结点在parent的右子树，parent的平衡因子++&lt;/li&gt;
&lt;li&gt;新增结点在parent的左子树，parent平衡因子&amp;ndash;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;parent所在子树的高度是否变化，决定了是否会继续往上更新&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://Amarantos-Arrebol.github.io/p/avl/index.assets/image-20251109151444226.png&#34;
	width=&#34;680&#34;
	height=&#34;491&#34;
	srcset=&#34;https://Amarantos-Arrebol.github.io/p/avl/index.assets/image-20251109151444226_hu_37fa027b9fbd3901.png 480w, https://Amarantos-Arrebol.github.io/p/avl/index.assets/image-20251109151444226_hu_2eea4e35e1100cad.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20251109151444226&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;138&#34;
		data-flex-basis=&#34;332px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;更新停止条件&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;更新后parent的平衡因子等于0&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;说明更新前parent子树一边高一边低，更新后parent所在的子树高度不变，不会影响parent的父节点的平衡因子，更新结束&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;更新后parent的平衡因子等于1/-1&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;说明更新前parent两边子树一样高，更新后导致parent的子树一边高一边低，虽然parent的平衡因子符合要求，但是高度增加了1，会影响parent父亲结点的平衡因子，所以要继续向上更新&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;更新后parent的平衡因子等于2/-2&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;说明更新前parent子树就是一边高一边低，新增节点是往高的那一边插入的，导致parent子树高的一边更高了，已经不平衡了，需要旋转。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;旋转的两个目标：1.把parent子树旋转平衡 2.降低parent子树的高度，恢复到插入结点以前的高度&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;所以旋转后也不需要继续往上更新，插入结束&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;不断更新，更新到根，根的平衡因子是1或-1也停止&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://Amarantos-Arrebol.github.io/p/avl/index.assets/image-20251109161204869.png&#34;
	width=&#34;650&#34;
	height=&#34;429&#34;
	srcset=&#34;https://Amarantos-Arrebol.github.io/p/avl/index.assets/image-20251109161204869_hu_cb96ef6c06932d0c.png 480w, https://Amarantos-Arrebol.github.io/p/avl/index.assets/image-20251109161204869_hu_ebabcd292e22043d.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20251109161204869&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;151&#34;
		data-flex-basis=&#34;363px&#34;
	
&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;23-旋转&#34;&gt;2.3 旋转
&lt;/h2&gt;&lt;h3 id=&#34;231-旋转的原则&#34;&gt;2.3.1 旋转的原则
&lt;/h3&gt;&lt;p&gt;parent的平衡因子等于2/-2，需要旋转&lt;/p&gt;
&lt;p&gt;旋转的两个目标：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;把parent子树旋转平衡&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;降低parent子树的高度，恢复到插入结点以前的高度&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;平衡二叉树的查找、插入以及删除操作基本上与二叉搜索树一致，但需要处理操作之后的“失衡”。&lt;/p&gt;
&lt;p&gt;重点需要掌握两种处理失衡的操作：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;左旋
&lt;ol&gt;
&lt;li&gt;让该节点成为右孩子的左子树&lt;/li&gt;
&lt;li&gt;右孩子原本的左子树成为该结点的左子树&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;右旋
&lt;ol&gt;
&lt;li&gt;让该节点成为左孩子的右子树&lt;/li&gt;
&lt;li&gt;左孩子原本的右子树成为该结点的左子树&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;232-右单旋&#34;&gt;2.3.2 右单旋
&lt;/h3&gt;&lt;h3 id=&#34;233-左单旋&#34;&gt;2.3.3 左单旋
&lt;/h3&gt;&lt;h3 id=&#34;234-左右双旋&#34;&gt;2.3.4 左右双旋
&lt;/h3&gt;&lt;h3 id=&#34;235-右左双旋&#34;&gt;2.3.5 右左双旋
&lt;/h3&gt;&lt;h2 id=&#34;24-avl树的查找&#34;&gt;2.4 AVL树的查找
&lt;/h2&gt;&lt;h2 id=&#34;25-avl树平衡检测&#34;&gt;2.5 AVL树平衡检测
&lt;/h2&gt;&lt;h2 id=&#34;26-avl树的删除&#34;&gt;2.6 AVL树的删除
&lt;/h2&gt;</description>
        </item>
        
    </channel>
</rss>
