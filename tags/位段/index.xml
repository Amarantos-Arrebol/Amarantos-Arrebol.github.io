<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>位段 on PursUnre的博客</title>
        <link>https://Amarantos-Arrebol.github.io/tags/%E4%BD%8D%E6%AE%B5/</link>
        <description>Recent content in 位段 on PursUnre的博客</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>zh-cn</language>
        <copyright>PursUnre</copyright>
        <lastBuildDate>Mon, 24 Nov 2025 13:34:57 +0000</lastBuildDate><atom:link href="https://Amarantos-Arrebol.github.io/tags/%E4%BD%8D%E6%AE%B5/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>【C语言基础】结构体</title>
        <link>https://Amarantos-Arrebol.github.io/p/c-struct/</link>
        <pubDate>Sun, 02 Nov 2025 00:00:00 +0000</pubDate>
        
        <guid>https://Amarantos-Arrebol.github.io/p/c-struct/</guid>
        <description>&lt;img src="https://Amarantos-Arrebol.github.io/p/c-struct/04.png" alt="Featured image of post 【C语言基础】结构体" /&gt;&lt;h2 id=&#34;引言&#34;&gt;引言
&lt;/h2&gt;&lt;p&gt;C语言中的数据类型分为内置类型和自定义类型&lt;/p&gt;
&lt;p&gt;其中内置类型就是C语言本身就有的数据类型，比如我们学过的char,short,int,long,float,double…
自定义类型包括结构体、枚举、联合体&lt;/p&gt;
&lt;p&gt;由于内置类型能描述的数据有限，无法直接描述像人和书这样的复杂对象&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;比如:
如果我们想描述学生，那么学生一定有姓名（字符型），年龄（整型），成绩（浮点型），学号（整型）…&lt;/p&gt;
&lt;p&gt;如果我们想描述书，那么书一定有书名（字符型），作者（字符型），价格（浮点型）…&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;因此，这个时候我们就需要使用C语言中的自定义类型来自己创造这些复杂类型，用来描述复杂对象&lt;/p&gt;
&lt;h2 id=&#34;一-结构体入门&#34;&gt;一. 结构体入门：
&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;结构是一些值的集合，这些值被称为成员变量
结构体的每个成员可以是&lt;code&gt;不同类型&lt;/code&gt;的变量（数组的每个成员必须是相同类型的变量）
结构体成员的类型可以是基本数据类型，数组，指针，甚至是结构体&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;11-结构体类型的声明&#34;&gt;1.1 结构体类型的声明
&lt;/h3&gt;&lt;p&gt;一般结构体的声明：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tag&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;n&#34;&gt;member&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;list&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;variable&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;list&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;//注意：分号不能少
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;struct：结构体的关键字
tag：结构体标签，可以随意替换，比如要描述书，就可以用Book，描述学生，就可以用Student
member - list：成员列表，由一个或多个成员变量组成
variable-list：变量列表&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;例如：如果我们想要创建一个学生对象，我们需要先声明学生类型，那么我们如何描述学生的属性呢？我们知道学生一定有姓名，年龄，性别，手机号等信息。因此，简单的学生结构体类型声明如下
&lt;img src=&#34;https://Amarantos-Arrebol.github.io/p/c-struct/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E7%BB%93%E6%9E%84%E4%BD%93.assets/cd44f1fbb31568c74493ad0180f94a3d.png&#34;
	width=&#34;855&#34;
	height=&#34;340&#34;
	
	loading=&#34;lazy&#34;
	
		alt=&#34;在这里插入图片描述&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;251&#34;
		data-flex-basis=&#34;603px&#34;
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;12-结构体变量的创建和初始化&#34;&gt;1.2 结构体变量的创建和初始化
&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;结构体变量的创建&lt;/strong&gt;
结构体变量可以在声明的时候就创建
结构体既可以创建全局变量，也可以创建局部变量
&lt;img src=&#34;https://Amarantos-Arrebol.github.io/p/c-struct/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E7%BB%93%E6%9E%84%E4%BD%93.assets/c689c8b073466aa71bd985935719e205.png&#34;
	width=&#34;479&#34;
	height=&#34;661&#34;
	
	loading=&#34;lazy&#34;
	
		alt=&#34;在这里插入图片描述&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;72&#34;
		data-flex-basis=&#34;173px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;结构体的初始化&lt;/strong&gt;
结构体的初始化要使用大括号（数组初始化时也要用大括号）
结构体的初始化可以用通过两种方式，一种是按顺序来初始化，一种是不按顺序来初始化&lt;/p&gt;
&lt;p&gt;（1）按顺序来初始化
按照结构体类型声明时成员的顺序，给创建的结构体变量赋初始值&lt;/p&gt;
&lt;p&gt;一般初始化：
&lt;img src=&#34;https://Amarantos-Arrebol.github.io/p/c-struct/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E7%BB%93%E6%9E%84%E4%BD%93.assets/5358f66538484eb0b22b1e64eecf5981.png&#34;
	width=&#34;742&#34;
	height=&#34;558&#34;
	
	loading=&#34;lazy&#34;
	
		alt=&#34;在这里插入图片描述&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;132&#34;
		data-flex-basis=&#34;319px&#34;
	
&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;上面结构体成员声明的顺序是name，age，score，所以初始化的时候也按照这个顺序来初始化&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;结构体的成员是结构体类型时的初始化：
&lt;img src=&#34;https://Amarantos-Arrebol.github.io/p/c-struct/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E7%BB%93%E6%9E%84%E4%BD%93.assets/c14aa3a167b541259988917bdeb53452.png&#34;
	width=&#34;605&#34;
	height=&#34;538&#34;
	
	loading=&#34;lazy&#34;
	
		alt=&#34;在这里插入图片描述&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;112&#34;
		data-flex-basis=&#34;269px&#34;
	
&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;结构体的初始化是一层一层往下初始化的，所以当结构体的成员是结构体类型时，我们要先初始化结构体
然后再对结构体里的成员初始化&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;（2）不按顺序初始化
通过 &lt;code&gt;.成员名=初始值&lt;/code&gt; 的方式初始化，可以不考虑顺序
&lt;img src=&#34;https://Amarantos-Arrebol.github.io/p/c-struct/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E7%BB%93%E6%9E%84%E4%BD%93.assets/482dd09c8f6641718ee47c11f7dfdfc4.png&#34;
	width=&#34;1244&#34;
	height=&#34;542&#34;
	
	loading=&#34;lazy&#34;
	
		alt=&#34;在这里插入图片描述&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;229&#34;
		data-flex-basis=&#34;550px&#34;
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;12-结构体的成员访问&#34;&gt;1.2 结构体的成员访问
&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;直接访问&lt;/strong&gt;
结构体变量访问成员通过点操作符（.）来完成的
语法：&lt;code&gt;结构体变量名.成员变量名&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;例子1：
&lt;img src=&#34;https://Amarantos-Arrebol.github.io/p/c-struct/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E7%BB%93%E6%9E%84%E4%BD%93.assets/278fc6172c1941eab7c8db97855537c4.png&#34;
	width=&#34;772&#34;
	height=&#34;832&#34;
	
	loading=&#34;lazy&#34;
	
		alt=&#34;在这里插入图片描述&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;92&#34;
		data-flex-basis=&#34;222px&#34;
	
&gt;
运行结果：
&lt;img src=&#34;https://Amarantos-Arrebol.github.io/p/c-struct/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E7%BB%93%E6%9E%84%E4%BD%93.assets/250b3ec98e0e49ffa2ca75946452f450.png&#34;
	width=&#34;426&#34;
	height=&#34;194&#34;
	
	loading=&#34;lazy&#34;
	
		alt=&#34;在这里插入图片描述&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;219&#34;
		data-flex-basis=&#34;527px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;例子2：
&lt;img src=&#34;https://Amarantos-Arrebol.github.io/p/c-struct/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E7%BB%93%E6%9E%84%E4%BD%93.assets/97d877036e1e44d788757a7f26208127.png&#34;
	width=&#34;882&#34;
	height=&#34;931&#34;
	
	loading=&#34;lazy&#34;
	
		alt=&#34;在这里插入图片描述&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;94&#34;
		data-flex-basis=&#34;227px&#34;
	
&gt;
运行结果：
&lt;img src=&#34;https://Amarantos-Arrebol.github.io/p/c-struct/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E7%BB%93%E6%9E%84%E4%BD%93.assets/7b6ea28339f6401ab074946f99720178.png&#34;
	width=&#34;415&#34;
	height=&#34;187&#34;
	
	loading=&#34;lazy&#34;
	
		alt=&#34;在这里插入图片描述&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;221&#34;
		data-flex-basis=&#34;532px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;间接访问&lt;/strong&gt;
如果我们拿到的是指向结构体变量的&lt;strong&gt;指针&lt;/strong&gt;(地址)，那么我们就可以通过结构体访问操作符 (-&gt;) 加成员名的方式，来访问结构体成员&lt;/p&gt;
&lt;p&gt;同时，这种方式也可以用来修改结构体成员里保存的值&lt;/p&gt;
&lt;p&gt;语法：&lt;code&gt;结构体指针-&amp;gt;成员名&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;例如：
&lt;img src=&#34;https://Amarantos-Arrebol.github.io/p/c-struct/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E7%BB%93%E6%9E%84%E4%BD%93.assets/fab59a69ffeb403a8bb02f0fbb7e22fc.png&#34;
	width=&#34;673&#34;
	height=&#34;523&#34;
	
	loading=&#34;lazy&#34;
	
		alt=&#34;在这里插入图片描述&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;128&#34;
		data-flex-basis=&#34;308px&#34;
	
&gt;
在上面这段代码中，我们拿到结构体变量p的地址，用结构体指针变量ptr来接收，通过ptr-&amp;gt;x的方式，
我们就可以访问结构体变量p里的成员x，通过ptr-&amp;gt;x = 10 就可以将成员 x 存放的值(3)修改为10&lt;/p&gt;
&lt;h3 id=&#34;15-typedef-与-结构体&#34;&gt;1.5 typedef 与 结构体
&lt;/h3&gt;&lt;p&gt;typedef就是给&lt;strong&gt;类型&lt;/strong&gt;重新取一个名字
有时候，结构体的类型名可能比较复杂，这时我们就可以使用 typedef 来简化结构类型的名字&lt;/p&gt;
&lt;p&gt;比如：
一个结构体的类型名为struct Stu 我们可以使用 typedef 将该类型重命名为Stu
那么这个时候，我们既可以使用struct Stu来创建变量，也可以使用Stu来创建变量&lt;/p&gt;
&lt;p&gt;typedef 重新定义结构体类型有两种方式
方式一：
&lt;img src=&#34;https://Amarantos-Arrebol.github.io/p/c-struct/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E7%BB%93%E6%9E%84%E4%BD%93.assets/d01368f340a34c21b42d3b825948b541.png&#34;
	width=&#34;543&#34;
	height=&#34;584&#34;
	
	loading=&#34;lazy&#34;
	
		alt=&#34;在这里插入图片描述&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;92&#34;
		data-flex-basis=&#34;223px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;方式二：
&lt;img src=&#34;https://Amarantos-Arrebol.github.io/p/c-struct/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E7%BB%93%E6%9E%84%E4%BD%93.assets/bd4c19d0dba14f6e9454cbb4b167dbaf.png&#34;
	width=&#34;668&#34;
	height=&#34;627&#34;
	
	loading=&#34;lazy&#34;
	
		alt=&#34;在这里插入图片描述&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;106&#34;
		data-flex-basis=&#34;255px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;注意：此时的Stu是类型，不是变量&lt;/p&gt;
&lt;h3 id=&#34;15-结构体传参&#34;&gt;1.5 结构体传参
&lt;/h3&gt;&lt;p&gt;结构体传参分为 &lt;code&gt;拷贝结构体数据&lt;/code&gt; 和 &lt;code&gt;拷贝结构体的地址&lt;/code&gt;
既然有两种结构体传参方式，那我们在写有关结构体传参的函数时应该选择哪种传参方式呢？&lt;/p&gt;
&lt;p&gt;先看一段代码：
&lt;img src=&#34;https://Amarantos-Arrebol.github.io/p/c-struct/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E7%BB%93%E6%9E%84%E4%BD%93.assets/6496c4995e854bcea0677c888f545f14.png&#34;
	width=&#34;699&#34;
	height=&#34;550&#34;
	
	loading=&#34;lazy&#34;
	
		alt=&#34;在这里插入图片描述&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;127&#34;
		data-flex-basis=&#34;305px&#34;
	
&gt;
在上面这段代码中，我们先是创建了一个结构体变量s，然后想写一个函数将s里的数据打印出来，
这时，我们发现 在函数的参数部分，我们既可以传结构体的地址，也可以传结构体数据的拷贝
两个函数的实现如下：
&lt;img src=&#34;https://Amarantos-Arrebol.github.io/p/c-struct/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E7%BB%93%E6%9E%84%E4%BD%93.assets/bafaea95c30440928dac37cdc758b15c.png&#34;
	width=&#34;598&#34;
	height=&#34;567&#34;
	
	loading=&#34;lazy&#34;
	
		alt=&#34;在这里插入图片描述&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;105&#34;
		data-flex-basis=&#34;253px&#34;
	
&gt;
如果传的是结构体的数据&lt;/p&gt;
&lt;h3 id=&#34;13-匿名结构体&#34;&gt;1.3 匿名结构体
&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;匿名结构体类型的声明&lt;/strong&gt;
匿名结构体类型指的是结构体类型没有名字&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://Amarantos-Arrebol.github.io/p/c-struct/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E7%BB%93%E6%9E%84%E4%BD%93.assets/446052d2eb494d7bbdd115d2017f7505.png&#34;
	width=&#34;299&#34;
	height=&#34;234&#34;
	
	loading=&#34;lazy&#34;
	
		alt=&#34;在这里插入图片描述&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;127&#34;
		data-flex-basis=&#34;306px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;需要注意的是：
匿名结构体的类型&lt;code&gt;只能用一次&lt;/code&gt;，也就是【只能在类型声明的同时，直接用这个类型创建变量】
因为如果之后再创建结构体变量，需要&lt;code&gt;类型名+变量名&lt;/code&gt;的方式创建，但由于匿名结构体类型没有类型名
所以无法创建
&lt;img src=&#34;https://Amarantos-Arrebol.github.io/p/c-struct/%E3%80%90C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E3%80%91%E7%BB%93%E6%9E%84%E4%BD%93.assets/85fd81f68f0044f9a9ec0a6f7ea23049.png&#34;
	width=&#34;324&#34;
	height=&#34;247&#34;
	
	loading=&#34;lazy&#34;
	
		alt=&#34;在这里插入图片描述&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;131&#34;
		data-flex-basis=&#34;314px&#34;
	
&gt;
&lt;strong&gt;匿名结构体类型的应用&lt;/strong&gt;
定义两个结构体类型，并且它们的成员相同&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;struct&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;kt&#34;&gt;double&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;s1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;struct&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;kt&#34;&gt;double&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ps&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;//匿名结构体的指针类型
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;但是，运行下面这段代码时会报错&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;n&#34;&gt;ps&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;s1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;//报错
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;原因是虽然这两个结构体的成员相同，但是它们都是没有名字的，
编译器会认为这是两个不同结构体类型的变量&lt;/p&gt;
&lt;h2 id=&#34;二结构体进阶&#34;&gt;二、结构体进阶
&lt;/h2&gt;&lt;h3 id=&#34;21-结构体的自引用&#34;&gt;2.1 结构体的自引用
&lt;/h3&gt;&lt;h3 id=&#34;22-结构体内存对齐&#34;&gt;2.2 结构体内存对齐
&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;结构体内存对齐&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;23-结构体实现位段位段的填充可移植性&#34;&gt;2.3 结构体实现位段（位段的填充&amp;amp;可移植性）
&lt;/h3&gt;&lt;h3 id=&#34;24-结构体与指针&#34;&gt;2.4 结构体与指针
&lt;/h3&gt;</description>
        </item>
        
    </channel>
</rss>
